function zw(r,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in r)){const l=Object.getOwnPropertyDescriptor(s,o);l&&Object.defineProperty(r,o,l.get?l:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function fc(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var af={exports:{}},Pa={},lf={exports:{}},Me={};var sg;function $w(){if(sg)return Me;sg=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.iterator;function A(V){return V===null||typeof V!="object"?null:(V=T&&V[T]||V["@@iterator"],typeof V=="function"?V:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,x={};function M(V,H,me){this.props=V,this.context=H,this.refs=x,this.updater=me||U}M.prototype.isReactComponent={},M.prototype.setState=function(V,H){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,H,"setState")},M.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function Z(){}Z.prototype=M.prototype;function se(V,H,me){this.props=V,this.context=H,this.refs=x,this.updater=me||U}var ae=se.prototype=new Z;ae.constructor=se,q(ae,M.prototype),ae.isPureReactComponent=!0;var Ee=Array.isArray,Ie=Object.prototype.hasOwnProperty,Se={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function I(V,H,me){var ye,Ae={},xe=null,Oe=null;if(H!=null)for(ye in H.ref!==void 0&&(Oe=H.ref),H.key!==void 0&&(xe=""+H.key),H)Ie.call(H,ye)&&!N.hasOwnProperty(ye)&&(Ae[ye]=H[ye]);var Ve=arguments.length-2;if(Ve===1)Ae.children=me;else if(1<Ve){for(var Ue=Array(Ve),He=0;He<Ve;He++)Ue[He]=arguments[He+2];Ae.children=Ue}if(V&&V.defaultProps)for(ye in Ve=V.defaultProps,Ve)Ae[ye]===void 0&&(Ae[ye]=Ve[ye]);return{$$typeof:r,type:V,key:xe,ref:Oe,props:Ae,_owner:Se.current}}function C(V,H){return{$$typeof:r,type:V.type,key:H,ref:V.ref,props:V.props,_owner:V._owner}}function k(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function P(V){var H={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(me){return H[me]})}var L=/\/+/g;function R(V,H){return typeof V=="object"&&V!==null&&V.key!=null?P(""+V.key):H.toString(36)}function le(V,H,me,ye,Ae){var xe=typeof V;(xe==="undefined"||xe==="boolean")&&(V=null);var Oe=!1;if(V===null)Oe=!0;else switch(xe){case"string":case"number":Oe=!0;break;case"object":switch(V.$$typeof){case r:case e:Oe=!0}}if(Oe)return Oe=V,Ae=Ae(Oe),V=ye===""?"."+R(Oe,0):ye,Ee(Ae)?(me="",V!=null&&(me=V.replace(L,"$&/")+"/"),le(Ae,H,me,"",function(He){return He})):Ae!=null&&(k(Ae)&&(Ae=C(Ae,me+(!Ae.key||Oe&&Oe.key===Ae.key?"":(""+Ae.key).replace(L,"$&/")+"/")+V)),H.push(Ae)),1;if(Oe=0,ye=ye===""?".":ye+":",Ee(V))for(var Ve=0;Ve<V.length;Ve++){xe=V[Ve];var Ue=ye+R(xe,Ve);Oe+=le(xe,H,me,Ue,Ae)}else if(Ue=A(V),typeof Ue=="function")for(V=Ue.call(V),Ve=0;!(xe=V.next()).done;)xe=xe.value,Ue=ye+R(xe,Ve++),Oe+=le(xe,H,me,Ue,Ae);else if(xe==="object")throw H=String(V),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return Oe}function ne(V,H,me){if(V==null)return V;var ye=[],Ae=0;return le(V,ye,"","",function(xe){return H.call(me,xe,Ae++)}),ye}function te(V){if(V._status===-1){var H=V._result;H=H(),H.then(function(me){(V._status===0||V._status===-1)&&(V._status=1,V._result=me)},function(me){(V._status===0||V._status===-1)&&(V._status=2,V._result=me)}),V._status===-1&&(V._status=0,V._result=H)}if(V._status===1)return V._result.default;throw V._result}var oe={current:null},$={transition:null},X={ReactCurrentDispatcher:oe,ReactCurrentBatchConfig:$,ReactCurrentOwner:Se};function K(){throw Error("act(...) is not supported in production builds of React.")}return Me.Children={map:ne,forEach:function(V,H,me){ne(V,function(){H.apply(this,arguments)},me)},count:function(V){var H=0;return ne(V,function(){H++}),H},toArray:function(V){return ne(V,function(H){return H})||[]},only:function(V){if(!k(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Me.Component=M,Me.Fragment=t,Me.Profiler=o,Me.PureComponent=se,Me.StrictMode=s,Me.Suspense=g,Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,Me.act=K,Me.cloneElement=function(V,H,me){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var ye=q({},V.props),Ae=V.key,xe=V.ref,Oe=V._owner;if(H!=null){if(H.ref!==void 0&&(xe=H.ref,Oe=Se.current),H.key!==void 0&&(Ae=""+H.key),V.type&&V.type.defaultProps)var Ve=V.type.defaultProps;for(Ue in H)Ie.call(H,Ue)&&!N.hasOwnProperty(Ue)&&(ye[Ue]=H[Ue]===void 0&&Ve!==void 0?Ve[Ue]:H[Ue])}var Ue=arguments.length-2;if(Ue===1)ye.children=me;else if(1<Ue){Ve=Array(Ue);for(var He=0;He<Ue;He++)Ve[He]=arguments[He+2];ye.children=Ve}return{$$typeof:r,type:V.type,key:Ae,ref:xe,props:ye,_owner:Oe}},Me.createContext=function(V){return V={$$typeof:h,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:l,_context:V},V.Consumer=V},Me.createElement=I,Me.createFactory=function(V){var H=I.bind(null,V);return H.type=V,H},Me.createRef=function(){return{current:null}},Me.forwardRef=function(V){return{$$typeof:m,render:V}},Me.isValidElement=k,Me.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:te}},Me.memo=function(V,H){return{$$typeof:_,type:V,compare:H===void 0?null:H}},Me.startTransition=function(V){var H=$.transition;$.transition={};try{V()}finally{$.transition=H}},Me.unstable_act=K,Me.useCallback=function(V,H){return oe.current.useCallback(V,H)},Me.useContext=function(V){return oe.current.useContext(V)},Me.useDebugValue=function(){},Me.useDeferredValue=function(V){return oe.current.useDeferredValue(V)},Me.useEffect=function(V,H){return oe.current.useEffect(V,H)},Me.useId=function(){return oe.current.useId()},Me.useImperativeHandle=function(V,H,me){return oe.current.useImperativeHandle(V,H,me)},Me.useInsertionEffect=function(V,H){return oe.current.useInsertionEffect(V,H)},Me.useLayoutEffect=function(V,H){return oe.current.useLayoutEffect(V,H)},Me.useMemo=function(V,H){return oe.current.useMemo(V,H)},Me.useReducer=function(V,H,me){return oe.current.useReducer(V,H,me)},Me.useRef=function(V){return oe.current.useRef(V)},Me.useState=function(V){return oe.current.useState(V)},Me.useSyncExternalStore=function(V,H,me){return oe.current.useSyncExternalStore(V,H,me)},Me.useTransition=function(){return oe.current.useTransition()},Me.version="18.3.1",Me}var og;function td(){return og||(og=1,lf.exports=$w()),lf.exports}var ag;function Bw(){if(ag)return Pa;ag=1;var r=td(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function h(m,g,_){var E,T={},A=null,U=null;_!==void 0&&(A=""+_),g.key!==void 0&&(A=""+g.key),g.ref!==void 0&&(U=g.ref);for(E in g)s.call(g,E)&&!l.hasOwnProperty(E)&&(T[E]=g[E]);if(m&&m.defaultProps)for(E in g=m.defaultProps,g)T[E]===void 0&&(T[E]=g[E]);return{$$typeof:e,type:m,key:A,ref:U,props:T,_owner:o.current}}return Pa.Fragment=t,Pa.jsx=h,Pa.jsxs=h,Pa}var lg;function qw(){return lg||(lg=1,af.exports=Bw()),af.exports}var ie=qw(),_e=td();const t_=fc(_e),Hw=zw({__proto__:null,default:t_},[_e]);var Su={},uf={exports:{}},Yt={},cf={exports:{}},hf={};var ug;function Ww(){return ug||(ug=1,(function(r){function e($,X){var K=$.length;$.push(X);e:for(;0<K;){var V=K-1>>>1,H=$[V];if(0<o(H,X))$[V]=X,$[K]=H,K=V;else break e}}function t($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var X=$[0],K=$.pop();if(K!==X){$[0]=K;e:for(var V=0,H=$.length,me=H>>>1;V<me;){var ye=2*(V+1)-1,Ae=$[ye],xe=ye+1,Oe=$[xe];if(0>o(Ae,K))xe<H&&0>o(Oe,Ae)?($[V]=Oe,$[xe]=K,V=xe):($[V]=Ae,$[ye]=K,V=ye);else if(xe<H&&0>o(Oe,K))$[V]=Oe,$[xe]=K,V=xe;else break e}}return X}function o($,X){var K=$.sortIndex-X.sortIndex;return K!==0?K:$.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var g=[],_=[],E=1,T=null,A=3,U=!1,q=!1,x=!1,M=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ae($){for(var X=t(_);X!==null;){if(X.callback===null)s(_);else if(X.startTime<=$)s(_),X.sortIndex=X.expirationTime,e(g,X);else break;X=t(_)}}function Ee($){if(x=!1,ae($),!q)if(t(g)!==null)q=!0,te(Ie);else{var X=t(_);X!==null&&oe(Ee,X.startTime-$)}}function Ie($,X){q=!1,x&&(x=!1,Z(I),I=-1),U=!0;var K=A;try{for(ae(X),T=t(g);T!==null&&(!(T.expirationTime>X)||$&&!P());){var V=T.callback;if(typeof V=="function"){T.callback=null,A=T.priorityLevel;var H=V(T.expirationTime<=X);X=r.unstable_now(),typeof H=="function"?T.callback=H:T===t(g)&&s(g),ae(X)}else s(g);T=t(g)}if(T!==null)var me=!0;else{var ye=t(_);ye!==null&&oe(Ee,ye.startTime-X),me=!1}return me}finally{T=null,A=K,U=!1}}var Se=!1,N=null,I=-1,C=5,k=-1;function P(){return!(r.unstable_now()-k<C)}function L(){if(N!==null){var $=r.unstable_now();k=$;var X=!0;try{X=N(!0,$)}finally{X?R():(Se=!1,N=null)}}else Se=!1}var R;if(typeof se=="function")R=function(){se(L)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,ne=le.port2;le.port1.onmessage=L,R=function(){ne.postMessage(null)}}else R=function(){M(L,0)};function te($){N=$,Se||(Se=!0,R())}function oe($,X){I=M(function(){$(r.unstable_now())},X)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function($){$.callback=null},r.unstable_continueExecution=function(){q||U||(q=!0,te(Ie))},r.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<$?Math.floor(1e3/$):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_getFirstCallbackNode=function(){return t(g)},r.unstable_next=function($){switch(A){case 1:case 2:case 3:var X=3;break;default:X=A}var K=A;A=X;try{return $()}finally{A=K}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function($,X){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var K=A;A=$;try{return X()}finally{A=K}},r.unstable_scheduleCallback=function($,X,K){var V=r.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?V+K:V):K=V,$){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=K+H,$={id:E++,callback:X,priorityLevel:$,startTime:K,expirationTime:H,sortIndex:-1},K>V?($.sortIndex=K,e(_,$),t(g)===null&&$===t(_)&&(x?(Z(I),I=-1):x=!0,oe(Ee,K-V))):($.sortIndex=H,e(g,$),q||U||(q=!0,te(Ie))),$},r.unstable_shouldYield=P,r.unstable_wrapCallback=function($){var X=A;return function(){var K=A;A=X;try{return $.apply(this,arguments)}finally{A=K}}}})(hf)),hf}var cg;function Gw(){return cg||(cg=1,cf.exports=Ww()),cf.exports}var hg;function Kw(){if(hg)return Yt;hg=1;var r=td(),e=Gw();function t(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(n,i){h(n,i),h(n+"Capture",i)}function h(n,i){for(o[n]=i,n=0;n<i.length;n++)s.add(i[n])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},T={};function A(n){return g.call(T,n)?!0:g.call(E,n)?!1:_.test(n)?T[n]=!0:(E[n]=!0,!1)}function U(n,i,a,c){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function q(n,i,a,c){if(i===null||typeof i>"u"||U(n,i,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function x(n,i,a,c,f,d,v){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=n,this.type=i,this.sanitizeURL=d,this.removeEmptyString=v}var M={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){M[n]=new x(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];M[i]=new x(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){M[n]=new x(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){M[n]=new x(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){M[n]=new x(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){M[n]=new x(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){M[n]=new x(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){M[n]=new x(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){M[n]=new x(n,5,!1,n.toLowerCase(),null,!1,!1)});var Z=/[\-:]([a-z])/g;function se(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(Z,se);M[i]=new x(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(Z,se);M[i]=new x(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(Z,se);M[i]=new x(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){M[n]=new x(n,1,!1,n.toLowerCase(),null,!1,!1)}),M.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){M[n]=new x(n,1,!1,n.toLowerCase(),null,!0,!0)});function ae(n,i,a,c){var f=M.hasOwnProperty(i)?M[i]:null;(f!==null?f.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(q(i,a,f,c)&&(a=null),c||f===null?A(i)&&(a===null?n.removeAttribute(i):n.setAttribute(i,""+a)):f.mustUseProperty?n[f.propertyName]=a===null?f.type===3?!1:"":a:(i=f.attributeName,c=f.attributeNamespace,a===null?n.removeAttribute(i):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,c?n.setAttributeNS(c,i,a):n.setAttribute(i,a))))}var Ee=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ie=Symbol.for("react.element"),Se=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),P=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),ne=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),oe=Symbol.for("react.offscreen"),$=Symbol.iterator;function X(n){return n===null||typeof n!="object"?null:(n=$&&n[$]||n["@@iterator"],typeof n=="function"?n:null)}var K=Object.assign,V;function H(n){if(V===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);V=i&&i[1]||""}return`
`+V+n}var me=!1;function ye(n,i){if(!n||me)return"";me=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(z){var c=z}Reflect.construct(n,[],i)}else{try{i.call()}catch(z){c=z}n.call(i.prototype)}else{try{throw Error()}catch(z){c=z}n()}}catch(z){if(z&&c&&typeof z.stack=="string"){for(var f=z.stack.split(`
`),d=c.stack.split(`
`),v=f.length-1,S=d.length-1;1<=v&&0<=S&&f[v]!==d[S];)S--;for(;1<=v&&0<=S;v--,S--)if(f[v]!==d[S]){if(v!==1||S!==1)do if(v--,S--,0>S||f[v]!==d[S]){var D=`
`+f[v].replace(" at new "," at ");return n.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",n.displayName)),D}while(1<=v&&0<=S);break}}}finally{me=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?H(n):""}function Ae(n){switch(n.tag){case 5:return H(n.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return n=ye(n.type,!1),n;case 11:return n=ye(n.type.render,!1),n;case 1:return n=ye(n.type,!0),n;default:return""}}function xe(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case N:return"Fragment";case Se:return"Portal";case C:return"Profiler";case I:return"StrictMode";case R:return"Suspense";case le:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case P:return(n.displayName||"Context")+".Consumer";case k:return(n._context.displayName||"Context")+".Provider";case L:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case ne:return i=n.displayName||null,i!==null?i:xe(n.type)||"Memo";case te:i=n._payload,n=n._init;try{return xe(n(i))}catch{}}return null}function Oe(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(i);case 8:return i===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Ve(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ue(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function He(n){var i=Ue(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),c=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,d=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(v){c=""+v,d.call(this,v)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(v){c=""+v},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function $t(n){n._valueTracker||(n._valueTracker=He(n))}function wn(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return n&&(c=Ue(n)?n.checked?"true":"false":n.value),n=c,n!==a?(i.setValue(n),!0):!1}function en(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function _s(n,i){var a=i.checked;return K({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function ul(n,i){var a=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;a=Ve(i.value!=null?i.value:a),n._wrapperState={initialChecked:c,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function vs(n,i){i=i.checked,i!=null&&ae(n,"checked",i,!1)}function xi(n,i){vs(n,i);var a=Ve(i.value),c=i.type;if(a!=null)c==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?ht(n,i.type,a):i.hasOwnProperty("defaultValue")&&ht(n,i.type,Ve(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function Mo(n,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,a||i===n.value||(n.value=i),n.defaultValue=i}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function ht(n,i,a){(i!=="number"||en(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var at=Array.isArray;function Tn(n,i,a,c){if(n=n.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=i.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&c&&(n[a].defaultSelected=!0)}else{for(a=""+Ve(a),i=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,c&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function Lo(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return K({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function bo(n,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(t(92));if(at(a)){if(1<a.length)throw Error(t(93));a=a[0]}i=a}i==null&&(i=""),a=i}n._wrapperState={initialValue:Ve(a)}}function cl(n,i){var a=Ve(i.value),c=Ve(i.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),i.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),c!=null&&(n.defaultValue=""+c)}function Or(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function Fo(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Es(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?Fo(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Mr,hl=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,c,f){MSApp.execUnsafeLocalFunction(function(){return n(i,a,c,f)})}:n})(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(Mr=Mr||document.createElement("div"),Mr.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Mr.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function Vi(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var Lr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fl=["Webkit","ms","Moz","O"];Object.keys(Lr).forEach(function(n){fl.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),Lr[i]=Lr[n]})});function br(n,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||Lr.hasOwnProperty(n)&&Lr[n]?(""+i).trim():i+"px"}function ws(n,i){n=n.style;for(var a in i)if(i.hasOwnProperty(a)){var c=a.indexOf("--")===0,f=br(a,i[a],c);a==="float"&&(a="cssFloat"),c?n.setProperty(a,f):n[a]=f}}var Uo=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function In(n,i){if(i){if(Uo[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function Ts(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fr=null;function Is(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ur=null,cr=null,st=null;function jo(n){if(n=da(n)){if(typeof ur!="function")throw Error(t(280));var i=n.stateNode;i&&(i=Ul(i),ur(n.stateNode,n.type,i))}}function Ur(n){cr?st?st.push(n):st=[n]:cr=n}function jr(){if(cr){var n=cr,i=st;if(st=cr=null,jo(n),i)for(n=0;n<i.length;n++)jo(i[n])}}function dl(n,i){return n(i)}function pl(){}var bn=!1;function ml(n,i,a){if(bn)return n(i,a);bn=!0;try{return dl(n,i,a)}finally{bn=!1,(cr!==null||st!==null)&&(pl(),jr())}}function Oi(n,i){var a=n.stateNode;if(a===null)return null;var c=Ul(a);if(c===null)return null;a=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(t(231,i,typeof a));return a}var zr=!1;if(m)try{var $r={};Object.defineProperty($r,"passive",{get:function(){zr=!0}}),window.addEventListener("test",$r,$r),window.removeEventListener("test",$r,$r)}catch{zr=!1}function gl(n,i,a,c,f,d,v,S,D){var z=Array.prototype.slice.call(arguments,3);try{i.apply(a,z)}catch(Y){this.onError(Y)}}var hr=!1,Fn=null,Ss=!1,fn=null,yl={onError:function(n){hr=!0,Fn=n}};function _l(n,i,a,c,f,d,v,S,D){hr=!1,Fn=null,gl.apply(yl,arguments)}function zo(n,i,a,c,f,d,v,S,D){if(_l.apply(this,arguments),hr){if(hr){var z=Fn;hr=!1,Fn=null}else throw Error(t(198));Ss||(Ss=!0,fn=z)}}function Sn(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function $o(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function vl(n){if(Sn(n)!==n)throw Error(t(188))}function El(n){var i=n.alternate;if(!i){if(i=Sn(n),i===null)throw Error(t(188));return i!==n?null:n}for(var a=n,c=i;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(c=f.return,c!==null){a=c;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return vl(f),n;if(d===c)return vl(f),i;d=d.sibling}throw Error(t(188))}if(a.return!==c.return)a=f,c=d;else{for(var v=!1,S=f.child;S;){if(S===a){v=!0,a=f,c=d;break}if(S===c){v=!0,c=f,a=d;break}S=S.sibling}if(!v){for(S=d.child;S;){if(S===a){v=!0,a=d,c=f;break}if(S===c){v=!0,c=d,a=f;break}S=S.sibling}if(!v)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?n:i}function wl(n){return n=El(n),n!==null?Mi(n):null}function Mi(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=Mi(n);if(i!==null)return i;n=n.sibling}return null}var Bo=e.unstable_scheduleCallback,As=e.unstable_cancelCallback,Li=e.unstable_shouldYield,fr=e.unstable_requestPaint,Xe=e.unstable_now,bc=e.unstable_getCurrentPriorityLevel,Rs=e.unstable_ImmediatePriority,qo=e.unstable_UserBlockingPriority,bi=e.unstable_NormalPriority,Ho=e.unstable_LowPriority,Cs=e.unstable_IdlePriority,Fi=null,tn=null;function Tl(n){if(tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(Fi,n,void 0,(n.current.flags&128)===128)}catch{}}var nn=Math.clz32?Math.clz32:Ui,Un=Math.log,dn=Math.LN2;function Ui(n){return n>>>=0,n===0?32:31-(Un(n)/dn|0)|0}var jn=64,Br=4194304;function qe(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function dr(n,i){var a=n.pendingLanes;if(a===0)return 0;var c=0,f=n.suspendedLanes,d=n.pingedLanes,v=a&268435455;if(v!==0){var S=v&~f;S!==0?c=qe(S):(d&=v,d!==0&&(c=qe(d)))}else v=a&~f,v!==0?c=qe(v):d!==0&&(c=qe(d));if(c===0)return 0;if(i!==0&&i!==c&&(i&f)===0&&(f=c&-c,d=i&-i,f>=d||f===16&&(d&4194240)!==0))return i;if((c&4)!==0&&(c|=a&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=c;0<i;)a=31-nn(i),f=1<<a,c|=n[a],i&=~f;return c}function ji(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zi(n,i){for(var a=n.suspendedLanes,c=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes;0<d;){var v=31-nn(d),S=1<<v,D=f[v];D===-1?((S&a)===0||(S&c)!==0)&&(f[v]=ji(S,i)):D<=i&&(n.expiredLanes|=S),d&=~S}}function Wo(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Go(){var n=jn;return jn<<=1,(jn&4194240)===0&&(jn=64),n}function Ko(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function $i(n,i,a){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-nn(i),n[i]=a}function Fc(n,i){var a=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<a;){var f=31-nn(a),d=1<<f;i[f]=0,c[f]=-1,n[f]=-1,a&=~d}}function Qo(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var c=31-nn(a),f=1<<c;f&i|n[c]&i&&(n[c]|=i),a&=~f}}var je=0;function zn(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var Yo,Ps,Xo,Jo,Zo,$n=!1,ks=[],Bn=null,qn=null,At=null,Bi=new Map,pr=new Map,rn=[],Il="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qr(n,i){switch(n){case"focusin":case"focusout":Bn=null;break;case"dragenter":case"dragleave":qn=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Bi.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":pr.delete(i.pointerId)}}function An(n,i,a,c,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:d,targetContainers:[f]},i!==null&&(i=da(i),i!==null&&Ps(i)),n):(n.eventSystemFlags|=c,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function Sl(n,i,a,c,f){switch(i){case"focusin":return Bn=An(Bn,n,i,a,c,f),!0;case"dragenter":return qn=An(qn,n,i,a,c,f),!0;case"mouseover":return At=An(At,n,i,a,c,f),!0;case"pointerover":var d=f.pointerId;return Bi.set(d,An(Bi.get(d)||null,n,i,a,c,f)),!0;case"gotpointercapture":return d=f.pointerId,pr.set(d,An(pr.get(d)||null,n,i,a,c,f)),!0}return!1}function Ns(n){var i=Gi(n.target);if(i!==null){var a=Sn(i);if(a!==null){if(i=a.tag,i===13){if(i=$o(a),i!==null){n.blockedOn=i,Zo(n.priority,function(){Xo(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Ke(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=Ds(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);Fr=c,a.target.dispatchEvent(c),Fr=null}else return i=da(a),i!==null&&Ps(i),n.blockedOn=a,!1;i.shift()}return!0}function Al(n,i,a){Ke(n)&&a.delete(i)}function Uc(){$n=!1,Bn!==null&&Ke(Bn)&&(Bn=null),qn!==null&&Ke(qn)&&(qn=null),At!==null&&Ke(At)&&(At=null),Bi.forEach(Al),pr.forEach(Al)}function Hr(n,i){n.blockedOn===i&&(n.blockedOn=null,$n||($n=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Uc)))}function Wr(n){function i(f){return Hr(f,n)}if(0<ks.length){Hr(ks[0],n);for(var a=1;a<ks.length;a++){var c=ks[a];c.blockedOn===n&&(c.blockedOn=null)}}for(Bn!==null&&Hr(Bn,n),qn!==null&&Hr(qn,n),At!==null&&Hr(At,n),Bi.forEach(i),pr.forEach(i),a=0;a<rn.length;a++)c=rn[a],c.blockedOn===n&&(c.blockedOn=null);for(;0<rn.length&&(a=rn[0],a.blockedOn===null);)Ns(a),a.blockedOn===null&&rn.shift()}var mr=Ee.ReactCurrentBatchConfig,gr=!0;function Hn(n,i,a,c){var f=je,d=mr.transition;mr.transition=null;try{je=1,ea(n,i,a,c)}finally{je=f,mr.transition=d}}function Rl(n,i,a,c){var f=je,d=mr.transition;mr.transition=null;try{je=4,ea(n,i,a,c)}finally{je=f,mr.transition=d}}function ea(n,i,a,c){if(gr){var f=Ds(n,i,a,c);if(f===null)Yc(n,i,c,Wn,a),qr(n,c);else if(Sl(f,n,i,a,c))c.stopPropagation();else if(qr(n,c),i&4&&-1<Il.indexOf(n)){for(;f!==null;){var d=da(f);if(d!==null&&Yo(d),d=Ds(n,i,a,c),d===null&&Yc(n,i,c,Wn,a),d===f)break;f=d}f!==null&&c.stopPropagation()}else Yc(n,i,c,null,a)}}var Wn=null;function Ds(n,i,a,c){if(Wn=null,n=Is(c),n=Gi(n),n!==null)if(i=Sn(n),i===null)n=null;else if(a=i.tag,a===13){if(n=$o(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return Wn=n,null}function xs(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bc()){case Rs:return 1;case qo:return 4;case bi:case Ho:return 16;case Cs:return 536870912;default:return 16}default:return 16}}var sn=null,Vs=null,yr=null;function Cl(){if(yr)return yr;var n,i=Vs,a=i.length,c,f="value"in sn?sn.value:sn.textContent,d=f.length;for(n=0;n<a&&i[n]===f[n];n++);var v=a-n;for(c=1;c<=v&&i[a-c]===f[d-c];c++);return yr=f.slice(n,1<c?1-c:void 0)}function qi(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Gn(){return!0}function ta(){return!1}function Vt(n){function i(a,c,f,d,v){this._reactName=a,this._targetInst=f,this.type=c,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(a=n[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Gn:ta,this.isPropagationStopped=ta,this}return K(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Gn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Gn)},persist:function(){},isPersistent:Gn}),i}var Kn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hi=Vt(Kn),Gr=K({},Kn,{view:0,detail:0}),Os=Vt(Gr),Ms,Ls,on,Wi=K({},Gr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ne,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==on&&(on&&n.type==="mousemove"?(Ms=n.screenX-on.screenX,Ls=n.screenY-on.screenY):Ls=Ms=0,on=n),Ms)},movementY:function(n){return"movementY"in n?n.movementY:Ls}}),na=Vt(Wi),Pl=K({},Wi,{dataTransfer:0}),kl=Vt(Pl),bs=K({},Gr,{relatedTarget:0}),Rt=Vt(bs),Nl=K({},Kn,{animationName:0,elapsedTime:0,pseudoElement:0}),Dl=Vt(Nl),Kr=K({},Kn,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),u=Vt(Kr),p=K({},Kn,{data:0}),y=Vt(p),w={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},F={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},B={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function re(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=B[n])?!!i[n]:!1}function Ne(){return re}var lt=K({},Gr,{key:function(n){if(n.key){var i=w[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=qi(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?F[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ne,charCode:function(n){return n.type==="keypress"?qi(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?qi(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ge=Vt(lt),ft=K({},Wi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),an=Vt(ft),_r=K({},Gr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ne}),Qn=Vt(_r),Yn=K({},Kn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fs=Vt(Yn),ra=K({},Wi,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),ME=Vt(ra),LE=[9,13,27,32],jc=m&&"CompositionEvent"in window,ia=null;m&&"documentMode"in document&&(ia=document.documentMode);var bE=m&&"TextEvent"in window&&!ia,Xd=m&&(!jc||ia&&8<ia&&11>=ia),Jd=" ",Zd=!1;function ep(n,i){switch(n){case"keyup":return LE.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tp(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Us=!1;function FE(n,i){switch(n){case"compositionend":return tp(i);case"keypress":return i.which!==32?null:(Zd=!0,Jd);case"textInput":return n=i.data,n===Jd&&Zd?null:n;default:return null}}function UE(n,i){if(Us)return n==="compositionend"||!jc&&ep(n,i)?(n=Cl(),yr=Vs=sn=null,Us=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Xd&&i.locale!=="ko"?null:i.data;default:return null}}var jE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function np(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!jE[n.type]:i==="textarea"}function rp(n,i,a,c){Ur(c),i=Ll(i,"onChange"),0<i.length&&(a=new Hi("onChange","change",null,a,c),n.push({event:a,listeners:i}))}var sa=null,oa=null;function zE(n){wp(n,0)}function xl(n){var i=qs(n);if(wn(i))return n}function $E(n,i){if(n==="change")return i}var ip=!1;if(m){var zc;if(m){var $c="oninput"in document;if(!$c){var sp=document.createElement("div");sp.setAttribute("oninput","return;"),$c=typeof sp.oninput=="function"}zc=$c}else zc=!1;ip=zc&&(!document.documentMode||9<document.documentMode)}function op(){sa&&(sa.detachEvent("onpropertychange",ap),oa=sa=null)}function ap(n){if(n.propertyName==="value"&&xl(oa)){var i=[];rp(i,oa,n,Is(n)),ml(zE,i)}}function BE(n,i,a){n==="focusin"?(op(),sa=i,oa=a,sa.attachEvent("onpropertychange",ap)):n==="focusout"&&op()}function qE(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return xl(oa)}function HE(n,i){if(n==="click")return xl(i)}function WE(n,i){if(n==="input"||n==="change")return xl(i)}function GE(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Rn=typeof Object.is=="function"?Object.is:GE;function aa(n,i){if(Rn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var f=a[c];if(!g.call(i,f)||!Rn(n[f],i[f]))return!1}return!0}function lp(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function up(n,i){var a=lp(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=i&&c>=i)return{node:a,offset:i-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=lp(a)}}function cp(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?cp(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function hp(){for(var n=window,i=en();i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=en(n.document)}return i}function Bc(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function KE(n){var i=hp(),a=n.focusedElem,c=n.selectionRange;if(i!==a&&a&&a.ownerDocument&&cp(a.ownerDocument.documentElement,a)){if(c!==null&&Bc(a)){if(i=c.start,n=c.end,n===void 0&&(n=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(n,a.value.length);else if(n=(i=a.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var f=a.textContent.length,d=Math.min(c.start,f);c=c.end===void 0?d:Math.min(c.end,f),!n.extend&&d>c&&(f=c,c=d,d=f),f=up(a,d);var v=up(a,c);f&&v&&(n.rangeCount!==1||n.anchorNode!==f.node||n.anchorOffset!==f.offset||n.focusNode!==v.node||n.focusOffset!==v.offset)&&(i=i.createRange(),i.setStart(f.node,f.offset),n.removeAllRanges(),d>c?(n.addRange(i),n.extend(v.node,v.offset)):(i.setEnd(v.node,v.offset),n.addRange(i)))}}for(i=[],n=a;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)n=i[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var QE=m&&"documentMode"in document&&11>=document.documentMode,js=null,qc=null,la=null,Hc=!1;function fp(n,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Hc||js==null||js!==en(c)||(c=js,"selectionStart"in c&&Bc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),la&&aa(la,c)||(la=c,c=Ll(qc,"onSelect"),0<c.length&&(i=new Hi("onSelect","select",null,i,a),n.push({event:i,listeners:c}),i.target=js)))}function Vl(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var zs={animationend:Vl("Animation","AnimationEnd"),animationiteration:Vl("Animation","AnimationIteration"),animationstart:Vl("Animation","AnimationStart"),transitionend:Vl("Transition","TransitionEnd")},Wc={},dp={};m&&(dp=document.createElement("div").style,"AnimationEvent"in window||(delete zs.animationend.animation,delete zs.animationiteration.animation,delete zs.animationstart.animation),"TransitionEvent"in window||delete zs.transitionend.transition);function Ol(n){if(Wc[n])return Wc[n];if(!zs[n])return n;var i=zs[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in dp)return Wc[n]=i[a];return n}var pp=Ol("animationend"),mp=Ol("animationiteration"),gp=Ol("animationstart"),yp=Ol("transitionend"),_p=new Map,vp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qr(n,i){_p.set(n,i),l(i,[n])}for(var Gc=0;Gc<vp.length;Gc++){var Kc=vp[Gc],YE=Kc.toLowerCase(),XE=Kc[0].toUpperCase()+Kc.slice(1);Qr(YE,"on"+XE)}Qr(pp,"onAnimationEnd"),Qr(mp,"onAnimationIteration"),Qr(gp,"onAnimationStart"),Qr("dblclick","onDoubleClick"),Qr("focusin","onFocus"),Qr("focusout","onBlur"),Qr(yp,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ua="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JE=new Set("cancel close invalid load scroll toggle".split(" ").concat(ua));function Ep(n,i,a){var c=n.type||"unknown-event";n.currentTarget=a,zo(c,i,void 0,n),n.currentTarget=null}function wp(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],f=c.event;c=c.listeners;e:{var d=void 0;if(i)for(var v=c.length-1;0<=v;v--){var S=c[v],D=S.instance,z=S.currentTarget;if(S=S.listener,D!==d&&f.isPropagationStopped())break e;Ep(f,S,z),d=D}else for(v=0;v<c.length;v++){if(S=c[v],D=S.instance,z=S.currentTarget,S=S.listener,D!==d&&f.isPropagationStopped())break e;Ep(f,S,z),d=D}}}if(Ss)throw n=fn,Ss=!1,fn=null,n}function Je(n,i){var a=i[nh];a===void 0&&(a=i[nh]=new Set);var c=n+"__bubble";a.has(c)||(Tp(i,n,2,!1),a.add(c))}function Qc(n,i,a){var c=0;i&&(c|=4),Tp(a,n,c,i)}var Ml="_reactListening"+Math.random().toString(36).slice(2);function ca(n){if(!n[Ml]){n[Ml]=!0,s.forEach(function(a){a!=="selectionchange"&&(JE.has(a)||Qc(a,!1,n),Qc(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Ml]||(i[Ml]=!0,Qc("selectionchange",!1,i))}}function Tp(n,i,a,c){switch(xs(i)){case 1:var f=Hn;break;case 4:f=Rl;break;default:f=ea}a=f.bind(null,i,a,n),f=void 0,!zr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),c?f!==void 0?n.addEventListener(i,a,{capture:!0,passive:f}):n.addEventListener(i,a,!0):f!==void 0?n.addEventListener(i,a,{passive:f}):n.addEventListener(i,a,!1)}function Yc(n,i,a,c,f){var d=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var v=c.tag;if(v===3||v===4){var S=c.stateNode.containerInfo;if(S===f||S.nodeType===8&&S.parentNode===f)break;if(v===4)for(v=c.return;v!==null;){var D=v.tag;if((D===3||D===4)&&(D=v.stateNode.containerInfo,D===f||D.nodeType===8&&D.parentNode===f))return;v=v.return}for(;S!==null;){if(v=Gi(S),v===null)return;if(D=v.tag,D===5||D===6){c=d=v;continue e}S=S.parentNode}}c=c.return}ml(function(){var z=d,Y=Is(a),J=[];e:{var Q=_p.get(n);if(Q!==void 0){var ce=Hi,de=n;switch(n){case"keypress":if(qi(a)===0)break e;case"keydown":case"keyup":ce=Ge;break;case"focusin":de="focus",ce=Rt;break;case"focusout":de="blur",ce=Rt;break;case"beforeblur":case"afterblur":ce=Rt;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=na;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=kl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=Qn;break;case pp:case mp:case gp:ce=Dl;break;case yp:ce=Fs;break;case"scroll":ce=Os;break;case"wheel":ce=ME;break;case"copy":case"cut":case"paste":ce=u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=an}var pe=(i&4)!==0,ut=!pe&&n==="scroll",b=pe?Q!==null?Q+"Capture":null:Q;pe=[];for(var O=z,j;O!==null;){j=O;var ee=j.stateNode;if(j.tag===5&&ee!==null&&(j=ee,b!==null&&(ee=Oi(O,b),ee!=null&&pe.push(ha(O,ee,j)))),ut)break;O=O.return}0<pe.length&&(Q=new ce(Q,de,null,a,Y),J.push({event:Q,listeners:pe}))}}if((i&7)===0){e:{if(Q=n==="mouseover"||n==="pointerover",ce=n==="mouseout"||n==="pointerout",Q&&a!==Fr&&(de=a.relatedTarget||a.fromElement)&&(Gi(de)||de[vr]))break e;if((ce||Q)&&(Q=Y.window===Y?Y:(Q=Y.ownerDocument)?Q.defaultView||Q.parentWindow:window,ce?(de=a.relatedTarget||a.toElement,ce=z,de=de?Gi(de):null,de!==null&&(ut=Sn(de),de!==ut||de.tag!==5&&de.tag!==6)&&(de=null)):(ce=null,de=z),ce!==de)){if(pe=na,ee="onMouseLeave",b="onMouseEnter",O="mouse",(n==="pointerout"||n==="pointerover")&&(pe=an,ee="onPointerLeave",b="onPointerEnter",O="pointer"),ut=ce==null?Q:qs(ce),j=de==null?Q:qs(de),Q=new pe(ee,O+"leave",ce,a,Y),Q.target=ut,Q.relatedTarget=j,ee=null,Gi(Y)===z&&(pe=new pe(b,O+"enter",de,a,Y),pe.target=j,pe.relatedTarget=ut,ee=pe),ut=ee,ce&&de)t:{for(pe=ce,b=de,O=0,j=pe;j;j=$s(j))O++;for(j=0,ee=b;ee;ee=$s(ee))j++;for(;0<O-j;)pe=$s(pe),O--;for(;0<j-O;)b=$s(b),j--;for(;O--;){if(pe===b||b!==null&&pe===b.alternate)break t;pe=$s(pe),b=$s(b)}pe=null}else pe=null;ce!==null&&Ip(J,Q,ce,pe,!1),de!==null&&ut!==null&&Ip(J,ut,de,pe,!0)}}e:{if(Q=z?qs(z):window,ce=Q.nodeName&&Q.nodeName.toLowerCase(),ce==="select"||ce==="input"&&Q.type==="file")var ge=$E;else if(np(Q))if(ip)ge=WE;else{ge=qE;var we=BE}else(ce=Q.nodeName)&&ce.toLowerCase()==="input"&&(Q.type==="checkbox"||Q.type==="radio")&&(ge=HE);if(ge&&(ge=ge(n,z))){rp(J,ge,a,Y);break e}we&&we(n,Q,z),n==="focusout"&&(we=Q._wrapperState)&&we.controlled&&Q.type==="number"&&ht(Q,"number",Q.value)}switch(we=z?qs(z):window,n){case"focusin":(np(we)||we.contentEditable==="true")&&(js=we,qc=z,la=null);break;case"focusout":la=qc=js=null;break;case"mousedown":Hc=!0;break;case"contextmenu":case"mouseup":case"dragend":Hc=!1,fp(J,a,Y);break;case"selectionchange":if(QE)break;case"keydown":case"keyup":fp(J,a,Y)}var Te;if(jc)e:{switch(n){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Us?ep(n,a)&&(Pe="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Pe="onCompositionStart");Pe&&(Xd&&a.locale!=="ko"&&(Us||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Us&&(Te=Cl()):(sn=Y,Vs="value"in sn?sn.value:sn.textContent,Us=!0)),we=Ll(z,Pe),0<we.length&&(Pe=new y(Pe,n,null,a,Y),J.push({event:Pe,listeners:we}),Te?Pe.data=Te:(Te=tp(a),Te!==null&&(Pe.data=Te)))),(Te=bE?FE(n,a):UE(n,a))&&(z=Ll(z,"onBeforeInput"),0<z.length&&(Y=new y("onBeforeInput","beforeinput",null,a,Y),J.push({event:Y,listeners:z}),Y.data=Te))}wp(J,i)})}function ha(n,i,a){return{instance:n,listener:i,currentTarget:a}}function Ll(n,i){for(var a=i+"Capture",c=[];n!==null;){var f=n,d=f.stateNode;f.tag===5&&d!==null&&(f=d,d=Oi(n,a),d!=null&&c.unshift(ha(n,d,f)),d=Oi(n,i),d!=null&&c.push(ha(n,d,f))),n=n.return}return c}function $s(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Ip(n,i,a,c,f){for(var d=i._reactName,v=[];a!==null&&a!==c;){var S=a,D=S.alternate,z=S.stateNode;if(D!==null&&D===c)break;S.tag===5&&z!==null&&(S=z,f?(D=Oi(a,d),D!=null&&v.unshift(ha(a,D,S))):f||(D=Oi(a,d),D!=null&&v.push(ha(a,D,S)))),a=a.return}v.length!==0&&n.push({event:i,listeners:v})}var ZE=/\r\n?/g,ew=/\u0000|\uFFFD/g;function Sp(n){return(typeof n=="string"?n:""+n).replace(ZE,`
`).replace(ew,"")}function bl(n,i,a){if(i=Sp(i),Sp(n)!==i&&a)throw Error(t(425))}function Fl(){}var Xc=null,Jc=null;function Zc(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var eh=typeof setTimeout=="function"?setTimeout:void 0,tw=typeof clearTimeout=="function"?clearTimeout:void 0,Ap=typeof Promise=="function"?Promise:void 0,nw=typeof queueMicrotask=="function"?queueMicrotask:typeof Ap<"u"?function(n){return Ap.resolve(null).then(n).catch(rw)}:eh;function rw(n){setTimeout(function(){throw n})}function th(n,i){var a=i,c=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(c===0){n.removeChild(f),Wr(i);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=f}while(a);Wr(i)}function Yr(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function Rp(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}var Bs=Math.random().toString(36).slice(2),Xn="__reactFiber$"+Bs,fa="__reactProps$"+Bs,vr="__reactContainer$"+Bs,nh="__reactEvents$"+Bs,iw="__reactListeners$"+Bs,sw="__reactHandles$"+Bs;function Gi(n){var i=n[Xn];if(i)return i;for(var a=n.parentNode;a;){if(i=a[vr]||a[Xn]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=Rp(n);n!==null;){if(a=n[Xn])return a;n=Rp(n)}return i}n=a,a=n.parentNode}return null}function da(n){return n=n[Xn]||n[vr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function qs(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function Ul(n){return n[fa]||null}var rh=[],Hs=-1;function Xr(n){return{current:n}}function Ze(n){0>Hs||(n.current=rh[Hs],rh[Hs]=null,Hs--)}function Qe(n,i){Hs++,rh[Hs]=n.current,n.current=i}var Jr={},Ot=Xr(Jr),Ht=Xr(!1),Ki=Jr;function Ws(n,i){var a=n.type.contextTypes;if(!a)return Jr;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var f={},d;for(d in a)f[d]=i[d];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=f),f}function Wt(n){return n=n.childContextTypes,n!=null}function jl(){Ze(Ht),Ze(Ot)}function Cp(n,i,a){if(Ot.current!==Jr)throw Error(t(168));Qe(Ot,i),Qe(Ht,a)}function Pp(n,i,a){var c=n.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var f in c)if(!(f in i))throw Error(t(108,Oe(n)||"Unknown",f));return K({},a,c)}function zl(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Jr,Ki=Ot.current,Qe(Ot,n),Qe(Ht,Ht.current),!0}function kp(n,i,a){var c=n.stateNode;if(!c)throw Error(t(169));a?(n=Pp(n,i,Ki),c.__reactInternalMemoizedMergedChildContext=n,Ze(Ht),Ze(Ot),Qe(Ot,n)):Ze(Ht),Qe(Ht,a)}var Er=null,$l=!1,ih=!1;function Np(n){Er===null?Er=[n]:Er.push(n)}function ow(n){$l=!0,Np(n)}function Zr(){if(!ih&&Er!==null){ih=!0;var n=0,i=je;try{var a=Er;for(je=1;n<a.length;n++){var c=a[n];do c=c(!0);while(c!==null)}Er=null,$l=!1}catch(f){throw Er!==null&&(Er=Er.slice(n+1)),Bo(Rs,Zr),f}finally{je=i,ih=!1}}return null}var Gs=[],Ks=0,Bl=null,ql=0,pn=[],mn=0,Qi=null,wr=1,Tr="";function Yi(n,i){Gs[Ks++]=ql,Gs[Ks++]=Bl,Bl=n,ql=i}function Dp(n,i,a){pn[mn++]=wr,pn[mn++]=Tr,pn[mn++]=Qi,Qi=n;var c=wr;n=Tr;var f=32-nn(c)-1;c&=~(1<<f),a+=1;var d=32-nn(i)+f;if(30<d){var v=f-f%5;d=(c&(1<<v)-1).toString(32),c>>=v,f-=v,wr=1<<32-nn(i)+f|a<<f|c,Tr=d+n}else wr=1<<d|a<<f|c,Tr=n}function sh(n){n.return!==null&&(Yi(n,1),Dp(n,1,0))}function oh(n){for(;n===Bl;)Bl=Gs[--Ks],Gs[Ks]=null,ql=Gs[--Ks],Gs[Ks]=null;for(;n===Qi;)Qi=pn[--mn],pn[mn]=null,Tr=pn[--mn],pn[mn]=null,wr=pn[--mn],pn[mn]=null}var ln=null,un=null,tt=!1,Cn=null;function xp(n,i){var a=vn(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=n,i=n.deletions,i===null?(n.deletions=[a],n.flags|=16):i.push(a)}function Vp(n,i){switch(n.tag){case 5:var a=n.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,ln=n,un=Yr(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,ln=n,un=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=Qi!==null?{id:wr,overflow:Tr}:null,n.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=vn(18,null,null,0),a.stateNode=i,a.return=n,n.child=a,ln=n,un=null,!0):!1;default:return!1}}function ah(n){return(n.mode&1)!==0&&(n.flags&128)===0}function lh(n){if(tt){var i=un;if(i){var a=i;if(!Vp(n,i)){if(ah(n))throw Error(t(418));i=Yr(a.nextSibling);var c=ln;i&&Vp(n,i)?xp(c,a):(n.flags=n.flags&-4097|2,tt=!1,ln=n)}}else{if(ah(n))throw Error(t(418));n.flags=n.flags&-4097|2,tt=!1,ln=n}}}function Op(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;ln=n}function Hl(n){if(n!==ln)return!1;if(!tt)return Op(n),tt=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!Zc(n.type,n.memoizedProps)),i&&(i=un)){if(ah(n))throw Mp(),Error(t(418));for(;i;)xp(n,i),i=Yr(i.nextSibling)}if(Op(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(i===0){un=Yr(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}n=n.nextSibling}un=null}}else un=ln?Yr(n.stateNode.nextSibling):null;return!0}function Mp(){for(var n=un;n;)n=Yr(n.nextSibling)}function Qs(){un=ln=null,tt=!1}function uh(n){Cn===null?Cn=[n]:Cn.push(n)}var aw=Ee.ReactCurrentBatchConfig;function pa(n,i,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,n));var f=c,d=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===d?i.ref:(i=function(v){var S=f.refs;v===null?delete S[d]:S[d]=v},i._stringRef=d,i)}if(typeof n!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,n))}return n}function Wl(n,i){throw n=Object.prototype.toString.call(i),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function Lp(n){var i=n._init;return i(n._payload)}function bp(n){function i(b,O){if(n){var j=b.deletions;j===null?(b.deletions=[O],b.flags|=16):j.push(O)}}function a(b,O){if(!n)return null;for(;O!==null;)i(b,O),O=O.sibling;return null}function c(b,O){for(b=new Map;O!==null;)O.key!==null?b.set(O.key,O):b.set(O.index,O),O=O.sibling;return b}function f(b,O){return b=ai(b,O),b.index=0,b.sibling=null,b}function d(b,O,j){return b.index=j,n?(j=b.alternate,j!==null?(j=j.index,j<O?(b.flags|=2,O):j):(b.flags|=2,O)):(b.flags|=1048576,O)}function v(b){return n&&b.alternate===null&&(b.flags|=2),b}function S(b,O,j,ee){return O===null||O.tag!==6?(O=ef(j,b.mode,ee),O.return=b,O):(O=f(O,j),O.return=b,O)}function D(b,O,j,ee){var ge=j.type;return ge===N?Y(b,O,j.props.children,ee,j.key):O!==null&&(O.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===te&&Lp(ge)===O.type)?(ee=f(O,j.props),ee.ref=pa(b,O,j),ee.return=b,ee):(ee=gu(j.type,j.key,j.props,null,b.mode,ee),ee.ref=pa(b,O,j),ee.return=b,ee)}function z(b,O,j,ee){return O===null||O.tag!==4||O.stateNode.containerInfo!==j.containerInfo||O.stateNode.implementation!==j.implementation?(O=tf(j,b.mode,ee),O.return=b,O):(O=f(O,j.children||[]),O.return=b,O)}function Y(b,O,j,ee,ge){return O===null||O.tag!==7?(O=is(j,b.mode,ee,ge),O.return=b,O):(O=f(O,j),O.return=b,O)}function J(b,O,j){if(typeof O=="string"&&O!==""||typeof O=="number")return O=ef(""+O,b.mode,j),O.return=b,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Ie:return j=gu(O.type,O.key,O.props,null,b.mode,j),j.ref=pa(b,null,O),j.return=b,j;case Se:return O=tf(O,b.mode,j),O.return=b,O;case te:var ee=O._init;return J(b,ee(O._payload),j)}if(at(O)||X(O))return O=is(O,b.mode,j,null),O.return=b,O;Wl(b,O)}return null}function Q(b,O,j,ee){var ge=O!==null?O.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return ge!==null?null:S(b,O,""+j,ee);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Ie:return j.key===ge?D(b,O,j,ee):null;case Se:return j.key===ge?z(b,O,j,ee):null;case te:return ge=j._init,Q(b,O,ge(j._payload),ee)}if(at(j)||X(j))return ge!==null?null:Y(b,O,j,ee,null);Wl(b,j)}return null}function ce(b,O,j,ee,ge){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return b=b.get(j)||null,S(O,b,""+ee,ge);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case Ie:return b=b.get(ee.key===null?j:ee.key)||null,D(O,b,ee,ge);case Se:return b=b.get(ee.key===null?j:ee.key)||null,z(O,b,ee,ge);case te:var we=ee._init;return ce(b,O,j,we(ee._payload),ge)}if(at(ee)||X(ee))return b=b.get(j)||null,Y(O,b,ee,ge,null);Wl(O,ee)}return null}function de(b,O,j,ee){for(var ge=null,we=null,Te=O,Pe=O=0,It=null;Te!==null&&Pe<j.length;Pe++){Te.index>Pe?(It=Te,Te=null):It=Te.sibling;var Be=Q(b,Te,j[Pe],ee);if(Be===null){Te===null&&(Te=It);break}n&&Te&&Be.alternate===null&&i(b,Te),O=d(Be,O,Pe),we===null?ge=Be:we.sibling=Be,we=Be,Te=It}if(Pe===j.length)return a(b,Te),tt&&Yi(b,Pe),ge;if(Te===null){for(;Pe<j.length;Pe++)Te=J(b,j[Pe],ee),Te!==null&&(O=d(Te,O,Pe),we===null?ge=Te:we.sibling=Te,we=Te);return tt&&Yi(b,Pe),ge}for(Te=c(b,Te);Pe<j.length;Pe++)It=ce(Te,b,Pe,j[Pe],ee),It!==null&&(n&&It.alternate!==null&&Te.delete(It.key===null?Pe:It.key),O=d(It,O,Pe),we===null?ge=It:we.sibling=It,we=It);return n&&Te.forEach(function(li){return i(b,li)}),tt&&Yi(b,Pe),ge}function pe(b,O,j,ee){var ge=X(j);if(typeof ge!="function")throw Error(t(150));if(j=ge.call(j),j==null)throw Error(t(151));for(var we=ge=null,Te=O,Pe=O=0,It=null,Be=j.next();Te!==null&&!Be.done;Pe++,Be=j.next()){Te.index>Pe?(It=Te,Te=null):It=Te.sibling;var li=Q(b,Te,Be.value,ee);if(li===null){Te===null&&(Te=It);break}n&&Te&&li.alternate===null&&i(b,Te),O=d(li,O,Pe),we===null?ge=li:we.sibling=li,we=li,Te=It}if(Be.done)return a(b,Te),tt&&Yi(b,Pe),ge;if(Te===null){for(;!Be.done;Pe++,Be=j.next())Be=J(b,Be.value,ee),Be!==null&&(O=d(Be,O,Pe),we===null?ge=Be:we.sibling=Be,we=Be);return tt&&Yi(b,Pe),ge}for(Te=c(b,Te);!Be.done;Pe++,Be=j.next())Be=ce(Te,b,Pe,Be.value,ee),Be!==null&&(n&&Be.alternate!==null&&Te.delete(Be.key===null?Pe:Be.key),O=d(Be,O,Pe),we===null?ge=Be:we.sibling=Be,we=Be);return n&&Te.forEach(function(jw){return i(b,jw)}),tt&&Yi(b,Pe),ge}function ut(b,O,j,ee){if(typeof j=="object"&&j!==null&&j.type===N&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Ie:e:{for(var ge=j.key,we=O;we!==null;){if(we.key===ge){if(ge=j.type,ge===N){if(we.tag===7){a(b,we.sibling),O=f(we,j.props.children),O.return=b,b=O;break e}}else if(we.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===te&&Lp(ge)===we.type){a(b,we.sibling),O=f(we,j.props),O.ref=pa(b,we,j),O.return=b,b=O;break e}a(b,we);break}else i(b,we);we=we.sibling}j.type===N?(O=is(j.props.children,b.mode,ee,j.key),O.return=b,b=O):(ee=gu(j.type,j.key,j.props,null,b.mode,ee),ee.ref=pa(b,O,j),ee.return=b,b=ee)}return v(b);case Se:e:{for(we=j.key;O!==null;){if(O.key===we)if(O.tag===4&&O.stateNode.containerInfo===j.containerInfo&&O.stateNode.implementation===j.implementation){a(b,O.sibling),O=f(O,j.children||[]),O.return=b,b=O;break e}else{a(b,O);break}else i(b,O);O=O.sibling}O=tf(j,b.mode,ee),O.return=b,b=O}return v(b);case te:return we=j._init,ut(b,O,we(j._payload),ee)}if(at(j))return de(b,O,j,ee);if(X(j))return pe(b,O,j,ee);Wl(b,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,O!==null&&O.tag===6?(a(b,O.sibling),O=f(O,j),O.return=b,b=O):(a(b,O),O=ef(j,b.mode,ee),O.return=b,b=O),v(b)):a(b,O)}return ut}var Ys=bp(!0),Fp=bp(!1),Gl=Xr(null),Kl=null,Xs=null,ch=null;function hh(){ch=Xs=Kl=null}function fh(n){var i=Gl.current;Ze(Gl),n._currentValue=i}function dh(n,i,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),n===a)break;n=n.return}}function Js(n,i){Kl=n,ch=Xs=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&i)!==0&&(Gt=!0),n.firstContext=null)}function gn(n){var i=n._currentValue;if(ch!==n)if(n={context:n,memoizedValue:i,next:null},Xs===null){if(Kl===null)throw Error(t(308));Xs=n,Kl.dependencies={lanes:0,firstContext:n}}else Xs=Xs.next=n;return i}var Xi=null;function ph(n){Xi===null?Xi=[n]:Xi.push(n)}function Up(n,i,a,c){var f=i.interleaved;return f===null?(a.next=a,ph(i)):(a.next=f.next,f.next=a),i.interleaved=a,Ir(n,c)}function Ir(n,i){n.lanes|=i;var a=n.alternate;for(a!==null&&(a.lanes|=i),a=n,n=n.return;n!==null;)n.childLanes|=i,a=n.alternate,a!==null&&(a.childLanes|=i),a=n,n=n.return;return a.tag===3?a.stateNode:null}var ei=!1;function mh(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jp(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Sr(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function ti(n,i,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,($e&2)!==0){var f=c.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),c.pending=i,Ir(n,a)}return f=c.interleaved,f===null?(i.next=i,ph(c)):(i.next=f.next,f.next=i),c.interleaved=i,Ir(n,a)}function Ql(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,Qo(n,a)}}function zp(n,i){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};d===null?f=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?f=d=i:d=d.next=i}else f=d=i;a={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:c.shared,effects:c.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}function Yl(n,i,a,c){var f=n.updateQueue;ei=!1;var d=f.firstBaseUpdate,v=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var D=S,z=D.next;D.next=null,v===null?d=z:v.next=z,v=D;var Y=n.alternate;Y!==null&&(Y=Y.updateQueue,S=Y.lastBaseUpdate,S!==v&&(S===null?Y.firstBaseUpdate=z:S.next=z,Y.lastBaseUpdate=D))}if(d!==null){var J=f.baseState;v=0,Y=z=D=null,S=d;do{var Q=S.lane,ce=S.eventTime;if((c&Q)===Q){Y!==null&&(Y=Y.next={eventTime:ce,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var de=n,pe=S;switch(Q=i,ce=a,pe.tag){case 1:if(de=pe.payload,typeof de=="function"){J=de.call(ce,J,Q);break e}J=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=pe.payload,Q=typeof de=="function"?de.call(ce,J,Q):de,Q==null)break e;J=K({},J,Q);break e;case 2:ei=!0}}S.callback!==null&&S.lane!==0&&(n.flags|=64,Q=f.effects,Q===null?f.effects=[S]:Q.push(S))}else ce={eventTime:ce,lane:Q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Y===null?(z=Y=ce,D=J):Y=Y.next=ce,v|=Q;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;Q=S,S=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);if(Y===null&&(D=J),f.baseState=D,f.firstBaseUpdate=z,f.lastBaseUpdate=Y,i=f.shared.interleaved,i!==null){f=i;do v|=f.lane,f=f.next;while(f!==i)}else d===null&&(f.shared.lanes=0);es|=v,n.lanes=v,n.memoizedState=J}}function $p(n,i,a){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var c=n[i],f=c.callback;if(f!==null){if(c.callback=null,c=a,typeof f!="function")throw Error(t(191,f));f.call(c)}}}var ma={},Jn=Xr(ma),ga=Xr(ma),ya=Xr(ma);function Ji(n){if(n===ma)throw Error(t(174));return n}function gh(n,i){switch(Qe(ya,i),Qe(ga,n),Qe(Jn,ma),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Es(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=Es(i,n)}Ze(Jn),Qe(Jn,i)}function Zs(){Ze(Jn),Ze(ga),Ze(ya)}function Bp(n){Ji(ya.current);var i=Ji(Jn.current),a=Es(i,n.type);i!==a&&(Qe(ga,n),Qe(Jn,a))}function yh(n){ga.current===n&&(Ze(Jn),Ze(ga))}var nt=Xr(0);function Xl(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var _h=[];function vh(){for(var n=0;n<_h.length;n++)_h[n]._workInProgressVersionPrimary=null;_h.length=0}var Jl=Ee.ReactCurrentDispatcher,Eh=Ee.ReactCurrentBatchConfig,Zi=0,rt=null,yt=null,wt=null,Zl=!1,_a=!1,va=0,lw=0;function Mt(){throw Error(t(321))}function wh(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!Rn(n[a],i[a]))return!1;return!0}function Th(n,i,a,c,f,d){if(Zi=d,rt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Jl.current=n===null||n.memoizedState===null?fw:dw,n=a(c,f),_a){d=0;do{if(_a=!1,va=0,25<=d)throw Error(t(301));d+=1,wt=yt=null,i.updateQueue=null,Jl.current=pw,n=a(c,f)}while(_a)}if(Jl.current=nu,i=yt!==null&&yt.next!==null,Zi=0,wt=yt=rt=null,Zl=!1,i)throw Error(t(300));return n}function Ih(){var n=va!==0;return va=0,n}function Zn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?rt.memoizedState=wt=n:wt=wt.next=n,wt}function yn(){if(yt===null){var n=rt.alternate;n=n!==null?n.memoizedState:null}else n=yt.next;var i=wt===null?rt.memoizedState:wt.next;if(i!==null)wt=i,yt=n;else{if(n===null)throw Error(t(310));yt=n,n={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},wt===null?rt.memoizedState=wt=n:wt=wt.next=n}return wt}function Ea(n,i){return typeof i=="function"?i(n):i}function Sh(n){var i=yn(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=yt,f=c.baseQueue,d=a.pending;if(d!==null){if(f!==null){var v=f.next;f.next=d.next,d.next=v}c.baseQueue=f=d,a.pending=null}if(f!==null){d=f.next,c=c.baseState;var S=v=null,D=null,z=d;do{var Y=z.lane;if((Zi&Y)===Y)D!==null&&(D=D.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),c=z.hasEagerState?z.eagerState:n(c,z.action);else{var J={lane:Y,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};D===null?(S=D=J,v=c):D=D.next=J,rt.lanes|=Y,es|=Y}z=z.next}while(z!==null&&z!==d);D===null?v=c:D.next=S,Rn(c,i.memoizedState)||(Gt=!0),i.memoizedState=c,i.baseState=v,i.baseQueue=D,a.lastRenderedState=c}if(n=a.interleaved,n!==null){f=n;do d=f.lane,rt.lanes|=d,es|=d,f=f.next;while(f!==n)}else f===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function Ah(n){var i=yn(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=a.dispatch,f=a.pending,d=i.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do d=n(d,v.action),v=v.next;while(v!==f);Rn(d,i.memoizedState)||(Gt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,c]}function qp(){}function Hp(n,i){var a=rt,c=yn(),f=i(),d=!Rn(c.memoizedState,f);if(d&&(c.memoizedState=f,Gt=!0),c=c.queue,Rh(Kp.bind(null,a,c,n),[n]),c.getSnapshot!==i||d||wt!==null&&wt.memoizedState.tag&1){if(a.flags|=2048,wa(9,Gp.bind(null,a,c,f,i),void 0,null),Tt===null)throw Error(t(349));(Zi&30)!==0||Wp(a,i,f)}return f}function Wp(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=rt.updateQueue,i===null?(i={lastEffect:null,stores:null},rt.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function Gp(n,i,a,c){i.value=a,i.getSnapshot=c,Qp(i)&&Yp(n)}function Kp(n,i,a){return a(function(){Qp(i)&&Yp(n)})}function Qp(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!Rn(n,a)}catch{return!0}}function Yp(n){var i=Ir(n,1);i!==null&&Dn(i,n,1,-1)}function Xp(n){var i=Zn();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:n},i.queue=n,n=n.dispatch=hw.bind(null,rt,n),[i.memoizedState,n]}function wa(n,i,a,c){return n={tag:n,create:i,destroy:a,deps:c,next:null},i=rt.updateQueue,i===null?(i={lastEffect:null,stores:null},rt.updateQueue=i,i.lastEffect=n.next=n):(a=i.lastEffect,a===null?i.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,i.lastEffect=n)),n}function Jp(){return yn().memoizedState}function eu(n,i,a,c){var f=Zn();rt.flags|=n,f.memoizedState=wa(1|i,a,void 0,c===void 0?null:c)}function tu(n,i,a,c){var f=yn();c=c===void 0?null:c;var d=void 0;if(yt!==null){var v=yt.memoizedState;if(d=v.destroy,c!==null&&wh(c,v.deps)){f.memoizedState=wa(i,a,d,c);return}}rt.flags|=n,f.memoizedState=wa(1|i,a,d,c)}function Zp(n,i){return eu(8390656,8,n,i)}function Rh(n,i){return tu(2048,8,n,i)}function em(n,i){return tu(4,2,n,i)}function tm(n,i){return tu(4,4,n,i)}function nm(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function rm(n,i,a){return a=a!=null?a.concat([n]):null,tu(4,4,nm.bind(null,i,n),a)}function Ch(){}function im(n,i){var a=yn();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&wh(i,c[1])?c[0]:(a.memoizedState=[n,i],n)}function sm(n,i){var a=yn();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&wh(i,c[1])?c[0]:(n=n(),a.memoizedState=[n,i],n)}function om(n,i,a){return(Zi&21)===0?(n.baseState&&(n.baseState=!1,Gt=!0),n.memoizedState=a):(Rn(a,i)||(a=Go(),rt.lanes|=a,es|=a,n.baseState=!0),i)}function uw(n,i){var a=je;je=a!==0&&4>a?a:4,n(!0);var c=Eh.transition;Eh.transition={};try{n(!1),i()}finally{je=a,Eh.transition=c}}function am(){return yn().memoizedState}function cw(n,i,a){var c=si(n);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},lm(n))um(i,a);else if(a=Up(n,i,a,c),a!==null){var f=qt();Dn(a,n,c,f),cm(a,i,c)}}function hw(n,i,a){var c=si(n),f={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(lm(n))um(i,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,S=d(v,a);if(f.hasEagerState=!0,f.eagerState=S,Rn(S,v)){var D=i.interleaved;D===null?(f.next=f,ph(i)):(f.next=D.next,D.next=f),i.interleaved=f;return}}catch{}finally{}a=Up(n,i,f,c),a!==null&&(f=qt(),Dn(a,n,c,f),cm(a,i,c))}}function lm(n){var i=n.alternate;return n===rt||i!==null&&i===rt}function um(n,i){_a=Zl=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function cm(n,i,a){if((a&4194240)!==0){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,Qo(n,a)}}var nu={readContext:gn,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useInsertionEffect:Mt,useLayoutEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useMutableSource:Mt,useSyncExternalStore:Mt,useId:Mt,unstable_isNewReconciler:!1},fw={readContext:gn,useCallback:function(n,i){return Zn().memoizedState=[n,i===void 0?null:i],n},useContext:gn,useEffect:Zp,useImperativeHandle:function(n,i,a){return a=a!=null?a.concat([n]):null,eu(4194308,4,nm.bind(null,i,n),a)},useLayoutEffect:function(n,i){return eu(4194308,4,n,i)},useInsertionEffect:function(n,i){return eu(4,2,n,i)},useMemo:function(n,i){var a=Zn();return i=i===void 0?null:i,n=n(),a.memoizedState=[n,i],n},useReducer:function(n,i,a){var c=Zn();return i=a!==void 0?a(i):i,c.memoizedState=c.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},c.queue=n,n=n.dispatch=cw.bind(null,rt,n),[c.memoizedState,n]},useRef:function(n){var i=Zn();return n={current:n},i.memoizedState=n},useState:Xp,useDebugValue:Ch,useDeferredValue:function(n){return Zn().memoizedState=n},useTransition:function(){var n=Xp(!1),i=n[0];return n=uw.bind(null,n[1]),Zn().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,a){var c=rt,f=Zn();if(tt){if(a===void 0)throw Error(t(407));a=a()}else{if(a=i(),Tt===null)throw Error(t(349));(Zi&30)!==0||Wp(c,i,a)}f.memoizedState=a;var d={value:a,getSnapshot:i};return f.queue=d,Zp(Kp.bind(null,c,d,n),[n]),c.flags|=2048,wa(9,Gp.bind(null,c,d,a,i),void 0,null),a},useId:function(){var n=Zn(),i=Tt.identifierPrefix;if(tt){var a=Tr,c=wr;a=(c&~(1<<32-nn(c)-1)).toString(32)+a,i=":"+i+"R"+a,a=va++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=lw++,i=":"+i+"r"+a.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},dw={readContext:gn,useCallback:im,useContext:gn,useEffect:Rh,useImperativeHandle:rm,useInsertionEffect:em,useLayoutEffect:tm,useMemo:sm,useReducer:Sh,useRef:Jp,useState:function(){return Sh(Ea)},useDebugValue:Ch,useDeferredValue:function(n){var i=yn();return om(i,yt.memoizedState,n)},useTransition:function(){var n=Sh(Ea)[0],i=yn().memoizedState;return[n,i]},useMutableSource:qp,useSyncExternalStore:Hp,useId:am,unstable_isNewReconciler:!1},pw={readContext:gn,useCallback:im,useContext:gn,useEffect:Rh,useImperativeHandle:rm,useInsertionEffect:em,useLayoutEffect:tm,useMemo:sm,useReducer:Ah,useRef:Jp,useState:function(){return Ah(Ea)},useDebugValue:Ch,useDeferredValue:function(n){var i=yn();return yt===null?i.memoizedState=n:om(i,yt.memoizedState,n)},useTransition:function(){var n=Ah(Ea)[0],i=yn().memoizedState;return[n,i]},useMutableSource:qp,useSyncExternalStore:Hp,useId:am,unstable_isNewReconciler:!1};function Pn(n,i){if(n&&n.defaultProps){i=K({},i),n=n.defaultProps;for(var a in n)i[a]===void 0&&(i[a]=n[a]);return i}return i}function Ph(n,i,a,c){i=n.memoizedState,a=a(c,i),a=a==null?i:K({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var ru={isMounted:function(n){return(n=n._reactInternals)?Sn(n)===n:!1},enqueueSetState:function(n,i,a){n=n._reactInternals;var c=qt(),f=si(n),d=Sr(c,f);d.payload=i,a!=null&&(d.callback=a),i=ti(n,d,f),i!==null&&(Dn(i,n,f,c),Ql(i,n,f))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var c=qt(),f=si(n),d=Sr(c,f);d.tag=1,d.payload=i,a!=null&&(d.callback=a),i=ti(n,d,f),i!==null&&(Dn(i,n,f,c),Ql(i,n,f))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=qt(),c=si(n),f=Sr(a,c);f.tag=2,i!=null&&(f.callback=i),i=ti(n,f,c),i!==null&&(Dn(i,n,c,a),Ql(i,n,c))}};function hm(n,i,a,c,f,d,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,d,v):i.prototype&&i.prototype.isPureReactComponent?!aa(a,c)||!aa(f,d):!0}function fm(n,i,a){var c=!1,f=Jr,d=i.contextType;return typeof d=="object"&&d!==null?d=gn(d):(f=Wt(i)?Ki:Ot.current,c=i.contextTypes,d=(c=c!=null)?Ws(n,f):Jr),i=new i(a,d),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=ru,n.stateNode=i,i._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=f,n.__reactInternalMemoizedMaskedChildContext=d),i}function dm(n,i,a,c){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==n&&ru.enqueueReplaceState(i,i.state,null)}function kh(n,i,a,c){var f=n.stateNode;f.props=a,f.state=n.memoizedState,f.refs={},mh(n);var d=i.contextType;typeof d=="object"&&d!==null?f.context=gn(d):(d=Wt(i)?Ki:Ot.current,f.context=Ws(n,d)),f.state=n.memoizedState,d=i.getDerivedStateFromProps,typeof d=="function"&&(Ph(n,i,d,a),f.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(i=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),i!==f.state&&ru.enqueueReplaceState(f,f.state,null),Yl(n,a,f,c),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308)}function eo(n,i){try{var a="",c=i;do a+=Ae(c),c=c.return;while(c);var f=a}catch(d){f=`
Error generating stack: `+d.message+`
`+d.stack}return{value:n,source:i,stack:f,digest:null}}function Nh(n,i,a){return{value:n,source:null,stack:a??null,digest:i??null}}function Dh(n,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var mw=typeof WeakMap=="function"?WeakMap:Map;function pm(n,i,a){a=Sr(-1,a),a.tag=3,a.payload={element:null};var c=i.value;return a.callback=function(){cu||(cu=!0,Wh=c),Dh(n,i)},a}function mm(n,i,a){a=Sr(-1,a),a.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var f=i.value;a.payload=function(){return c(f)},a.callback=function(){Dh(n,i)}}var d=n.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(a.callback=function(){Dh(n,i),typeof c!="function"&&(ri===null?ri=new Set([this]):ri.add(this));var v=i.stack;this.componentDidCatch(i.value,{componentStack:v!==null?v:""})}),a}function gm(n,i,a){var c=n.pingCache;if(c===null){c=n.pingCache=new mw;var f=new Set;c.set(i,f)}else f=c.get(i),f===void 0&&(f=new Set,c.set(i,f));f.has(a)||(f.add(a),n=kw.bind(null,n,i,a),i.then(n,n))}function ym(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function _m(n,i,a,c,f){return(n.mode&1)===0?(n===i?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=Sr(-1,1),i.tag=2,ti(a,i,1))),a.lanes|=1),n):(n.flags|=65536,n.lanes=f,n)}var gw=Ee.ReactCurrentOwner,Gt=!1;function Bt(n,i,a,c){i.child=n===null?Fp(i,null,a,c):Ys(i,n.child,a,c)}function vm(n,i,a,c,f){a=a.render;var d=i.ref;return Js(i,f),c=Th(n,i,a,c,d,f),a=Ih(),n!==null&&!Gt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~f,Ar(n,i,f)):(tt&&a&&sh(i),i.flags|=1,Bt(n,i,c,f),i.child)}function Em(n,i,a,c,f){if(n===null){var d=a.type;return typeof d=="function"&&!Zh(d)&&d.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=d,wm(n,i,d,c,f)):(n=gu(a.type,null,c,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(d=n.child,(n.lanes&f)===0){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:aa,a(v,c)&&n.ref===i.ref)return Ar(n,i,f)}return i.flags|=1,n=ai(d,c),n.ref=i.ref,n.return=i,i.child=n}function wm(n,i,a,c,f){if(n!==null){var d=n.memoizedProps;if(aa(d,c)&&n.ref===i.ref)if(Gt=!1,i.pendingProps=c=d,(n.lanes&f)!==0)(n.flags&131072)!==0&&(Gt=!0);else return i.lanes=n.lanes,Ar(n,i,f)}return xh(n,i,a,c,f)}function Tm(n,i,a){var c=i.pendingProps,f=c.children,d=n!==null?n.memoizedState:null;if(c.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(no,cn),cn|=a;else{if((a&1073741824)===0)return n=d!==null?d.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,Qe(no,cn),cn|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=d!==null?d.baseLanes:a,Qe(no,cn),cn|=c}else d!==null?(c=d.baseLanes|a,i.memoizedState=null):c=a,Qe(no,cn),cn|=c;return Bt(n,i,f,a),i.child}function Im(n,i){var a=i.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function xh(n,i,a,c,f){var d=Wt(a)?Ki:Ot.current;return d=Ws(i,d),Js(i,f),a=Th(n,i,a,c,d,f),c=Ih(),n!==null&&!Gt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~f,Ar(n,i,f)):(tt&&c&&sh(i),i.flags|=1,Bt(n,i,a,f),i.child)}function Sm(n,i,a,c,f){if(Wt(a)){var d=!0;zl(i)}else d=!1;if(Js(i,f),i.stateNode===null)su(n,i),fm(i,a,c),kh(i,a,c,f),c=!0;else if(n===null){var v=i.stateNode,S=i.memoizedProps;v.props=S;var D=v.context,z=a.contextType;typeof z=="object"&&z!==null?z=gn(z):(z=Wt(a)?Ki:Ot.current,z=Ws(i,z));var Y=a.getDerivedStateFromProps,J=typeof Y=="function"||typeof v.getSnapshotBeforeUpdate=="function";J||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(S!==c||D!==z)&&dm(i,v,c,z),ei=!1;var Q=i.memoizedState;v.state=Q,Yl(i,c,v,f),D=i.memoizedState,S!==c||Q!==D||Ht.current||ei?(typeof Y=="function"&&(Ph(i,a,Y,c),D=i.memoizedState),(S=ei||hm(i,a,S,c,Q,D,z))?(J||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(i.flags|=4194308)):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=D),v.props=c,v.state=D,v.context=z,c=S):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{v=i.stateNode,jp(n,i),S=i.memoizedProps,z=i.type===i.elementType?S:Pn(i.type,S),v.props=z,J=i.pendingProps,Q=v.context,D=a.contextType,typeof D=="object"&&D!==null?D=gn(D):(D=Wt(a)?Ki:Ot.current,D=Ws(i,D));var ce=a.getDerivedStateFromProps;(Y=typeof ce=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(S!==J||Q!==D)&&dm(i,v,c,D),ei=!1,Q=i.memoizedState,v.state=Q,Yl(i,c,v,f);var de=i.memoizedState;S!==J||Q!==de||Ht.current||ei?(typeof ce=="function"&&(Ph(i,a,ce,c),de=i.memoizedState),(z=ei||hm(i,a,z,c,Q,de,D)||!1)?(Y||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,de,D),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,de,D)),typeof v.componentDidUpdate=="function"&&(i.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof v.componentDidUpdate!="function"||S===n.memoizedProps&&Q===n.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===n.memoizedProps&&Q===n.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=de),v.props=c,v.state=de,v.context=D,c=z):(typeof v.componentDidUpdate!="function"||S===n.memoizedProps&&Q===n.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===n.memoizedProps&&Q===n.memoizedState||(i.flags|=1024),c=!1)}return Vh(n,i,a,c,d,f)}function Vh(n,i,a,c,f,d){Im(n,i);var v=(i.flags&128)!==0;if(!c&&!v)return f&&kp(i,a,!1),Ar(n,i,d);c=i.stateNode,gw.current=i;var S=v&&typeof a.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,n!==null&&v?(i.child=Ys(i,n.child,null,d),i.child=Ys(i,null,S,d)):Bt(n,i,S,d),i.memoizedState=c.state,f&&kp(i,a,!0),i.child}function Am(n){var i=n.stateNode;i.pendingContext?Cp(n,i.pendingContext,i.pendingContext!==i.context):i.context&&Cp(n,i.context,!1),gh(n,i.containerInfo)}function Rm(n,i,a,c,f){return Qs(),uh(f),i.flags|=256,Bt(n,i,a,c),i.child}var Oh={dehydrated:null,treeContext:null,retryLane:0};function Mh(n){return{baseLanes:n,cachePool:null,transitions:null}}function Cm(n,i,a){var c=i.pendingProps,f=nt.current,d=!1,v=(i.flags&128)!==0,S;if((S=v)||(S=n!==null&&n.memoizedState===null?!1:(f&2)!==0),S?(d=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(f|=1),Qe(nt,f&1),n===null)return lh(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((i.mode&1)===0?i.lanes=1:n.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(v=c.children,n=c.fallback,d?(c=i.mode,d=i.child,v={mode:"hidden",children:v},(c&1)===0&&d!==null?(d.childLanes=0,d.pendingProps=v):d=yu(v,c,0,null),n=is(n,c,a,null),d.return=i,n.return=i,d.sibling=n,i.child=d,i.child.memoizedState=Mh(a),i.memoizedState=Oh,n):Lh(i,v));if(f=n.memoizedState,f!==null&&(S=f.dehydrated,S!==null))return yw(n,i,v,c,S,f,a);if(d){d=c.fallback,v=i.mode,f=n.child,S=f.sibling;var D={mode:"hidden",children:c.children};return(v&1)===0&&i.child!==f?(c=i.child,c.childLanes=0,c.pendingProps=D,i.deletions=null):(c=ai(f,D),c.subtreeFlags=f.subtreeFlags&14680064),S!==null?d=ai(S,d):(d=is(d,v,a,null),d.flags|=2),d.return=i,c.return=i,c.sibling=d,i.child=c,c=d,d=i.child,v=n.child.memoizedState,v=v===null?Mh(a):{baseLanes:v.baseLanes|a,cachePool:null,transitions:v.transitions},d.memoizedState=v,d.childLanes=n.childLanes&~a,i.memoizedState=Oh,c}return d=n.child,n=d.sibling,c=ai(d,{mode:"visible",children:c.children}),(i.mode&1)===0&&(c.lanes=a),c.return=i,c.sibling=null,n!==null&&(a=i.deletions,a===null?(i.deletions=[n],i.flags|=16):a.push(n)),i.child=c,i.memoizedState=null,c}function Lh(n,i){return i=yu({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function iu(n,i,a,c){return c!==null&&uh(c),Ys(i,n.child,null,a),n=Lh(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function yw(n,i,a,c,f,d,v){if(a)return i.flags&256?(i.flags&=-257,c=Nh(Error(t(422))),iu(n,i,v,c)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(d=c.fallback,f=i.mode,c=yu({mode:"visible",children:c.children},f,0,null),d=is(d,f,v,null),d.flags|=2,c.return=i,d.return=i,c.sibling=d,i.child=c,(i.mode&1)!==0&&Ys(i,n.child,null,v),i.child.memoizedState=Mh(v),i.memoizedState=Oh,d);if((i.mode&1)===0)return iu(n,i,v,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var S=c.dgst;return c=S,d=Error(t(419)),c=Nh(d,c,void 0),iu(n,i,v,c)}if(S=(v&n.childLanes)!==0,Gt||S){if(c=Tt,c!==null){switch(v&-v){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(c.suspendedLanes|v))!==0?0:f,f!==0&&f!==d.retryLane&&(d.retryLane=f,Ir(n,f),Dn(c,n,f,-1))}return Jh(),c=Nh(Error(t(421))),iu(n,i,v,c)}return f.data==="$?"?(i.flags|=128,i.child=n.child,i=Nw.bind(null,n),f._reactRetry=i,null):(n=d.treeContext,un=Yr(f.nextSibling),ln=i,tt=!0,Cn=null,n!==null&&(pn[mn++]=wr,pn[mn++]=Tr,pn[mn++]=Qi,wr=n.id,Tr=n.overflow,Qi=i),i=Lh(i,c.children),i.flags|=4096,i)}function Pm(n,i,a){n.lanes|=i;var c=n.alternate;c!==null&&(c.lanes|=i),dh(n.return,i,a)}function bh(n,i,a,c,f){var d=n.memoizedState;d===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:f}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=c,d.tail=a,d.tailMode=f)}function km(n,i,a){var c=i.pendingProps,f=c.revealOrder,d=c.tail;if(Bt(n,i,c.children,a),c=nt.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Pm(n,a,i);else if(n.tag===19)Pm(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(Qe(nt,c),(i.mode&1)===0)i.memoizedState=null;else switch(f){case"forwards":for(a=i.child,f=null;a!==null;)n=a.alternate,n!==null&&Xl(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),bh(i,!1,f,a,d);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&Xl(n)===null){i.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}bh(i,!0,a,null,d);break;case"together":bh(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function su(n,i){(i.mode&1)===0&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function Ar(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),es|=i.lanes,(a&i.childLanes)===0)return null;if(n!==null&&i.child!==n.child)throw Error(t(153));if(i.child!==null){for(n=i.child,a=ai(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=ai(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function _w(n,i,a){switch(i.tag){case 3:Am(i),Qs();break;case 5:Bp(i);break;case 1:Wt(i.type)&&zl(i);break;case 4:gh(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,f=i.memoizedProps.value;Qe(Gl,c._currentValue),c._currentValue=f;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(Qe(nt,nt.current&1),i.flags|=128,null):(a&i.child.childLanes)!==0?Cm(n,i,a):(Qe(nt,nt.current&1),n=Ar(n,i,a),n!==null?n.sibling:null);Qe(nt,nt.current&1);break;case 19:if(c=(a&i.childLanes)!==0,(n.flags&128)!==0){if(c)return km(n,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Qe(nt,nt.current),c)break;return null;case 22:case 23:return i.lanes=0,Tm(n,i,a)}return Ar(n,i,a)}var Nm,Fh,Dm,xm;Nm=function(n,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Fh=function(){},Dm=function(n,i,a,c){var f=n.memoizedProps;if(f!==c){n=i.stateNode,Ji(Jn.current);var d=null;switch(a){case"input":f=_s(n,f),c=_s(n,c),d=[];break;case"select":f=K({},f,{value:void 0}),c=K({},c,{value:void 0}),d=[];break;case"textarea":f=Lo(n,f),c=Lo(n,c),d=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=Fl)}In(a,c);var v;a=null;for(z in f)if(!c.hasOwnProperty(z)&&f.hasOwnProperty(z)&&f[z]!=null)if(z==="style"){var S=f[z];for(v in S)S.hasOwnProperty(v)&&(a||(a={}),a[v]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(o.hasOwnProperty(z)?d||(d=[]):(d=d||[]).push(z,null));for(z in c){var D=c[z];if(S=f?.[z],c.hasOwnProperty(z)&&D!==S&&(D!=null||S!=null))if(z==="style")if(S){for(v in S)!S.hasOwnProperty(v)||D&&D.hasOwnProperty(v)||(a||(a={}),a[v]="");for(v in D)D.hasOwnProperty(v)&&S[v]!==D[v]&&(a||(a={}),a[v]=D[v])}else a||(d||(d=[]),d.push(z,a)),a=D;else z==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,S=S?S.__html:void 0,D!=null&&S!==D&&(d=d||[]).push(z,D)):z==="children"?typeof D!="string"&&typeof D!="number"||(d=d||[]).push(z,""+D):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(o.hasOwnProperty(z)?(D!=null&&z==="onScroll"&&Je("scroll",n),d||S===D||(d=[])):(d=d||[]).push(z,D))}a&&(d=d||[]).push("style",a);var z=d;(i.updateQueue=z)&&(i.flags|=4)}},xm=function(n,i,a,c){a!==c&&(i.flags|=4)};function Ta(n,i){if(!tt)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Lt(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(i)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=c,n.childLanes=a,i}function vw(n,i,a){var c=i.pendingProps;switch(oh(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(i),null;case 1:return Wt(i.type)&&jl(),Lt(i),null;case 3:return c=i.stateNode,Zs(),Ze(Ht),Ze(Ot),vh(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(Hl(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Cn!==null&&(Qh(Cn),Cn=null))),Fh(n,i),Lt(i),null;case 5:yh(i);var f=Ji(ya.current);if(a=i.type,n!==null&&i.stateNode!=null)Dm(n,i,a,c,f),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(t(166));return Lt(i),null}if(n=Ji(Jn.current),Hl(i)){c=i.stateNode,a=i.type;var d=i.memoizedProps;switch(c[Xn]=i,c[fa]=d,n=(i.mode&1)!==0,a){case"dialog":Je("cancel",c),Je("close",c);break;case"iframe":case"object":case"embed":Je("load",c);break;case"video":case"audio":for(f=0;f<ua.length;f++)Je(ua[f],c);break;case"source":Je("error",c);break;case"img":case"image":case"link":Je("error",c),Je("load",c);break;case"details":Je("toggle",c);break;case"input":ul(c,d),Je("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!d.multiple},Je("invalid",c);break;case"textarea":bo(c,d),Je("invalid",c)}In(a,d),f=null;for(var v in d)if(d.hasOwnProperty(v)){var S=d[v];v==="children"?typeof S=="string"?c.textContent!==S&&(d.suppressHydrationWarning!==!0&&bl(c.textContent,S,n),f=["children",S]):typeof S=="number"&&c.textContent!==""+S&&(d.suppressHydrationWarning!==!0&&bl(c.textContent,S,n),f=["children",""+S]):o.hasOwnProperty(v)&&S!=null&&v==="onScroll"&&Je("scroll",c)}switch(a){case"input":$t(c),Mo(c,d,!0);break;case"textarea":$t(c),Or(c);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(c.onclick=Fl)}c=f,i.updateQueue=c,c!==null&&(i.flags|=4)}else{v=f.nodeType===9?f:f.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Fo(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=v.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=v.createElement(a,{is:c.is}):(n=v.createElement(a),a==="select"&&(v=n,c.multiple?v.multiple=!0:c.size&&(v.size=c.size))):n=v.createElementNS(n,a),n[Xn]=i,n[fa]=c,Nm(n,i,!1,!1),i.stateNode=n;e:{switch(v=Ts(a,c),a){case"dialog":Je("cancel",n),Je("close",n),f=c;break;case"iframe":case"object":case"embed":Je("load",n),f=c;break;case"video":case"audio":for(f=0;f<ua.length;f++)Je(ua[f],n);f=c;break;case"source":Je("error",n),f=c;break;case"img":case"image":case"link":Je("error",n),Je("load",n),f=c;break;case"details":Je("toggle",n),f=c;break;case"input":ul(n,c),f=_s(n,c),Je("invalid",n);break;case"option":f=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},f=K({},c,{value:void 0}),Je("invalid",n);break;case"textarea":bo(n,c),f=Lo(n,c),Je("invalid",n);break;default:f=c}In(a,f),S=f;for(d in S)if(S.hasOwnProperty(d)){var D=S[d];d==="style"?ws(n,D):d==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&hl(n,D)):d==="children"?typeof D=="string"?(a!=="textarea"||D!=="")&&Vi(n,D):typeof D=="number"&&Vi(n,""+D):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(o.hasOwnProperty(d)?D!=null&&d==="onScroll"&&Je("scroll",n):D!=null&&ae(n,d,D,v))}switch(a){case"input":$t(n),Mo(n,c,!1);break;case"textarea":$t(n),Or(n);break;case"option":c.value!=null&&n.setAttribute("value",""+Ve(c.value));break;case"select":n.multiple=!!c.multiple,d=c.value,d!=null?Tn(n,!!c.multiple,d,!1):c.defaultValue!=null&&Tn(n,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(n.onclick=Fl)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Lt(i),null;case 6:if(n&&i.stateNode!=null)xm(n,i,n.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(t(166));if(a=Ji(ya.current),Ji(Jn.current),Hl(i)){if(c=i.stateNode,a=i.memoizedProps,c[Xn]=i,(d=c.nodeValue!==a)&&(n=ln,n!==null))switch(n.tag){case 3:bl(c.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&bl(c.nodeValue,a,(n.mode&1)!==0)}d&&(i.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Xn]=i,i.stateNode=c}return Lt(i),null;case 13:if(Ze(nt),c=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(tt&&un!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Mp(),Qs(),i.flags|=98560,d=!1;else if(d=Hl(i),c!==null&&c.dehydrated!==null){if(n===null){if(!d)throw Error(t(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(t(317));d[Xn]=i}else Qs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Lt(i),d=!1}else Cn!==null&&(Qh(Cn),Cn=null),d=!0;if(!d)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=a,i):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(i.child.flags|=8192,(i.mode&1)!==0&&(n===null||(nt.current&1)!==0?_t===0&&(_t=3):Jh())),i.updateQueue!==null&&(i.flags|=4),Lt(i),null);case 4:return Zs(),Fh(n,i),n===null&&ca(i.stateNode.containerInfo),Lt(i),null;case 10:return fh(i.type._context),Lt(i),null;case 17:return Wt(i.type)&&jl(),Lt(i),null;case 19:if(Ze(nt),d=i.memoizedState,d===null)return Lt(i),null;if(c=(i.flags&128)!==0,v=d.rendering,v===null)if(c)Ta(d,!1);else{if(_t!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(v=Xl(n),v!==null){for(i.flags|=128,Ta(d,!1),c=v.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=a,a=i.child;a!==null;)d=a,n=c,d.flags&=14680066,v=d.alternate,v===null?(d.childLanes=0,d.lanes=n,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=v.childLanes,d.lanes=v.lanes,d.child=v.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=v.memoizedProps,d.memoizedState=v.memoizedState,d.updateQueue=v.updateQueue,d.type=v.type,n=v.dependencies,d.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return Qe(nt,nt.current&1|2),i.child}n=n.sibling}d.tail!==null&&Xe()>ro&&(i.flags|=128,c=!0,Ta(d,!1),i.lanes=4194304)}else{if(!c)if(n=Xl(v),n!==null){if(i.flags|=128,c=!0,a=n.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),Ta(d,!0),d.tail===null&&d.tailMode==="hidden"&&!v.alternate&&!tt)return Lt(i),null}else 2*Xe()-d.renderingStartTime>ro&&a!==1073741824&&(i.flags|=128,c=!0,Ta(d,!1),i.lanes=4194304);d.isBackwards?(v.sibling=i.child,i.child=v):(a=d.last,a!==null?a.sibling=v:i.child=v,d.last=v)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=Xe(),i.sibling=null,a=nt.current,Qe(nt,c?a&1|2:a&1),i):(Lt(i),null);case 22:case 23:return Xh(),c=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(i.flags|=8192),c&&(i.mode&1)!==0?(cn&1073741824)!==0&&(Lt(i),i.subtreeFlags&6&&(i.flags|=8192)):Lt(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function Ew(n,i){switch(oh(i),i.tag){case 1:return Wt(i.type)&&jl(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Zs(),Ze(Ht),Ze(Ot),vh(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 5:return yh(i),null;case 13:if(Ze(nt),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(t(340));Qs()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return Ze(nt),null;case 4:return Zs(),null;case 10:return fh(i.type._context),null;case 22:case 23:return Xh(),null;case 24:return null;default:return null}}var ou=!1,bt=!1,ww=typeof WeakSet=="function"?WeakSet:Set,fe=null;function to(n,i){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){ot(n,i,c)}else a.current=null}function Uh(n,i,a){try{a()}catch(c){ot(n,i,c)}}var Vm=!1;function Tw(n,i){if(Xc=gr,n=hp(),Bc(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var f=c.anchorOffset,d=c.focusNode;c=c.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,S=-1,D=-1,z=0,Y=0,J=n,Q=null;t:for(;;){for(var ce;J!==a||f!==0&&J.nodeType!==3||(S=v+f),J!==d||c!==0&&J.nodeType!==3||(D=v+c),J.nodeType===3&&(v+=J.nodeValue.length),(ce=J.firstChild)!==null;)Q=J,J=ce;for(;;){if(J===n)break t;if(Q===a&&++z===f&&(S=v),Q===d&&++Y===c&&(D=v),(ce=J.nextSibling)!==null)break;J=Q,Q=J.parentNode}J=ce}a=S===-1||D===-1?null:{start:S,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Jc={focusedElem:n,selectionRange:a},gr=!1,fe=i;fe!==null;)if(i=fe,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,fe=n;else for(;fe!==null;){i=fe;try{var de=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(de!==null){var pe=de.memoizedProps,ut=de.memoizedState,b=i.stateNode,O=b.getSnapshotBeforeUpdate(i.elementType===i.type?pe:Pn(i.type,pe),ut);b.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var j=i.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ee){ot(i,i.return,ee)}if(n=i.sibling,n!==null){n.return=i.return,fe=n;break}fe=i.return}return de=Vm,Vm=!1,de}function Ia(n,i,a){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&n)===n){var d=f.destroy;f.destroy=void 0,d!==void 0&&Uh(i,a,d)}f=f.next}while(f!==c)}}function au(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&n)===n){var c=a.create;a.destroy=c()}a=a.next}while(a!==i)}}function jh(n){var i=n.ref;if(i!==null){var a=n.stateNode;switch(n.tag){case 5:n=a;break;default:n=a}typeof i=="function"?i(n):i.current=n}}function Om(n){var i=n.alternate;i!==null&&(n.alternate=null,Om(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[Xn],delete i[fa],delete i[nh],delete i[iw],delete i[sw])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Mm(n){return n.tag===5||n.tag===3||n.tag===4}function Lm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Mm(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function zh(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(n,i):a.insertBefore(n,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(n,a)):(i=a,i.appendChild(n)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Fl));else if(c!==4&&(n=n.child,n!==null))for(zh(n,i,a),n=n.sibling;n!==null;)zh(n,i,a),n=n.sibling}function $h(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for($h(n,i,a),n=n.sibling;n!==null;)$h(n,i,a),n=n.sibling}var Ct=null,kn=!1;function ni(n,i,a){for(a=a.child;a!==null;)bm(n,i,a),a=a.sibling}function bm(n,i,a){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(Fi,a)}catch{}switch(a.tag){case 5:bt||to(a,i);case 6:var c=Ct,f=kn;Ct=null,ni(n,i,a),Ct=c,kn=f,Ct!==null&&(kn?(n=Ct,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):Ct.removeChild(a.stateNode));break;case 18:Ct!==null&&(kn?(n=Ct,a=a.stateNode,n.nodeType===8?th(n.parentNode,a):n.nodeType===1&&th(n,a),Wr(n)):th(Ct,a.stateNode));break;case 4:c=Ct,f=kn,Ct=a.stateNode.containerInfo,kn=!0,ni(n,i,a),Ct=c,kn=f;break;case 0:case 11:case 14:case 15:if(!bt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var d=f,v=d.destroy;d=d.tag,v!==void 0&&((d&2)!==0||(d&4)!==0)&&Uh(a,i,v),f=f.next}while(f!==c)}ni(n,i,a);break;case 1:if(!bt&&(to(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(S){ot(a,i,S)}ni(n,i,a);break;case 21:ni(n,i,a);break;case 22:a.mode&1?(bt=(c=bt)||a.memoizedState!==null,ni(n,i,a),bt=c):ni(n,i,a);break;default:ni(n,i,a)}}function Fm(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new ww),i.forEach(function(c){var f=Dw.bind(null,n,c);a.has(c)||(a.add(c),c.then(f,f))})}}function Nn(n,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var f=a[c];try{var d=n,v=i,S=v;e:for(;S!==null;){switch(S.tag){case 5:Ct=S.stateNode,kn=!1;break e;case 3:Ct=S.stateNode.containerInfo,kn=!0;break e;case 4:Ct=S.stateNode.containerInfo,kn=!0;break e}S=S.return}if(Ct===null)throw Error(t(160));bm(d,v,f),Ct=null,kn=!1;var D=f.alternate;D!==null&&(D.return=null),f.return=null}catch(z){ot(f,i,z)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Um(i,n),i=i.sibling}function Um(n,i){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Nn(i,n),er(n),c&4){try{Ia(3,n,n.return),au(3,n)}catch(pe){ot(n,n.return,pe)}try{Ia(5,n,n.return)}catch(pe){ot(n,n.return,pe)}}break;case 1:Nn(i,n),er(n),c&512&&a!==null&&to(a,a.return);break;case 5:if(Nn(i,n),er(n),c&512&&a!==null&&to(a,a.return),n.flags&32){var f=n.stateNode;try{Vi(f,"")}catch(pe){ot(n,n.return,pe)}}if(c&4&&(f=n.stateNode,f!=null)){var d=n.memoizedProps,v=a!==null?a.memoizedProps:d,S=n.type,D=n.updateQueue;if(n.updateQueue=null,D!==null)try{S==="input"&&d.type==="radio"&&d.name!=null&&vs(f,d),Ts(S,v);var z=Ts(S,d);for(v=0;v<D.length;v+=2){var Y=D[v],J=D[v+1];Y==="style"?ws(f,J):Y==="dangerouslySetInnerHTML"?hl(f,J):Y==="children"?Vi(f,J):ae(f,Y,J,z)}switch(S){case"input":xi(f,d);break;case"textarea":cl(f,d);break;case"select":var Q=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!d.multiple;var ce=d.value;ce!=null?Tn(f,!!d.multiple,ce,!1):Q!==!!d.multiple&&(d.defaultValue!=null?Tn(f,!!d.multiple,d.defaultValue,!0):Tn(f,!!d.multiple,d.multiple?[]:"",!1))}f[fa]=d}catch(pe){ot(n,n.return,pe)}}break;case 6:if(Nn(i,n),er(n),c&4){if(n.stateNode===null)throw Error(t(162));f=n.stateNode,d=n.memoizedProps;try{f.nodeValue=d}catch(pe){ot(n,n.return,pe)}}break;case 3:if(Nn(i,n),er(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Wr(i.containerInfo)}catch(pe){ot(n,n.return,pe)}break;case 4:Nn(i,n),er(n);break;case 13:Nn(i,n),er(n),f=n.child,f.flags&8192&&(d=f.memoizedState!==null,f.stateNode.isHidden=d,!d||f.alternate!==null&&f.alternate.memoizedState!==null||(Hh=Xe())),c&4&&Fm(n);break;case 22:if(Y=a!==null&&a.memoizedState!==null,n.mode&1?(bt=(z=bt)||Y,Nn(i,n),bt=z):Nn(i,n),er(n),c&8192){if(z=n.memoizedState!==null,(n.stateNode.isHidden=z)&&!Y&&(n.mode&1)!==0)for(fe=n,Y=n.child;Y!==null;){for(J=fe=Y;fe!==null;){switch(Q=fe,ce=Q.child,Q.tag){case 0:case 11:case 14:case 15:Ia(4,Q,Q.return);break;case 1:to(Q,Q.return);var de=Q.stateNode;if(typeof de.componentWillUnmount=="function"){c=Q,a=Q.return;try{i=c,de.props=i.memoizedProps,de.state=i.memoizedState,de.componentWillUnmount()}catch(pe){ot(c,a,pe)}}break;case 5:to(Q,Q.return);break;case 22:if(Q.memoizedState!==null){$m(J);continue}}ce!==null?(ce.return=Q,fe=ce):$m(J)}Y=Y.sibling}e:for(Y=null,J=n;;){if(J.tag===5){if(Y===null){Y=J;try{f=J.stateNode,z?(d=f.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(S=J.stateNode,D=J.memoizedProps.style,v=D!=null&&D.hasOwnProperty("display")?D.display:null,S.style.display=br("display",v))}catch(pe){ot(n,n.return,pe)}}}else if(J.tag===6){if(Y===null)try{J.stateNode.nodeValue=z?"":J.memoizedProps}catch(pe){ot(n,n.return,pe)}}else if((J.tag!==22&&J.tag!==23||J.memoizedState===null||J===n)&&J.child!==null){J.child.return=J,J=J.child;continue}if(J===n)break e;for(;J.sibling===null;){if(J.return===null||J.return===n)break e;Y===J&&(Y=null),J=J.return}Y===J&&(Y=null),J.sibling.return=J.return,J=J.sibling}}break;case 19:Nn(i,n),er(n),c&4&&Fm(n);break;case 21:break;default:Nn(i,n),er(n)}}function er(n){var i=n.flags;if(i&2){try{e:{for(var a=n.return;a!==null;){if(Mm(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&(Vi(f,""),c.flags&=-33);var d=Lm(n);$h(n,d,f);break;case 3:case 4:var v=c.stateNode.containerInfo,S=Lm(n);zh(n,S,v);break;default:throw Error(t(161))}}catch(D){ot(n,n.return,D)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function Iw(n,i,a){fe=n,jm(n)}function jm(n,i,a){for(var c=(n.mode&1)!==0;fe!==null;){var f=fe,d=f.child;if(f.tag===22&&c){var v=f.memoizedState!==null||ou;if(!v){var S=f.alternate,D=S!==null&&S.memoizedState!==null||bt;S=ou;var z=bt;if(ou=v,(bt=D)&&!z)for(fe=f;fe!==null;)v=fe,D=v.child,v.tag===22&&v.memoizedState!==null?Bm(f):D!==null?(D.return=v,fe=D):Bm(f);for(;d!==null;)fe=d,jm(d),d=d.sibling;fe=f,ou=S,bt=z}zm(n)}else(f.subtreeFlags&8772)!==0&&d!==null?(d.return=f,fe=d):zm(n)}}function zm(n){for(;fe!==null;){var i=fe;if((i.flags&8772)!==0){var a=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:bt||au(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!bt)if(a===null)c.componentDidMount();else{var f=i.elementType===i.type?a.memoizedProps:Pn(i.type,a.memoizedProps);c.componentDidUpdate(f,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var d=i.updateQueue;d!==null&&$p(i,d,c);break;case 3:var v=i.updateQueue;if(v!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}$p(i,v,a)}break;case 5:var S=i.stateNode;if(a===null&&i.flags&4){a=S;var D=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&a.focus();break;case"img":D.src&&(a.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var z=i.alternate;if(z!==null){var Y=z.memoizedState;if(Y!==null){var J=Y.dehydrated;J!==null&&Wr(J)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}bt||i.flags&512&&jh(i)}catch(Q){ot(i,i.return,Q)}}if(i===n){fe=null;break}if(a=i.sibling,a!==null){a.return=i.return,fe=a;break}fe=i.return}}function $m(n){for(;fe!==null;){var i=fe;if(i===n){fe=null;break}var a=i.sibling;if(a!==null){a.return=i.return,fe=a;break}fe=i.return}}function Bm(n){for(;fe!==null;){var i=fe;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{au(4,i)}catch(D){ot(i,a,D)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var f=i.return;try{c.componentDidMount()}catch(D){ot(i,f,D)}}var d=i.return;try{jh(i)}catch(D){ot(i,d,D)}break;case 5:var v=i.return;try{jh(i)}catch(D){ot(i,v,D)}}}catch(D){ot(i,i.return,D)}if(i===n){fe=null;break}var S=i.sibling;if(S!==null){S.return=i.return,fe=S;break}fe=i.return}}var Sw=Math.ceil,lu=Ee.ReactCurrentDispatcher,Bh=Ee.ReactCurrentOwner,_n=Ee.ReactCurrentBatchConfig,$e=0,Tt=null,dt=null,Pt=0,cn=0,no=Xr(0),_t=0,Sa=null,es=0,uu=0,qh=0,Aa=null,Kt=null,Hh=0,ro=1/0,Rr=null,cu=!1,Wh=null,ri=null,hu=!1,ii=null,fu=0,Ra=0,Gh=null,du=-1,pu=0;function qt(){return($e&6)!==0?Xe():du!==-1?du:du=Xe()}function si(n){return(n.mode&1)===0?1:($e&2)!==0&&Pt!==0?Pt&-Pt:aw.transition!==null?(pu===0&&(pu=Go()),pu):(n=je,n!==0||(n=window.event,n=n===void 0?16:xs(n.type)),n)}function Dn(n,i,a,c){if(50<Ra)throw Ra=0,Gh=null,Error(t(185));$i(n,a,c),(($e&2)===0||n!==Tt)&&(n===Tt&&(($e&2)===0&&(uu|=a),_t===4&&oi(n,Pt)),Qt(n,c),a===1&&$e===0&&(i.mode&1)===0&&(ro=Xe()+500,$l&&Zr()))}function Qt(n,i){var a=n.callbackNode;zi(n,i);var c=dr(n,n===Tt?Pt:0);if(c===0)a!==null&&As(a),n.callbackNode=null,n.callbackPriority=0;else if(i=c&-c,n.callbackPriority!==i){if(a!=null&&As(a),i===1)n.tag===0?ow(Hm.bind(null,n)):Np(Hm.bind(null,n)),nw(function(){($e&6)===0&&Zr()}),a=null;else{switch(zn(c)){case 1:a=Rs;break;case 4:a=qo;break;case 16:a=bi;break;case 536870912:a=Cs;break;default:a=bi}a=Zm(a,qm.bind(null,n))}n.callbackPriority=i,n.callbackNode=a}}function qm(n,i){if(du=-1,pu=0,($e&6)!==0)throw Error(t(327));var a=n.callbackNode;if(io()&&n.callbackNode!==a)return null;var c=dr(n,n===Tt?Pt:0);if(c===0)return null;if((c&30)!==0||(c&n.expiredLanes)!==0||i)i=mu(n,c);else{i=c;var f=$e;$e|=2;var d=Gm();(Tt!==n||Pt!==i)&&(Rr=null,ro=Xe()+500,ns(n,i));do try{Cw();break}catch(S){Wm(n,S)}while(!0);hh(),lu.current=d,$e=f,dt!==null?i=0:(Tt=null,Pt=0,i=_t)}if(i!==0){if(i===2&&(f=Wo(n),f!==0&&(c=f,i=Kh(n,f))),i===1)throw a=Sa,ns(n,0),oi(n,c),Qt(n,Xe()),a;if(i===6)oi(n,c);else{if(f=n.current.alternate,(c&30)===0&&!Aw(f)&&(i=mu(n,c),i===2&&(d=Wo(n),d!==0&&(c=d,i=Kh(n,d))),i===1))throw a=Sa,ns(n,0),oi(n,c),Qt(n,Xe()),a;switch(n.finishedWork=f,n.finishedLanes=c,i){case 0:case 1:throw Error(t(345));case 2:rs(n,Kt,Rr);break;case 3:if(oi(n,c),(c&130023424)===c&&(i=Hh+500-Xe(),10<i)){if(dr(n,0)!==0)break;if(f=n.suspendedLanes,(f&c)!==c){qt(),n.pingedLanes|=n.suspendedLanes&f;break}n.timeoutHandle=eh(rs.bind(null,n,Kt,Rr),i);break}rs(n,Kt,Rr);break;case 4:if(oi(n,c),(c&4194240)===c)break;for(i=n.eventTimes,f=-1;0<c;){var v=31-nn(c);d=1<<v,v=i[v],v>f&&(f=v),c&=~d}if(c=f,c=Xe()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*Sw(c/1960))-c,10<c){n.timeoutHandle=eh(rs.bind(null,n,Kt,Rr),c);break}rs(n,Kt,Rr);break;case 5:rs(n,Kt,Rr);break;default:throw Error(t(329))}}}return Qt(n,Xe()),n.callbackNode===a?qm.bind(null,n):null}function Kh(n,i){var a=Aa;return n.current.memoizedState.isDehydrated&&(ns(n,i).flags|=256),n=mu(n,i),n!==2&&(i=Kt,Kt=a,i!==null&&Qh(i)),n}function Qh(n){Kt===null?Kt=n:Kt.push.apply(Kt,n)}function Aw(n){for(var i=n;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var f=a[c],d=f.getSnapshot;f=f.value;try{if(!Rn(d(),f))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function oi(n,i){for(i&=~qh,i&=~uu,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var a=31-nn(i),c=1<<a;n[a]=-1,i&=~c}}function Hm(n){if(($e&6)!==0)throw Error(t(327));io();var i=dr(n,0);if((i&1)===0)return Qt(n,Xe()),null;var a=mu(n,i);if(n.tag!==0&&a===2){var c=Wo(n);c!==0&&(i=c,a=Kh(n,c))}if(a===1)throw a=Sa,ns(n,0),oi(n,i),Qt(n,Xe()),a;if(a===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,rs(n,Kt,Rr),Qt(n,Xe()),null}function Yh(n,i){var a=$e;$e|=1;try{return n(i)}finally{$e=a,$e===0&&(ro=Xe()+500,$l&&Zr())}}function ts(n){ii!==null&&ii.tag===0&&($e&6)===0&&io();var i=$e;$e|=1;var a=_n.transition,c=je;try{if(_n.transition=null,je=1,n)return n()}finally{je=c,_n.transition=a,$e=i,($e&6)===0&&Zr()}}function Xh(){cn=no.current,Ze(no)}function ns(n,i){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,tw(a)),dt!==null)for(a=dt.return;a!==null;){var c=a;switch(oh(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&jl();break;case 3:Zs(),Ze(Ht),Ze(Ot),vh();break;case 5:yh(c);break;case 4:Zs();break;case 13:Ze(nt);break;case 19:Ze(nt);break;case 10:fh(c.type._context);break;case 22:case 23:Xh()}a=a.return}if(Tt=n,dt=n=ai(n.current,null),Pt=cn=i,_t=0,Sa=null,qh=uu=es=0,Kt=Aa=null,Xi!==null){for(i=0;i<Xi.length;i++)if(a=Xi[i],c=a.interleaved,c!==null){a.interleaved=null;var f=c.next,d=a.pending;if(d!==null){var v=d.next;d.next=f,c.next=v}a.pending=c}Xi=null}return n}function Wm(n,i){do{var a=dt;try{if(hh(),Jl.current=nu,Zl){for(var c=rt.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}Zl=!1}if(Zi=0,wt=yt=rt=null,_a=!1,va=0,Bh.current=null,a===null||a.return===null){_t=1,Sa=i,dt=null;break}e:{var d=n,v=a.return,S=a,D=i;if(i=Pt,S.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var z=D,Y=S,J=Y.tag;if((Y.mode&1)===0&&(J===0||J===11||J===15)){var Q=Y.alternate;Q?(Y.updateQueue=Q.updateQueue,Y.memoizedState=Q.memoizedState,Y.lanes=Q.lanes):(Y.updateQueue=null,Y.memoizedState=null)}var ce=ym(v);if(ce!==null){ce.flags&=-257,_m(ce,v,S,d,i),ce.mode&1&&gm(d,z,i),i=ce,D=z;var de=i.updateQueue;if(de===null){var pe=new Set;pe.add(D),i.updateQueue=pe}else de.add(D);break e}else{if((i&1)===0){gm(d,z,i),Jh();break e}D=Error(t(426))}}else if(tt&&S.mode&1){var ut=ym(v);if(ut!==null){(ut.flags&65536)===0&&(ut.flags|=256),_m(ut,v,S,d,i),uh(eo(D,S));break e}}d=D=eo(D,S),_t!==4&&(_t=2),Aa===null?Aa=[d]:Aa.push(d),d=v;do{switch(d.tag){case 3:d.flags|=65536,i&=-i,d.lanes|=i;var b=pm(d,D,i);zp(d,b);break e;case 1:S=D;var O=d.type,j=d.stateNode;if((d.flags&128)===0&&(typeof O.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(ri===null||!ri.has(j)))){d.flags|=65536,i&=-i,d.lanes|=i;var ee=mm(d,S,i);zp(d,ee);break e}}d=d.return}while(d!==null)}Qm(a)}catch(ge){i=ge,dt===a&&a!==null&&(dt=a=a.return);continue}break}while(!0)}function Gm(){var n=lu.current;return lu.current=nu,n===null?nu:n}function Jh(){(_t===0||_t===3||_t===2)&&(_t=4),Tt===null||(es&268435455)===0&&(uu&268435455)===0||oi(Tt,Pt)}function mu(n,i){var a=$e;$e|=2;var c=Gm();(Tt!==n||Pt!==i)&&(Rr=null,ns(n,i));do try{Rw();break}catch(f){Wm(n,f)}while(!0);if(hh(),$e=a,lu.current=c,dt!==null)throw Error(t(261));return Tt=null,Pt=0,_t}function Rw(){for(;dt!==null;)Km(dt)}function Cw(){for(;dt!==null&&!Li();)Km(dt)}function Km(n){var i=Jm(n.alternate,n,cn);n.memoizedProps=n.pendingProps,i===null?Qm(n):dt=i,Bh.current=null}function Qm(n){var i=n;do{var a=i.alternate;if(n=i.return,(i.flags&32768)===0){if(a=vw(a,i,cn),a!==null){dt=a;return}}else{if(a=Ew(a,i),a!==null){a.flags&=32767,dt=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{_t=6,dt=null;return}}if(i=i.sibling,i!==null){dt=i;return}dt=i=n}while(i!==null);_t===0&&(_t=5)}function rs(n,i,a){var c=je,f=_n.transition;try{_n.transition=null,je=1,Pw(n,i,a,c)}finally{_n.transition=f,je=c}return null}function Pw(n,i,a,c){do io();while(ii!==null);if(($e&6)!==0)throw Error(t(327));a=n.finishedWork;var f=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var d=a.lanes|a.childLanes;if(Fc(n,d),n===Tt&&(dt=Tt=null,Pt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||hu||(hu=!0,Zm(bi,function(){return io(),null})),d=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||d){d=_n.transition,_n.transition=null;var v=je;je=1;var S=$e;$e|=4,Bh.current=null,Tw(n,a),Um(a,n),KE(Jc),gr=!!Xc,Jc=Xc=null,n.current=a,Iw(a),fr(),$e=S,je=v,_n.transition=d}else n.current=a;if(hu&&(hu=!1,ii=n,fu=f),d=n.pendingLanes,d===0&&(ri=null),Tl(a.stateNode),Qt(n,Xe()),i!==null)for(c=n.onRecoverableError,a=0;a<i.length;a++)f=i[a],c(f.value,{componentStack:f.stack,digest:f.digest});if(cu)throw cu=!1,n=Wh,Wh=null,n;return(fu&1)!==0&&n.tag!==0&&io(),d=n.pendingLanes,(d&1)!==0?n===Gh?Ra++:(Ra=0,Gh=n):Ra=0,Zr(),null}function io(){if(ii!==null){var n=zn(fu),i=_n.transition,a=je;try{if(_n.transition=null,je=16>n?16:n,ii===null)var c=!1;else{if(n=ii,ii=null,fu=0,($e&6)!==0)throw Error(t(331));var f=$e;for($e|=4,fe=n.current;fe!==null;){var d=fe,v=d.child;if((fe.flags&16)!==0){var S=d.deletions;if(S!==null){for(var D=0;D<S.length;D++){var z=S[D];for(fe=z;fe!==null;){var Y=fe;switch(Y.tag){case 0:case 11:case 15:Ia(8,Y,d)}var J=Y.child;if(J!==null)J.return=Y,fe=J;else for(;fe!==null;){Y=fe;var Q=Y.sibling,ce=Y.return;if(Om(Y),Y===z){fe=null;break}if(Q!==null){Q.return=ce,fe=Q;break}fe=ce}}}var de=d.alternate;if(de!==null){var pe=de.child;if(pe!==null){de.child=null;do{var ut=pe.sibling;pe.sibling=null,pe=ut}while(pe!==null)}}fe=d}}if((d.subtreeFlags&2064)!==0&&v!==null)v.return=d,fe=v;else e:for(;fe!==null;){if(d=fe,(d.flags&2048)!==0)switch(d.tag){case 0:case 11:case 15:Ia(9,d,d.return)}var b=d.sibling;if(b!==null){b.return=d.return,fe=b;break e}fe=d.return}}var O=n.current;for(fe=O;fe!==null;){v=fe;var j=v.child;if((v.subtreeFlags&2064)!==0&&j!==null)j.return=v,fe=j;else e:for(v=O;fe!==null;){if(S=fe,(S.flags&2048)!==0)try{switch(S.tag){case 0:case 11:case 15:au(9,S)}}catch(ge){ot(S,S.return,ge)}if(S===v){fe=null;break e}var ee=S.sibling;if(ee!==null){ee.return=S.return,fe=ee;break e}fe=S.return}}if($e=f,Zr(),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(Fi,n)}catch{}c=!0}return c}finally{je=a,_n.transition=i}}return!1}function Ym(n,i,a){i=eo(a,i),i=pm(n,i,1),n=ti(n,i,1),i=qt(),n!==null&&($i(n,1,i),Qt(n,i))}function ot(n,i,a){if(n.tag===3)Ym(n,n,a);else for(;i!==null;){if(i.tag===3){Ym(i,n,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ri===null||!ri.has(c))){n=eo(a,n),n=mm(i,n,1),i=ti(i,n,1),n=qt(),i!==null&&($i(i,1,n),Qt(i,n));break}}i=i.return}}function kw(n,i,a){var c=n.pingCache;c!==null&&c.delete(i),i=qt(),n.pingedLanes|=n.suspendedLanes&a,Tt===n&&(Pt&a)===a&&(_t===4||_t===3&&(Pt&130023424)===Pt&&500>Xe()-Hh?ns(n,0):qh|=a),Qt(n,i)}function Xm(n,i){i===0&&((n.mode&1)===0?i=1:(i=Br,Br<<=1,(Br&130023424)===0&&(Br=4194304)));var a=qt();n=Ir(n,i),n!==null&&($i(n,i,a),Qt(n,a))}function Nw(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),Xm(n,a)}function Dw(n,i){var a=0;switch(n.tag){case 13:var c=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(i),Xm(n,a)}var Jm;Jm=function(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps||Ht.current)Gt=!0;else{if((n.lanes&a)===0&&(i.flags&128)===0)return Gt=!1,_w(n,i,a);Gt=(n.flags&131072)!==0}else Gt=!1,tt&&(i.flags&1048576)!==0&&Dp(i,ql,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;su(n,i),n=i.pendingProps;var f=Ws(i,Ot.current);Js(i,a),f=Th(null,i,c,n,f,a);var d=Ih();return i.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Wt(c)?(d=!0,zl(i)):d=!1,i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,mh(i),f.updater=ru,i.stateNode=f,f._reactInternals=i,kh(i,c,n,a),i=Vh(null,i,c,!0,d,a)):(i.tag=0,tt&&d&&sh(i),Bt(null,i,f,a),i=i.child),i;case 16:c=i.elementType;e:{switch(su(n,i),n=i.pendingProps,f=c._init,c=f(c._payload),i.type=c,f=i.tag=Vw(c),n=Pn(c,n),f){case 0:i=xh(null,i,c,n,a);break e;case 1:i=Sm(null,i,c,n,a);break e;case 11:i=vm(null,i,c,n,a);break e;case 14:i=Em(null,i,c,Pn(c.type,n),a);break e}throw Error(t(306,c,""))}return i;case 0:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:Pn(c,f),xh(n,i,c,f,a);case 1:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:Pn(c,f),Sm(n,i,c,f,a);case 3:e:{if(Am(i),n===null)throw Error(t(387));c=i.pendingProps,d=i.memoizedState,f=d.element,jp(n,i),Yl(i,c,null,a);var v=i.memoizedState;if(c=v.element,d.isDehydrated)if(d={element:c,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){f=eo(Error(t(423)),i),i=Rm(n,i,c,a,f);break e}else if(c!==f){f=eo(Error(t(424)),i),i=Rm(n,i,c,a,f);break e}else for(un=Yr(i.stateNode.containerInfo.firstChild),ln=i,tt=!0,Cn=null,a=Fp(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Qs(),c===f){i=Ar(n,i,a);break e}Bt(n,i,c,a)}i=i.child}return i;case 5:return Bp(i),n===null&&lh(i),c=i.type,f=i.pendingProps,d=n!==null?n.memoizedProps:null,v=f.children,Zc(c,f)?v=null:d!==null&&Zc(c,d)&&(i.flags|=32),Im(n,i),Bt(n,i,v,a),i.child;case 6:return n===null&&lh(i),null;case 13:return Cm(n,i,a);case 4:return gh(i,i.stateNode.containerInfo),c=i.pendingProps,n===null?i.child=Ys(i,null,c,a):Bt(n,i,c,a),i.child;case 11:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:Pn(c,f),vm(n,i,c,f,a);case 7:return Bt(n,i,i.pendingProps,a),i.child;case 8:return Bt(n,i,i.pendingProps.children,a),i.child;case 12:return Bt(n,i,i.pendingProps.children,a),i.child;case 10:e:{if(c=i.type._context,f=i.pendingProps,d=i.memoizedProps,v=f.value,Qe(Gl,c._currentValue),c._currentValue=v,d!==null)if(Rn(d.value,v)){if(d.children===f.children&&!Ht.current){i=Ar(n,i,a);break e}}else for(d=i.child,d!==null&&(d.return=i);d!==null;){var S=d.dependencies;if(S!==null){v=d.child;for(var D=S.firstContext;D!==null;){if(D.context===c){if(d.tag===1){D=Sr(-1,a&-a),D.tag=2;var z=d.updateQueue;if(z!==null){z=z.shared;var Y=z.pending;Y===null?D.next=D:(D.next=Y.next,Y.next=D),z.pending=D}}d.lanes|=a,D=d.alternate,D!==null&&(D.lanes|=a),dh(d.return,a,i),S.lanes|=a;break}D=D.next}}else if(d.tag===10)v=d.type===i.type?null:d.child;else if(d.tag===18){if(v=d.return,v===null)throw Error(t(341));v.lanes|=a,S=v.alternate,S!==null&&(S.lanes|=a),dh(v,a,i),v=d.sibling}else v=d.child;if(v!==null)v.return=d;else for(v=d;v!==null;){if(v===i){v=null;break}if(d=v.sibling,d!==null){d.return=v.return,v=d;break}v=v.return}d=v}Bt(n,i,f.children,a),i=i.child}return i;case 9:return f=i.type,c=i.pendingProps.children,Js(i,a),f=gn(f),c=c(f),i.flags|=1,Bt(n,i,c,a),i.child;case 14:return c=i.type,f=Pn(c,i.pendingProps),f=Pn(c.type,f),Em(n,i,c,f,a);case 15:return wm(n,i,i.type,i.pendingProps,a);case 17:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:Pn(c,f),su(n,i),i.tag=1,Wt(c)?(n=!0,zl(i)):n=!1,Js(i,a),fm(i,c,f),kh(i,c,f,a),Vh(null,i,c,!0,n,a);case 19:return km(n,i,a);case 22:return Tm(n,i,a)}throw Error(t(156,i.tag))};function Zm(n,i){return Bo(n,i)}function xw(n,i,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(n,i,a,c){return new xw(n,i,a,c)}function Zh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Vw(n){if(typeof n=="function")return Zh(n)?1:0;if(n!=null){if(n=n.$$typeof,n===L)return 11;if(n===ne)return 14}return 2}function ai(n,i){var a=n.alternate;return a===null?(a=vn(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function gu(n,i,a,c,f,d){var v=2;if(c=n,typeof n=="function")Zh(n)&&(v=1);else if(typeof n=="string")v=5;else e:switch(n){case N:return is(a.children,f,d,i);case I:v=8,f|=8;break;case C:return n=vn(12,a,i,f|2),n.elementType=C,n.lanes=d,n;case R:return n=vn(13,a,i,f),n.elementType=R,n.lanes=d,n;case le:return n=vn(19,a,i,f),n.elementType=le,n.lanes=d,n;case oe:return yu(a,f,d,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case k:v=10;break e;case P:v=9;break e;case L:v=11;break e;case ne:v=14;break e;case te:v=16,c=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return i=vn(v,a,i,f),i.elementType=n,i.type=c,i.lanes=d,i}function is(n,i,a,c){return n=vn(7,n,c,i),n.lanes=a,n}function yu(n,i,a,c){return n=vn(22,n,c,i),n.elementType=oe,n.lanes=a,n.stateNode={isHidden:!1},n}function ef(n,i,a){return n=vn(6,n,null,i),n.lanes=a,n}function tf(n,i,a){return i=vn(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function Ow(n,i,a,c,f){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ko(0),this.expirationTimes=Ko(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ko(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function nf(n,i,a,c,f,d,v,S,D){return n=new Ow(n,i,a,S,D),i===1?(i=1,d===!0&&(i|=8)):i=0,d=vn(3,null,null,i),n.current=d,d.stateNode=n,d.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},mh(d),n}function Mw(n,i,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Se,key:c==null?null:""+c,children:n,containerInfo:i,implementation:a}}function eg(n){if(!n)return Jr;n=n._reactInternals;e:{if(Sn(n)!==n||n.tag!==1)throw Error(t(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Wt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(n.tag===1){var a=n.type;if(Wt(a))return Pp(n,a,i)}return i}function tg(n,i,a,c,f,d,v,S,D){return n=nf(a,c,!0,n,f,d,v,S,D),n.context=eg(null),a=n.current,c=qt(),f=si(a),d=Sr(c,f),d.callback=i??null,ti(a,d,f),n.current.lanes=f,$i(n,f,c),Qt(n,c),n}function _u(n,i,a,c){var f=i.current,d=qt(),v=si(f);return a=eg(a),i.context===null?i.context=a:i.pendingContext=a,i=Sr(d,v),i.payload={element:n},c=c===void 0?null:c,c!==null&&(i.callback=c),n=ti(f,i,v),n!==null&&(Dn(n,f,v,d),Ql(n,f,v)),v}function vu(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function ng(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function rf(n,i){ng(n,i),(n=n.alternate)&&ng(n,i)}function Lw(){return null}var rg=typeof reportError=="function"?reportError:function(n){console.error(n)};function sf(n){this._internalRoot=n}Eu.prototype.render=sf.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(t(409));_u(n,i,null,null)},Eu.prototype.unmount=sf.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;ts(function(){_u(null,n,null,null)}),i[vr]=null}};function Eu(n){this._internalRoot=n}Eu.prototype.unstable_scheduleHydration=function(n){if(n){var i=Jo();n={blockedOn:null,target:n,priority:i};for(var a=0;a<rn.length&&i!==0&&i<rn[a].priority;a++);rn.splice(a,0,n),a===0&&Ns(n)}};function of(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function wu(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function ig(){}function bw(n,i,a,c,f){if(f){if(typeof c=="function"){var d=c;c=function(){var z=vu(v);d.call(z)}}var v=tg(i,c,n,0,null,!1,!1,"",ig);return n._reactRootContainer=v,n[vr]=v.current,ca(n.nodeType===8?n.parentNode:n),ts(),v}for(;f=n.lastChild;)n.removeChild(f);if(typeof c=="function"){var S=c;c=function(){var z=vu(D);S.call(z)}}var D=nf(n,0,!1,null,null,!1,!1,"",ig);return n._reactRootContainer=D,n[vr]=D.current,ca(n.nodeType===8?n.parentNode:n),ts(function(){_u(i,D,a,c)}),D}function Tu(n,i,a,c,f){var d=a._reactRootContainer;if(d){var v=d;if(typeof f=="function"){var S=f;f=function(){var D=vu(v);S.call(D)}}_u(i,v,n,f)}else v=bw(a,i,n,f,c);return vu(v)}Yo=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var a=qe(i.pendingLanes);a!==0&&(Qo(i,a|1),Qt(i,Xe()),($e&6)===0&&(ro=Xe()+500,Zr()))}break;case 13:ts(function(){var c=Ir(n,1);if(c!==null){var f=qt();Dn(c,n,1,f)}}),rf(n,1)}},Ps=function(n){if(n.tag===13){var i=Ir(n,134217728);if(i!==null){var a=qt();Dn(i,n,134217728,a)}rf(n,134217728)}},Xo=function(n){if(n.tag===13){var i=si(n),a=Ir(n,i);if(a!==null){var c=qt();Dn(a,n,i,c)}rf(n,i)}},Jo=function(){return je},Zo=function(n,i){var a=je;try{return je=n,i()}finally{je=a}},ur=function(n,i,a){switch(i){case"input":if(xi(n,a),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==n&&c.form===n.form){var f=Ul(c);if(!f)throw Error(t(90));wn(c),xi(c,f)}}}break;case"textarea":cl(n,a);break;case"select":i=a.value,i!=null&&Tn(n,!!a.multiple,i,!1)}},dl=Yh,pl=ts;var Fw={usingClientEntryPoint:!1,Events:[da,qs,Ul,Ur,jr,Yh]},Ca={findFiberByHostInstance:Gi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Uw={bundleType:Ca.bundleType,version:Ca.version,rendererPackageName:Ca.rendererPackageName,rendererConfig:Ca.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ee.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=wl(n),n===null?null:n.stateNode},findFiberByHostInstance:Ca.findFiberByHostInstance||Lw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Iu.isDisabled&&Iu.supportsFiber)try{Fi=Iu.inject(Uw),tn=Iu}catch{}}return Yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fw,Yt.createPortal=function(n,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!of(i))throw Error(t(200));return Mw(n,i,null,a)},Yt.createRoot=function(n,i){if(!of(n))throw Error(t(299));var a=!1,c="",f=rg;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(f=i.onRecoverableError)),i=nf(n,1,!1,null,null,a,!1,c,f),n[vr]=i.current,ca(n.nodeType===8?n.parentNode:n),new sf(i)},Yt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=wl(i),n=n===null?null:n.stateNode,n},Yt.flushSync=function(n){return ts(n)},Yt.hydrate=function(n,i,a){if(!wu(i))throw Error(t(200));return Tu(null,n,i,!0,a)},Yt.hydrateRoot=function(n,i,a){if(!of(n))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,f=!1,d="",v=rg;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),i=tg(i,null,n,1,a??null,f,!1,d,v),n[vr]=i.current,ca(n),c)for(n=0;n<c.length;n++)a=c[n],f=a._getVersion,f=f(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,f]:i.mutableSourceEagerHydrationData.push(a,f);return new Eu(i)},Yt.render=function(n,i,a){if(!wu(i))throw Error(t(200));return Tu(null,n,i,!1,a)},Yt.unmountComponentAtNode=function(n){if(!wu(n))throw Error(t(40));return n._reactRootContainer?(ts(function(){Tu(null,null,n,!1,function(){n._reactRootContainer=null,n[vr]=null})}),!0):!1},Yt.unstable_batchedUpdates=Yh,Yt.unstable_renderSubtreeIntoContainer=function(n,i,a,c){if(!wu(a))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return Tu(n,i,a,!1,c)},Yt.version="18.3.1-next-f1338f8080-20240426",Yt}var fg;function n_(){if(fg)return uf.exports;fg=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),uf.exports=Kw(),uf.exports}var dg;function Qw(){if(dg)return Su;dg=1;var r=n_();return Su.createRoot=r.createRoot,Su.hydrateRoot=r.hydrateRoot,Su}var Yw=Qw();n_();function Wu(){return Wu=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},Wu.apply(this,arguments)}var pi;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(pi||(pi={}));const pg="popstate";function Xw(r){r===void 0&&(r={});function e(s,o){let{pathname:l,search:h,hash:m}=s.location;return Af("",{pathname:l,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:i_(o)}return Zw(e,t,null,r)}function Zt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function r_(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Jw(){return Math.random().toString(36).substr(2,8)}function mg(r,e){return{usr:r.state,key:r.key,idx:e}}function Af(r,e,t,s){return t===void 0&&(t=null),Wu({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?dc(e):e,{state:t,key:e&&e.key||s||Jw()})}function i_(r){let{pathname:e="/",search:t="",hash:s=""}=r;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function dc(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substr(t),r=r.substr(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substr(s),r=r.substr(0,s)),r&&(e.pathname=r)}return e}function Zw(r,e,t,s){s===void 0&&(s={});let{window:o=document.defaultView,v5Compat:l=!1}=s,h=o.history,m=pi.Pop,g=null,_=E();_==null&&(_=0,h.replaceState(Wu({},h.state,{idx:_}),""));function E(){return(h.state||{idx:null}).idx}function T(){m=pi.Pop;let M=E(),Z=M==null?null:M-_;_=M,g&&g({action:m,location:x.location,delta:Z})}function A(M,Z){m=pi.Push;let se=Af(x.location,M,Z);_=E()+1;let ae=mg(se,_),Ee=x.createHref(se);try{h.pushState(ae,"",Ee)}catch(Ie){if(Ie instanceof DOMException&&Ie.name==="DataCloneError")throw Ie;o.location.assign(Ee)}l&&g&&g({action:m,location:x.location,delta:1})}function U(M,Z){m=pi.Replace;let se=Af(x.location,M,Z);_=E();let ae=mg(se,_),Ee=x.createHref(se);h.replaceState(ae,"",Ee),l&&g&&g({action:m,location:x.location,delta:0})}function q(M){let Z=o.location.origin!=="null"?o.location.origin:o.location.href,se=typeof M=="string"?M:i_(M);return se=se.replace(/ $/,"%20"),Zt(Z,"No window.location.(origin|href) available to create URL for href: "+se),new URL(se,Z)}let x={get action(){return m},get location(){return r(o,h)},listen(M){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(pg,T),g=M,()=>{o.removeEventListener(pg,T),g=null}},createHref(M){return e(o,M)},createURL:q,encodeLocation(M){let Z=q(M);return{pathname:Z.pathname,search:Z.search,hash:Z.hash}},push:A,replace:U,go(M){return h.go(M)}};return x}var gg;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(gg||(gg={}));function eT(r,e,t){return t===void 0&&(t="/"),tT(r,e,t)}function tT(r,e,t,s){let o=typeof e=="string"?dc(e):e,l=a_(o.pathname||"/",t);if(l==null)return null;let h=s_(r);nT(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let _=pT(l);m=hT(h[g],_)}return m}function s_(r,e,t,s){e===void 0&&(e=[]),t===void 0&&(t=[]),s===void 0&&(s="");let o=(l,h,m)=>{let g={relativePath:m===void 0?l.path||"":m,caseSensitive:l.caseSensitive===!0,childrenIndex:h,route:l};g.relativePath.startsWith("/")&&(Zt(g.relativePath.startsWith(s),'Absolute route path "'+g.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),g.relativePath=g.relativePath.slice(s.length));let _=co([s,g.relativePath]),E=t.concat(g);l.children&&l.children.length>0&&(Zt(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+_+'".')),s_(l.children,e,E,_)),!(l.path==null&&!l.index)&&e.push({path:_,score:uT(_,l.index),routesMeta:E})};return r.forEach((l,h)=>{var m;if(l.path===""||!((m=l.path)!=null&&m.includes("?")))o(l,h);else for(let g of o_(l.path))o(l,h,g)}),e}function o_(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let h=o_(s.join("/")),m=[];return m.push(...h.map(g=>g===""?l:[l,g].join("/"))),o&&m.push(...h),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function nT(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:cT(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}const rT=/^:[\w-]+$/,iT=3,sT=2,oT=1,aT=10,lT=-2,yg=r=>r==="*";function uT(r,e){let t=r.split("/"),s=t.length;return t.some(yg)&&(s+=lT),e&&(s+=sT),t.filter(o=>!yg(o)).reduce((o,l)=>o+(rT.test(l)?iT:l===""?oT:aT),s)}function cT(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function hT(r,e,t){let{routesMeta:s}=r,o={},l="/",h=[];for(let m=0;m<s.length;++m){let g=s[m],_=m===s.length-1,E=l==="/"?e:e.slice(l.length)||"/",T=fT({path:g.relativePath,caseSensitive:g.caseSensitive,end:_},E),A=g.route;if(!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:co([l,T.pathname]),pathnameBase:mT(co([l,T.pathnameBase])),route:A}),T.pathnameBase!=="/"&&(l=co([l,T.pathnameBase]))}return h}function fT(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=dT(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let l=o[0],h=l.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((_,E,T)=>{let{paramName:A,isOptional:U}=E;if(A==="*"){let x=m[T]||"";h=l.slice(0,l.length-x.length).replace(/(.)\/+$/,"$1")}const q=m[T];return U&&!q?_[A]=void 0:_[A]=(q||"").replace(/%2F/g,"/"),_},{}),pathname:l,pathnameBase:h,pattern:r}}function dT(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),r_(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function pT(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return r_(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function a_(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}const co=r=>r.join("/").replace(/\/\/+/g,"/"),mT=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/");function gT(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const l_=["post","put","patch","delete"];new Set(l_);const yT=["get",...l_];new Set(yT);function Gu(){return Gu=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},Gu.apply(this,arguments)}const _T=_e.createContext(null),vT=_e.createContext(null),u_=_e.createContext(null),pc=_e.createContext(null),mc=_e.createContext({outlet:null,matches:[],isDataRoute:!1}),c_=_e.createContext(null);function nd(){return _e.useContext(pc)!=null}function ET(){return nd()||Zt(!1),_e.useContext(pc).location}function wT(r,e){return TT(r,e)}function TT(r,e,t,s){nd()||Zt(!1);let{navigator:o}=_e.useContext(u_),{matches:l}=_e.useContext(mc),h=l[l.length-1],m=h?h.params:{};h&&h.pathname;let g=h?h.pathnameBase:"/";h&&h.route;let _=ET(),E;if(e){var T;let M=typeof e=="string"?dc(e):e;g==="/"||(T=M.pathname)!=null&&T.startsWith(g)||Zt(!1),E=M}else E=_;let A=E.pathname||"/",U=A;if(g!=="/"){let M=g.replace(/^\//,"").split("/");U="/"+A.replace(/^\//,"").split("/").slice(M.length).join("/")}let q=eT(r,{pathname:U}),x=CT(q&&q.map(M=>Object.assign({},M,{params:Object.assign({},m,M.params),pathname:co([g,o.encodeLocation?o.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?g:co([g,o.encodeLocation?o.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),l,t,s);return e&&x?_e.createElement(pc.Provider,{value:{location:Gu({pathname:"/",search:"",hash:"",state:null,key:"default"},E),navigationType:pi.Pop}},x):x}function IT(){let r=DT(),e=gT(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _e.createElement(_e.Fragment,null,_e.createElement("h2",null,"Unexpected Application Error!"),_e.createElement("h3",{style:{fontStyle:"italic"}},e),t?_e.createElement("pre",{style:o},t):null,null)}const ST=_e.createElement(IT,null);class AT extends _e.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?_e.createElement(mc.Provider,{value:this.props.routeContext},_e.createElement(c_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RT(r){let{routeContext:e,match:t,children:s}=r,o=_e.useContext(_T);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),_e.createElement(mc.Provider,{value:e},s)}function CT(r,e,t,s){var o;if(e===void 0&&(e=[]),t===void 0&&(t=null),s===void 0&&(s=null),r==null){var l;if(!t)return null;if(t.errors)r=t.matches;else if((l=s)!=null&&l.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let h=r,m=(o=t)==null?void 0:o.errors;if(m!=null){let E=h.findIndex(T=>T.route.id&&m?.[T.route.id]!==void 0);E>=0||Zt(!1),h=h.slice(0,Math.min(h.length,E+1))}let g=!1,_=-1;if(t&&s&&s.v7_partialHydration)for(let E=0;E<h.length;E++){let T=h[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(_=E),T.route.id){let{loaderData:A,errors:U}=t,q=T.route.loader&&A[T.route.id]===void 0&&(!U||U[T.route.id]===void 0);if(T.route.lazy||q){g=!0,_>=0?h=h.slice(0,_+1):h=[h[0]];break}}}return h.reduceRight((E,T,A)=>{let U,q=!1,x=null,M=null;t&&(U=m&&T.route.id?m[T.route.id]:void 0,x=T.route.errorElement||ST,g&&(_<0&&A===0?(xT("route-fallback"),q=!0,M=null):_===A&&(q=!0,M=T.route.hydrateFallbackElement||null)));let Z=e.concat(h.slice(0,A+1)),se=()=>{let ae;return U?ae=x:q?ae=M:T.route.Component?ae=_e.createElement(T.route.Component,null):T.route.element?ae=T.route.element:ae=E,_e.createElement(RT,{match:T,routeContext:{outlet:E,matches:Z,isDataRoute:t!=null},children:ae})};return t&&(T.route.ErrorBoundary||T.route.errorElement||A===0)?_e.createElement(AT,{location:t.location,revalidation:t.revalidation,component:x,error:U,children:se(),routeContext:{outlet:null,matches:Z,isDataRoute:!0}}):se()},null)}var h_=(function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r})(h_||{});function PT(r){let e=_e.useContext(vT);return e||Zt(!1),e}function kT(r){let e=_e.useContext(mc);return e||Zt(!1),e}function NT(r){let e=kT(),t=e.matches[e.matches.length-1];return t.route.id||Zt(!1),t.route.id}function DT(){var r;let e=_e.useContext(c_),t=PT(h_.UseRouteError),s=NT();return e!==void 0?e:(r=t.errors)==null?void 0:r[s]}const _g={};function xT(r,e,t){_g[r]||(_g[r]=!0)}function VT(r,e){r?.v7_startTransition,r?.v7_relativeSplatPath}function Rf(r){Zt(!1)}function OT(r){let{basename:e="/",children:t=null,location:s,navigationType:o=pi.Pop,navigator:l,static:h=!1,future:m}=r;nd()&&Zt(!1);let g=e.replace(/^\/*/,"/"),_=_e.useMemo(()=>({basename:g,navigator:l,static:h,future:Gu({v7_relativeSplatPath:!1},m)}),[g,m,l,h]);typeof s=="string"&&(s=dc(s));let{pathname:E="/",search:T="",hash:A="",state:U=null,key:q="default"}=s,x=_e.useMemo(()=>{let M=a_(E,g);return M==null?null:{location:{pathname:M,search:T,hash:A,state:U,key:q},navigationType:o}},[g,E,T,A,U,q,o]);return x==null?null:_e.createElement(u_.Provider,{value:_},_e.createElement(pc.Provider,{children:t,value:x}))}function MT(r){let{children:e,location:t}=r;return wT(Cf(e),t)}new Promise(()=>{});function Cf(r,e){e===void 0&&(e=[]);let t=[];return _e.Children.forEach(r,(s,o)=>{if(!_e.isValidElement(s))return;let l=[...e,o];if(s.type===_e.Fragment){t.push.apply(t,Cf(s.props.children,l));return}s.type!==Rf&&Zt(!1),!s.props.index||!s.props.children||Zt(!1);let h={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Cf(s.props.children,l)),t.push(h)}),t}const LT="6";try{window.__reactRouterVersion=LT}catch{}const bT="startTransition",vg=Hw[bT];function FT(r){let{basename:e,children:t,future:s,window:o}=r,l=_e.useRef();l.current==null&&(l.current=Xw({window:o,v5Compat:!0}));let h=l.current,[m,g]=_e.useState({action:h.action,location:h.location}),{v7_startTransition:_}=s||{},E=_e.useCallback(T=>{_&&vg?vg(()=>g(T)):g(T)},[g,_]);return _e.useLayoutEffect(()=>h.listen(E),[h,E]),_e.useEffect(()=>VT(s),[s]),_e.createElement(OT,{basename:e,children:t,location:m.location,navigationType:m.action,navigator:h,future:s})}var Eg;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(Eg||(Eg={}));var wg;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(wg||(wg={}));const UT=()=>{};var Tg={};const f_=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},jT=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=r[t++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=r[t++],h=r[t++],m=r[t++],g=((o&7)<<18|(l&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const l=r[t++],h=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return e.join("")},d_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const l=r[o],h=o+1<r.length,m=h?r[o+1]:0,g=o+2<r.length,_=g?r[o+2]:0,E=l>>2,T=(l&3)<<4|m>>4;let A=(m&15)<<2|_>>6,U=_&63;g||(U=64,h||(A=64)),s.push(t[E],t[T],t[A],t[U])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(f_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):jT(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const l=t[r.charAt(o++)],m=o<r.length?t[r.charAt(o)]:0;++o;const _=o<r.length?t[r.charAt(o)]:64;++o;const T=o<r.length?t[r.charAt(o)]:64;if(++o,l==null||m==null||_==null||T==null)throw new zT;const A=l<<2|m>>4;if(s.push(A),_!==64){const U=m<<4&240|_>>2;if(s.push(U),T!==64){const q=_<<6&192|T;s.push(q)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class zT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $T=function(r){const e=f_(r);return d_.encodeByteArray(e,!0)},Ku=function(r){return $T(r).replace(/\./g,"")},p_=function(r){try{return d_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function BT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const qT=()=>BT().__FIREBASE_DEFAULTS__,HT=()=>{if(typeof process>"u"||typeof Tg>"u")return;const r=Tg.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},WT=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&p_(r[1]);return e&&JSON.parse(e)},gc=()=>{try{return UT()||qT()||HT()||WT()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},m_=r=>gc()?.emulatorHosts?.[r],GT=r=>{const e=m_(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},g_=()=>gc()?.config,y_=r=>gc()?.[`_${r}`];class KT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}function Ro(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function __(r){return(await fetch(r,{credentials:"include"})).ok}function QT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Ku(JSON.stringify(t)),Ku(JSON.stringify(h)),""].join(".")}const Oa={};function YT(){const r={prod:[],emulator:[]};for(const e of Object.keys(Oa))Oa[e]?r.emulator.push(e):r.prod.push(e);return r}function XT(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let Ig=!1;function v_(r,e){if(typeof window>"u"||typeof document>"u"||!Ro(window.location.host)||Oa[r]===e||Oa[r]||Ig)return;Oa[r]=e;function t(A){return`__firebase__banner__${A}`}const s="__firebase__banner",l=YT().prod.length>0;function h(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function g(A,U){A.setAttribute("width","24"),A.setAttribute("id",U),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function _(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{Ig=!0,h()},A}function E(A,U){A.setAttribute("id",U),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function T(){const A=XT(s),U=t("text"),q=document.getElementById(U)||document.createElement("span"),x=t("learnmore"),M=document.getElementById(x)||document.createElement("a"),Z=t("preprendIcon"),se=document.getElementById(Z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const ae=A.element;m(ae),E(M,x);const Ee=_();g(se,Z),ae.append(se,q,M,Ee),document.body.appendChild(ae)}l?(q.innerText="Preview backend disconnected.",se.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(se.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,q.innerText="Preview backend running in this workspace."),q.setAttribute("id",U)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zt())}function ZT(){const r=gc()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tI(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function nI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rI(){const r=zt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function iI(){return!ZT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sI(){try{return typeof indexedDB=="object"}catch{return!1}}function oI(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}const aI="FirebaseError";class Vr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=aI,Object.setPrototypeOf(this,Vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xa.prototype.create)}}class Xa{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],h=l?lI(l,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Vr(o,m,s)}}function lI(r,e){return r.replace(uI,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const uI=/\{\$([^}]+)}/g;function cI(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ls(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const l=r[o],h=e[o];if(Sg(l)&&Sg(h)){if(!ls(l,h))return!1}else if(l!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function Sg(r){return r!==null&&typeof r=="object"}function Ja(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function ka(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,l]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function Na(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function hI(r,e){const t=new fI(r,e);return t.subscribe.bind(t)}class fI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");dI(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=ff),o.error===void 0&&(o.error=ff),o.complete===void 0&&(o.complete=ff);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dI(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function ff(){}function Dt(r){return r&&r._delegate?r._delegate:r}class us{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const os="[DEFAULT]";class pI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new KT;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gI(e))try{this.getOrInitializeService({instanceIdentifier:os})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=os){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=os){return this.instances.has(e)}getOptions(e=os){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(l);s===m&&h.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&e(l,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:mI(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=os){return this.component?this.component.multipleInstances?e:os:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mI(r){return r===os?void 0:r}function gI(r){return r.instantiationMode==="EAGER"}class yI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new pI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Le;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Le||(Le={}));const _I={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},vI=Le.INFO,EI={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},wI=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=EI[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rd{constructor(e){this.name=e,this._logLevel=vI,this._logHandler=wI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_I[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const TI=(r,e)=>e.some(t=>r instanceof t);let Ag,Rg;function II(){return Ag||(Ag=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SI(){return Rg||(Rg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const E_=new WeakMap,Pf=new WeakMap,w_=new WeakMap,df=new WeakMap,id=new WeakMap;function AI(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",l),r.removeEventListener("error",h)},l=()=>{t(gi(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",l),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&E_.set(t,r)}).catch(()=>{}),id.set(e,r),e}function RI(r){if(Pf.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",h),r.removeEventListener("abort",h)},l=()=>{t(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",l),r.addEventListener("error",h),r.addEventListener("abort",h)});Pf.set(r,e)}let kf={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Pf.get(r);if(e==="objectStoreNames")return r.objectStoreNames||w_.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return gi(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function CI(r){kf=r(kf)}function PI(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(pf(this),e,...t);return w_.set(s,e.sort?e.sort():[e]),gi(s)}:SI().includes(r)?function(...e){return r.apply(pf(this),e),gi(E_.get(this))}:function(...e){return gi(r.apply(pf(this),e))}}function kI(r){return typeof r=="function"?PI(r):(r instanceof IDBTransaction&&RI(r),TI(r,II())?new Proxy(r,kf):r)}function gi(r){if(r instanceof IDBRequest)return AI(r);if(df.has(r))return df.get(r);const e=kI(r);return e!==r&&(df.set(r,e),id.set(e,r)),e}const pf=r=>id.get(r);function NI(r,e,{blocked:t,upgrade:s,blocking:o,terminated:l}={}){const h=indexedDB.open(r,e),m=gi(h);return s&&h.addEventListener("upgradeneeded",g=>{s(gi(h.result),g.oldVersion,g.newVersion,gi(h.transaction),g)}),t&&h.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),m.then(g=>{l&&g.addEventListener("close",()=>l()),o&&g.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),m}const DI=["get","getKey","getAll","getAllKeys","count"],xI=["put","add","delete","clear"],mf=new Map;function Cg(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(mf.get(e))return mf.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=xI.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||DI.includes(t)))return;const l=async function(h,...m){const g=this.transaction(h,o?"readwrite":"readonly");let _=g.store;return s&&(_=_.index(m.shift())),(await Promise.all([_[t](...m),o&&g.done]))[0]};return mf.set(e,l),l}CI(r=>({...r,get:(e,t,s)=>Cg(e,t)||r.get(e,t,s),has:(e,t)=>!!Cg(e,t)||r.has(e,t)}));class VI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(OI(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function OI(r){return r.getComponent()?.type==="VERSION"}const Nf="@firebase/app",Pg="0.14.5";const kr=new rd("@firebase/app"),MI="@firebase/app-compat",LI="@firebase/analytics-compat",bI="@firebase/analytics",FI="@firebase/app-check-compat",UI="@firebase/app-check",jI="@firebase/auth",zI="@firebase/auth-compat",$I="@firebase/database",BI="@firebase/data-connect",qI="@firebase/database-compat",HI="@firebase/functions",WI="@firebase/functions-compat",GI="@firebase/installations",KI="@firebase/installations-compat",QI="@firebase/messaging",YI="@firebase/messaging-compat",XI="@firebase/performance",JI="@firebase/performance-compat",ZI="@firebase/remote-config",e0="@firebase/remote-config-compat",t0="@firebase/storage",n0="@firebase/storage-compat",r0="@firebase/firestore",i0="@firebase/ai",s0="@firebase/firestore-compat",o0="firebase",a0="12.5.0";const Df="[DEFAULT]",l0={[Nf]:"fire-core",[MI]:"fire-core-compat",[bI]:"fire-analytics",[LI]:"fire-analytics-compat",[UI]:"fire-app-check",[FI]:"fire-app-check-compat",[jI]:"fire-auth",[zI]:"fire-auth-compat",[$I]:"fire-rtdb",[BI]:"fire-data-connect",[qI]:"fire-rtdb-compat",[HI]:"fire-fn",[WI]:"fire-fn-compat",[GI]:"fire-iid",[KI]:"fire-iid-compat",[QI]:"fire-fcm",[YI]:"fire-fcm-compat",[XI]:"fire-perf",[JI]:"fire-perf-compat",[ZI]:"fire-rc",[e0]:"fire-rc-compat",[t0]:"fire-gcs",[n0]:"fire-gcs-compat",[r0]:"fire-fst",[s0]:"fire-fst-compat",[i0]:"fire-vertex","fire-js":"fire-js",[o0]:"fire-js-all"};const Qu=new Map,u0=new Map,xf=new Map;function kg(r,e){try{r.container.addComponent(e)}catch(t){kr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function _o(r){const e=r.name;if(xf.has(e))return kr.debug(`There were multiple attempts to register component ${e}.`),!1;xf.set(e,r);for(const t of Qu.values())kg(t,r);for(const t of u0.values())kg(t,r);return!0}function sd(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function xn(r){return r==null?!1:r.settings!==void 0}const c0={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yi=new Xa("app","Firebase",c0);class h0{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new us("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yi.create("app-deleted",{appName:this._name})}}const Co=a0;function T_(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s={name:Df,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw yi.create("bad-app-name",{appName:String(o)});if(t||(t=g_()),!t)throw yi.create("no-options");const l=Qu.get(o);if(l){if(ls(t,l.options)&&ls(s,l.config))return l;throw yi.create("duplicate-app",{appName:o})}const h=new yI(o);for(const g of xf.values())h.addComponent(g);const m=new h0(t,s,h);return Qu.set(o,m),m}function I_(r=Df){const e=Qu.get(r);if(!e&&r===Df&&g_())return T_();if(!e)throw yi.create("no-app",{appName:r});return e}function _i(r,e,t){let s=l0[r]??r;t&&(s+=`-${t}`);const o=s.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&h.push("and"),l&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),kr.warn(h.join(" "));return}_o(new us(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const f0="firebase-heartbeat-database",d0=1,ja="firebase-heartbeat-store";let gf=null;function S_(){return gf||(gf=NI(f0,d0,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(ja)}catch(t){console.warn(t)}}}}).catch(r=>{throw yi.create("idb-open",{originalErrorMessage:r.message})})),gf}async function p0(r){try{const t=(await S_()).transaction(ja),s=await t.objectStore(ja).get(A_(r));return await t.done,s}catch(e){if(e instanceof Vr)kr.warn(e.message);else{const t=yi.create("idb-get",{originalErrorMessage:e?.message});kr.warn(t.message)}}}async function Ng(r,e){try{const s=(await S_()).transaction(ja,"readwrite");await s.objectStore(ja).put(e,A_(r)),await s.done}catch(t){if(t instanceof Vr)kr.warn(t.message);else{const s=yi.create("idb-set",{originalErrorMessage:t?.message});kr.warn(s.message)}}}function A_(r){return`${r.name}!${r.options.appId}`}const m0=1024,g0=30;class y0{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new v0(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Dg();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>g0){const o=E0(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){kr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Dg(),{heartbeatsToSend:t,unsentEntries:s}=_0(this._heartbeatsCache.heartbeats),o=Ku(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return kr.warn(e),""}}}function Dg(){return new Date().toISOString().substring(0,10)}function _0(r,e=m0){const t=[];let s=r.slice();for(const o of r){const l=t.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),xg(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),xg(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class v0{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sI()?oI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await p0(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Ng(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Ng(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function xg(r){return Ku(JSON.stringify({version:2,heartbeats:r})).length}function E0(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let s=1;s<r.length;s++)r[s].date<t&&(t=r[s].date,e=s);return e}function w0(r){_o(new us("platform-logger",e=>new VI(e),"PRIVATE")),_o(new us("heartbeat",e=>new y0(e),"PRIVATE")),_i(Nf,Pg,r),_i(Nf,Pg,"esm2020"),_i("fire-js","")}w0("");var Vg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var vi,R_;(function(){var r;function e(N,I){function C(){}C.prototype=I.prototype,N.F=I.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(k,P,L){for(var R=Array(arguments.length-2),le=2;le<arguments.length;le++)R[le-2]=arguments[le];return I.prototype[P].apply(k,R)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,I,C){C||(C=0);const k=Array(16);if(typeof I=="string")for(var P=0;P<16;++P)k[P]=I.charCodeAt(C++)|I.charCodeAt(C++)<<8|I.charCodeAt(C++)<<16|I.charCodeAt(C++)<<24;else for(P=0;P<16;++P)k[P]=I[C++]|I[C++]<<8|I[C++]<<16|I[C++]<<24;I=N.g[0],C=N.g[1],P=N.g[2];let L=N.g[3],R;R=I+(L^C&(P^L))+k[0]+3614090360&4294967295,I=C+(R<<7&4294967295|R>>>25),R=L+(P^I&(C^P))+k[1]+3905402710&4294967295,L=I+(R<<12&4294967295|R>>>20),R=P+(C^L&(I^C))+k[2]+606105819&4294967295,P=L+(R<<17&4294967295|R>>>15),R=C+(I^P&(L^I))+k[3]+3250441966&4294967295,C=P+(R<<22&4294967295|R>>>10),R=I+(L^C&(P^L))+k[4]+4118548399&4294967295,I=C+(R<<7&4294967295|R>>>25),R=L+(P^I&(C^P))+k[5]+1200080426&4294967295,L=I+(R<<12&4294967295|R>>>20),R=P+(C^L&(I^C))+k[6]+2821735955&4294967295,P=L+(R<<17&4294967295|R>>>15),R=C+(I^P&(L^I))+k[7]+4249261313&4294967295,C=P+(R<<22&4294967295|R>>>10),R=I+(L^C&(P^L))+k[8]+1770035416&4294967295,I=C+(R<<7&4294967295|R>>>25),R=L+(P^I&(C^P))+k[9]+2336552879&4294967295,L=I+(R<<12&4294967295|R>>>20),R=P+(C^L&(I^C))+k[10]+4294925233&4294967295,P=L+(R<<17&4294967295|R>>>15),R=C+(I^P&(L^I))+k[11]+2304563134&4294967295,C=P+(R<<22&4294967295|R>>>10),R=I+(L^C&(P^L))+k[12]+1804603682&4294967295,I=C+(R<<7&4294967295|R>>>25),R=L+(P^I&(C^P))+k[13]+4254626195&4294967295,L=I+(R<<12&4294967295|R>>>20),R=P+(C^L&(I^C))+k[14]+2792965006&4294967295,P=L+(R<<17&4294967295|R>>>15),R=C+(I^P&(L^I))+k[15]+1236535329&4294967295,C=P+(R<<22&4294967295|R>>>10),R=I+(P^L&(C^P))+k[1]+4129170786&4294967295,I=C+(R<<5&4294967295|R>>>27),R=L+(C^P&(I^C))+k[6]+3225465664&4294967295,L=I+(R<<9&4294967295|R>>>23),R=P+(I^C&(L^I))+k[11]+643717713&4294967295,P=L+(R<<14&4294967295|R>>>18),R=C+(L^I&(P^L))+k[0]+3921069994&4294967295,C=P+(R<<20&4294967295|R>>>12),R=I+(P^L&(C^P))+k[5]+3593408605&4294967295,I=C+(R<<5&4294967295|R>>>27),R=L+(C^P&(I^C))+k[10]+38016083&4294967295,L=I+(R<<9&4294967295|R>>>23),R=P+(I^C&(L^I))+k[15]+3634488961&4294967295,P=L+(R<<14&4294967295|R>>>18),R=C+(L^I&(P^L))+k[4]+3889429448&4294967295,C=P+(R<<20&4294967295|R>>>12),R=I+(P^L&(C^P))+k[9]+568446438&4294967295,I=C+(R<<5&4294967295|R>>>27),R=L+(C^P&(I^C))+k[14]+3275163606&4294967295,L=I+(R<<9&4294967295|R>>>23),R=P+(I^C&(L^I))+k[3]+4107603335&4294967295,P=L+(R<<14&4294967295|R>>>18),R=C+(L^I&(P^L))+k[8]+1163531501&4294967295,C=P+(R<<20&4294967295|R>>>12),R=I+(P^L&(C^P))+k[13]+2850285829&4294967295,I=C+(R<<5&4294967295|R>>>27),R=L+(C^P&(I^C))+k[2]+4243563512&4294967295,L=I+(R<<9&4294967295|R>>>23),R=P+(I^C&(L^I))+k[7]+1735328473&4294967295,P=L+(R<<14&4294967295|R>>>18),R=C+(L^I&(P^L))+k[12]+2368359562&4294967295,C=P+(R<<20&4294967295|R>>>12),R=I+(C^P^L)+k[5]+4294588738&4294967295,I=C+(R<<4&4294967295|R>>>28),R=L+(I^C^P)+k[8]+2272392833&4294967295,L=I+(R<<11&4294967295|R>>>21),R=P+(L^I^C)+k[11]+1839030562&4294967295,P=L+(R<<16&4294967295|R>>>16),R=C+(P^L^I)+k[14]+4259657740&4294967295,C=P+(R<<23&4294967295|R>>>9),R=I+(C^P^L)+k[1]+2763975236&4294967295,I=C+(R<<4&4294967295|R>>>28),R=L+(I^C^P)+k[4]+1272893353&4294967295,L=I+(R<<11&4294967295|R>>>21),R=P+(L^I^C)+k[7]+4139469664&4294967295,P=L+(R<<16&4294967295|R>>>16),R=C+(P^L^I)+k[10]+3200236656&4294967295,C=P+(R<<23&4294967295|R>>>9),R=I+(C^P^L)+k[13]+681279174&4294967295,I=C+(R<<4&4294967295|R>>>28),R=L+(I^C^P)+k[0]+3936430074&4294967295,L=I+(R<<11&4294967295|R>>>21),R=P+(L^I^C)+k[3]+3572445317&4294967295,P=L+(R<<16&4294967295|R>>>16),R=C+(P^L^I)+k[6]+76029189&4294967295,C=P+(R<<23&4294967295|R>>>9),R=I+(C^P^L)+k[9]+3654602809&4294967295,I=C+(R<<4&4294967295|R>>>28),R=L+(I^C^P)+k[12]+3873151461&4294967295,L=I+(R<<11&4294967295|R>>>21),R=P+(L^I^C)+k[15]+530742520&4294967295,P=L+(R<<16&4294967295|R>>>16),R=C+(P^L^I)+k[2]+3299628645&4294967295,C=P+(R<<23&4294967295|R>>>9),R=I+(P^(C|~L))+k[0]+4096336452&4294967295,I=C+(R<<6&4294967295|R>>>26),R=L+(C^(I|~P))+k[7]+1126891415&4294967295,L=I+(R<<10&4294967295|R>>>22),R=P+(I^(L|~C))+k[14]+2878612391&4294967295,P=L+(R<<15&4294967295|R>>>17),R=C+(L^(P|~I))+k[5]+4237533241&4294967295,C=P+(R<<21&4294967295|R>>>11),R=I+(P^(C|~L))+k[12]+1700485571&4294967295,I=C+(R<<6&4294967295|R>>>26),R=L+(C^(I|~P))+k[3]+2399980690&4294967295,L=I+(R<<10&4294967295|R>>>22),R=P+(I^(L|~C))+k[10]+4293915773&4294967295,P=L+(R<<15&4294967295|R>>>17),R=C+(L^(P|~I))+k[1]+2240044497&4294967295,C=P+(R<<21&4294967295|R>>>11),R=I+(P^(C|~L))+k[8]+1873313359&4294967295,I=C+(R<<6&4294967295|R>>>26),R=L+(C^(I|~P))+k[15]+4264355552&4294967295,L=I+(R<<10&4294967295|R>>>22),R=P+(I^(L|~C))+k[6]+2734768916&4294967295,P=L+(R<<15&4294967295|R>>>17),R=C+(L^(P|~I))+k[13]+1309151649&4294967295,C=P+(R<<21&4294967295|R>>>11),R=I+(P^(C|~L))+k[4]+4149444226&4294967295,I=C+(R<<6&4294967295|R>>>26),R=L+(C^(I|~P))+k[11]+3174756917&4294967295,L=I+(R<<10&4294967295|R>>>22),R=P+(I^(L|~C))+k[2]+718787259&4294967295,P=L+(R<<15&4294967295|R>>>17),R=C+(L^(P|~I))+k[9]+3951481745&4294967295,N.g[0]=N.g[0]+I&4294967295,N.g[1]=N.g[1]+(P+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+P&4294967295,N.g[3]=N.g[3]+L&4294967295}s.prototype.v=function(N,I){I===void 0&&(I=N.length);const C=I-this.blockSize,k=this.C;let P=this.h,L=0;for(;L<I;){if(P==0)for(;L<=C;)o(this,N,L),L+=this.blockSize;if(typeof N=="string"){for(;L<I;)if(k[P++]=N.charCodeAt(L++),P==this.blockSize){o(this,k),P=0;break}}else for(;L<I;)if(k[P++]=N[L++],P==this.blockSize){o(this,k),P=0;break}}this.h=P,this.o+=I},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var I=1;I<N.length-8;++I)N[I]=0;I=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=I&255,I/=256;for(this.v(N),N=Array(16),I=0,C=0;C<4;++C)for(let k=0;k<32;k+=8)N[I++]=this.g[C]>>>k&255;return N};function l(N,I){var C=m;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=I(N)}function h(N,I){this.h=I;const C=[];let k=!0;for(let P=N.length-1;P>=0;P--){const L=N[P]|0;k&&L==I||(C[P]=L,k=!1)}this.g=C}var m={};function g(N){return-128<=N&&N<128?l(N,function(I){return new h([I|0],I<0?-1:0)}):new h([N|0],N<0?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return T;if(N<0)return M(_(-N));const I=[];let C=1;for(let k=0;N>=C;k++)I[k]=N/C|0,C*=4294967296;return new h(I,0)}function E(N,I){if(N.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(N.charAt(0)=="-")return M(E(N.substring(1),I));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(I,8));let k=T;for(let L=0;L<N.length;L+=8){var P=Math.min(8,N.length-L);const R=parseInt(N.substring(L,L+P),I);P<8?(P=_(Math.pow(I,P)),k=k.j(P).add(_(R))):(k=k.j(C),k=k.add(_(R)))}return k}var T=g(0),A=g(1),U=g(16777216);r=h.prototype,r.m=function(){if(x(this))return-M(this).m();let N=0,I=1;for(let C=0;C<this.g.length;C++){const k=this.i(C);N+=(k>=0?k:4294967296+k)*I,I*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(q(this))return"0";if(x(this))return"-"+M(this).toString(N);const I=_(Math.pow(N,6));var C=this;let k="";for(;;){const P=Ee(C,I).g;C=Z(C,P.j(I));let L=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=P,q(C))return L+k;for(;L.length<6;)L="0"+L;k=L+k}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function q(N){if(N.h!=0)return!1;for(let I=0;I<N.g.length;I++)if(N.g[I]!=0)return!1;return!0}function x(N){return N.h==-1}r.l=function(N){return N=Z(this,N),x(N)?-1:q(N)?0:1};function M(N){const I=N.g.length,C=[];for(let k=0;k<I;k++)C[k]=~N.g[k];return new h(C,~N.h).add(A)}r.abs=function(){return x(this)?M(this):this},r.add=function(N){const I=Math.max(this.g.length,N.g.length),C=[];let k=0;for(let P=0;P<=I;P++){let L=k+(this.i(P)&65535)+(N.i(P)&65535),R=(L>>>16)+(this.i(P)>>>16)+(N.i(P)>>>16);k=R>>>16,L&=65535,R&=65535,C[P]=R<<16|L}return new h(C,C[C.length-1]&-2147483648?-1:0)};function Z(N,I){return N.add(M(I))}r.j=function(N){if(q(this)||q(N))return T;if(x(this))return x(N)?M(this).j(M(N)):M(M(this).j(N));if(x(N))return M(this.j(M(N)));if(this.l(U)<0&&N.l(U)<0)return _(this.m()*N.m());const I=this.g.length+N.g.length,C=[];for(var k=0;k<2*I;k++)C[k]=0;for(k=0;k<this.g.length;k++)for(let P=0;P<N.g.length;P++){const L=this.i(k)>>>16,R=this.i(k)&65535,le=N.i(P)>>>16,ne=N.i(P)&65535;C[2*k+2*P]+=R*ne,se(C,2*k+2*P),C[2*k+2*P+1]+=L*ne,se(C,2*k+2*P+1),C[2*k+2*P+1]+=R*le,se(C,2*k+2*P+1),C[2*k+2*P+2]+=L*le,se(C,2*k+2*P+2)}for(N=0;N<I;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=I;N<2*I;N++)C[N]=0;return new h(C,0)};function se(N,I){for(;(N[I]&65535)!=N[I];)N[I+1]+=N[I]>>>16,N[I]&=65535,I++}function ae(N,I){this.g=N,this.h=I}function Ee(N,I){if(q(I))throw Error("division by zero");if(q(N))return new ae(T,T);if(x(N))return I=Ee(M(N),I),new ae(M(I.g),M(I.h));if(x(I))return I=Ee(N,M(I)),new ae(M(I.g),I.h);if(N.g.length>30){if(x(N)||x(I))throw Error("slowDivide_ only works with positive integers.");for(var C=A,k=I;k.l(N)<=0;)C=Ie(C),k=Ie(k);var P=Se(C,1),L=Se(k,1);for(k=Se(k,2),C=Se(C,2);!q(k);){var R=L.add(k);R.l(N)<=0&&(P=P.add(C),L=R),k=Se(k,1),C=Se(C,1)}return I=Z(N,P.j(I)),new ae(P,I)}for(P=T;N.l(I)>=0;){for(C=Math.max(1,Math.floor(N.m()/I.m())),k=Math.ceil(Math.log(C)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),L=_(C),R=L.j(I);x(R)||R.l(N)>0;)C-=k,L=_(C),R=L.j(I);q(L)&&(L=A),P=P.add(L),N=Z(N,R)}return new ae(P,N)}r.B=function(N){return Ee(this,N).h},r.and=function(N){const I=Math.max(this.g.length,N.g.length),C=[];for(let k=0;k<I;k++)C[k]=this.i(k)&N.i(k);return new h(C,this.h&N.h)},r.or=function(N){const I=Math.max(this.g.length,N.g.length),C=[];for(let k=0;k<I;k++)C[k]=this.i(k)|N.i(k);return new h(C,this.h|N.h)},r.xor=function(N){const I=Math.max(this.g.length,N.g.length),C=[];for(let k=0;k<I;k++)C[k]=this.i(k)^N.i(k);return new h(C,this.h^N.h)};function Ie(N){const I=N.g.length+1,C=[];for(let k=0;k<I;k++)C[k]=N.i(k)<<1|N.i(k-1)>>>31;return new h(C,N.h)}function Se(N,I){const C=I>>5;I%=32;const k=N.g.length-C,P=[];for(let L=0;L<k;L++)P[L]=I>0?N.i(L+C)>>>I|N.i(L+C+1)<<32-I:N.i(L+C);return new h(P,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,R_=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=_,h.fromString=E,vi=h}).apply(typeof Vg<"u"?Vg:typeof self<"u"?self:typeof window<"u"?window:{});var Au=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var C_,Da,P_,xu,Vf,k_,N_,D_;(function(){var r,e=Object.defineProperty;function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Au=="object"&&Au];for(var p=0;p<u.length;++p){var y=u[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=t(this);function o(u,p){if(p)e:{var y=s;u=u.split(".");for(var w=0;w<u.length-1;w++){var F=u[w];if(!(F in y))break e;y=y[F]}u=u[u.length-1],w=y[u],p=p(w),p!=w&&p!=null&&e(y,u,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(p){var y=[],w;for(w in p)Object.prototype.hasOwnProperty.call(p,w)&&y.push([w,p[w]]);return y}});var l=l||{},h=this||self;function m(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function g(u,p,y){return u.call.apply(u.bind,arguments)}function _(u,p,y){return _=g,_.apply(null,arguments)}function E(u,p){var y=Array.prototype.slice.call(arguments,1);return function(){var w=y.slice();return w.push.apply(w,arguments),u.apply(this,w)}}function T(u,p){function y(){}y.prototype=p.prototype,u.Z=p.prototype,u.prototype=new y,u.prototype.constructor=u,u.Ob=function(w,F,B){for(var re=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)re[Ne-2]=arguments[Ne];return p.prototype[F].apply(w,re)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function U(u){const p=u.length;if(p>0){const y=Array(p);for(let w=0;w<p;w++)y[w]=u[w];return y}return[]}function q(u,p){for(let w=1;w<arguments.length;w++){const F=arguments[w];var y=typeof F;if(y=y!="object"?y:F?Array.isArray(F)?"array":y:"null",y=="array"||y=="object"&&typeof F.length=="number"){y=u.length||0;const B=F.length||0;u.length=y+B;for(let re=0;re<B;re++)u[y+re]=F[re]}else u.push(F)}}class x{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function M(u){h.setTimeout(()=>{throw u},0)}function Z(){var u=N;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class se{constructor(){this.h=this.g=null}add(p,y){const w=ae.get();w.set(p,y),this.h?this.h.next=w:this.g=w,this.h=w}}var ae=new x(()=>new Ee,u=>u.reset());class Ee{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Ie,Se=!1,N=new se,I=()=>{const u=Promise.resolve(void 0);Ie=()=>{u.then(C)}};function C(){for(var u;u=Z();){try{u.h.call(u.g)}catch(y){M(y)}var p=ae;p.j(u),p.h<100&&(p.h++,u.next=p.g,p.g=u)}Se=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};h.addEventListener("test",y,p),h.removeEventListener("test",y,p)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function le(u,p){P.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,p)}T(le,P),le.prototype.init=function(u,p){const y=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget,p||(y=="mouseover"?p=u.fromElement:y=="mouseout"&&(p=u.toElement)),this.relatedTarget=p,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&le.Z.h.call(this)},le.prototype.h=function(){le.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ne="closure_listenable_"+(Math.random()*1e6|0),te=0;function oe(u,p,y,w,F){this.listener=u,this.proxy=null,this.src=p,this.type=y,this.capture=!!w,this.ha=F,this.key=++te,this.da=this.fa=!1}function $(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function X(u,p,y){for(const w in u)p.call(y,u[w],w,u)}function K(u,p){for(const y in u)p.call(void 0,u[y],y,u)}function V(u){const p={};for(const y in u)p[y]=u[y];return p}const H="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function me(u,p){let y,w;for(let F=1;F<arguments.length;F++){w=arguments[F];for(y in w)u[y]=w[y];for(let B=0;B<H.length;B++)y=H[B],Object.prototype.hasOwnProperty.call(w,y)&&(u[y]=w[y])}}function ye(u){this.src=u,this.g={},this.h=0}ye.prototype.add=function(u,p,y,w,F){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const re=xe(u,p,w,F);return re>-1?(p=u[re],y||(p.fa=!1)):(p=new oe(p,this.src,B,!!w,F),p.fa=y,u.push(p)),p};function Ae(u,p){const y=p.type;if(y in u.g){var w=u.g[y],F=Array.prototype.indexOf.call(w,p,void 0),B;(B=F>=0)&&Array.prototype.splice.call(w,F,1),B&&($(p),u.g[y].length==0&&(delete u.g[y],u.h--))}}function xe(u,p,y,w){for(let F=0;F<u.length;++F){const B=u[F];if(!B.da&&B.listener==p&&B.capture==!!y&&B.ha==w)return F}return-1}var Oe="closure_lm_"+(Math.random()*1e6|0),Ve={};function Ue(u,p,y,w,F){if(Array.isArray(p)){for(let B=0;B<p.length;B++)Ue(u,p[B],y,w,F);return null}return y=Mo(y),u&&u[ne]?u.J(p,y,m(w)?!!w.capture:!1,F):He(u,p,y,!1,w,F)}function He(u,p,y,w,F,B){if(!p)throw Error("Invalid event type");const re=m(F)?!!F.capture:!!F;let Ne=vs(u);if(Ne||(u[Oe]=Ne=new ye(u)),y=Ne.add(p,y,w,re,B),y.proxy)return y;if(w=$t(),y.proxy=w,w.src=u,w.listener=y,u.addEventListener)L||(F=re),F===void 0&&(F=!1),u.addEventListener(p.toString(),w,F);else if(u.attachEvent)u.attachEvent(_s(p.toString()),w);else if(u.addListener&&u.removeListener)u.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return y}function $t(){function u(y){return p.call(u.src,u.listener,y)}const p=ul;return u}function wn(u,p,y,w,F){if(Array.isArray(p))for(var B=0;B<p.length;B++)wn(u,p[B],y,w,F);else w=m(w)?!!w.capture:!!w,y=Mo(y),u&&u[ne]?(u=u.i,B=String(p).toString(),B in u.g&&(p=u.g[B],y=xe(p,y,w,F),y>-1&&($(p[y]),Array.prototype.splice.call(p,y,1),p.length==0&&(delete u.g[B],u.h--)))):u&&(u=vs(u))&&(p=u.g[p.toString()],u=-1,p&&(u=xe(p,y,w,F)),(y=u>-1?p[u]:null)&&en(y))}function en(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[ne])Ae(p.i,u);else{var y=u.type,w=u.proxy;p.removeEventListener?p.removeEventListener(y,w,u.capture):p.detachEvent?p.detachEvent(_s(y),w):p.addListener&&p.removeListener&&p.removeListener(w),(y=vs(p))?(Ae(y,u),y.h==0&&(y.src=null,p[Oe]=null)):$(u)}}}function _s(u){return u in Ve?Ve[u]:Ve[u]="on"+u}function ul(u,p){if(u.da)u=!0;else{p=new le(p,this);const y=u.listener,w=u.ha||u.src;u.fa&&en(u),u=y.call(w,p)}return u}function vs(u){return u=u[Oe],u instanceof ye?u:null}var xi="__closure_events_fn_"+(Math.random()*1e9>>>0);function Mo(u){return typeof u=="function"?u:(u[xi]||(u[xi]=function(p){return u.handleEvent(p)}),u[xi])}function ht(){k.call(this),this.i=new ye(this),this.M=this,this.G=null}T(ht,k),ht.prototype[ne]=!0,ht.prototype.removeEventListener=function(u,p,y,w){wn(this,u,p,y,w)};function at(u,p){var y,w=u.G;if(w)for(y=[];w;w=w.G)y.push(w);if(u=u.M,w=p.type||p,typeof p=="string")p=new P(p,u);else if(p instanceof P)p.target=p.target||u;else{var F=p;p=new P(w,u),me(p,F)}F=!0;let B,re;if(y)for(re=y.length-1;re>=0;re--)B=p.g=y[re],F=Tn(B,w,!0,p)&&F;if(B=p.g=u,F=Tn(B,w,!0,p)&&F,F=Tn(B,w,!1,p)&&F,y)for(re=0;re<y.length;re++)B=p.g=y[re],F=Tn(B,w,!1,p)&&F}ht.prototype.N=function(){if(ht.Z.N.call(this),this.i){var u=this.i;for(const p in u.g){const y=u.g[p];for(let w=0;w<y.length;w++)$(y[w]);delete u.g[p],u.h--}}this.G=null},ht.prototype.J=function(u,p,y,w){return this.i.add(String(u),p,!1,y,w)},ht.prototype.K=function(u,p,y,w){return this.i.add(String(u),p,!0,y,w)};function Tn(u,p,y,w){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();let F=!0;for(let B=0;B<p.length;++B){const re=p[B];if(re&&!re.da&&re.capture==y){const Ne=re.listener,lt=re.ha||re.src;re.fa&&Ae(u.i,re),F=Ne.call(lt,w)!==!1&&F}}return F&&!w.defaultPrevented}function Lo(u,p){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:h.setTimeout(u,p||0)}function bo(u){u.g=Lo(()=>{u.g=null,u.i&&(u.i=!1,bo(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class cl extends k{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:bo(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Or(u){k.call(this),this.h=u,this.g={}}T(Or,k);var Fo=[];function Es(u){X(u.g,function(p,y){this.g.hasOwnProperty(y)&&en(p)},u),u.g={}}Or.prototype.N=function(){Or.Z.N.call(this),Es(this)},Or.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mr=h.JSON.stringify,hl=h.JSON.parse,Vi=class{stringify(u){return h.JSON.stringify(u,void 0)}parse(u){return h.JSON.parse(u,void 0)}};function Lr(){}function fl(){}var br={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ws(){P.call(this,"d")}T(ws,P);function Uo(){P.call(this,"c")}T(Uo,P);var In={},Ts=null;function Fr(){return Ts=Ts||new ht}In.Ia="serverreachability";function Is(u){P.call(this,In.Ia,u)}T(Is,P);function ur(u){const p=Fr();at(p,new Is(p))}In.STAT_EVENT="statevent";function cr(u,p){P.call(this,In.STAT_EVENT,u),this.stat=p}T(cr,P);function st(u){const p=Fr();at(p,new cr(p,u))}In.Ja="timingevent";function jo(u,p){P.call(this,In.Ja,u),this.size=p}T(jo,P);function Ur(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){u()},p)}function jr(){this.g=!0}jr.prototype.ua=function(){this.g=!1};function dl(u,p,y,w,F,B){u.info(function(){if(u.g)if(B){var re="",Ne=B.split("&");for(let Ge=0;Ge<Ne.length;Ge++){var lt=Ne[Ge].split("=");if(lt.length>1){const ft=lt[0];lt=lt[1];const an=ft.split("_");re=an.length>=2&&an[1]=="type"?re+(ft+"="+lt+"&"):re+(ft+"=redacted&")}}}else re=null;else re=B;return"XMLHTTP REQ ("+w+") [attempt "+F+"]: "+p+`
`+y+`
`+re})}function pl(u,p,y,w,F,B,re){u.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+F+"]: "+p+`
`+y+`
`+B+" "+re})}function bn(u,p,y,w){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+Oi(u,y)+(w?" "+w:"")})}function ml(u,p){u.info(function(){return"TIMEOUT: "+p})}jr.prototype.info=function(){};function Oi(u,p){if(!u.g)return p;if(!p)return null;try{const B=JSON.parse(p);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var y=B[u];if(!(y.length<2)){var w=y[1];if(Array.isArray(w)&&!(w.length<1)){var F=w[0];if(F!="noop"&&F!="stop"&&F!="close")for(let re=1;re<w.length;re++)w[re]=""}}}}return Mr(B)}catch{return p}}var zr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},$r={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},gl;function hr(){}T(hr,Lr),hr.prototype.g=function(){return new XMLHttpRequest},gl=new hr;function Fn(u){return encodeURIComponent(String(u))}function Ss(u){var p=1;u=u.split(":");const y=[];for(;p>0&&u.length;)y.push(u.shift()),p--;return u.length&&y.push(u.join(":")),y}function fn(u,p,y,w){this.j=u,this.i=p,this.l=y,this.S=w||1,this.V=new Or(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new yl}function yl(){this.i=null,this.g="",this.h=!1}var _l={},zo={};function Sn(u,p,y){u.M=1,u.A=dr(dn(p)),u.u=y,u.R=!0,$o(u,null)}function $o(u,p){u.F=Date.now(),Mi(u),u.B=dn(u.A);var y=u.B,w=u.S;Array.isArray(w)||(w=[String(w)]),Jo(y.i,"t",w),u.C=0,y=u.j.L,u.h=new yl,u.g=Pl(u.j,y?p:null,!u.u),u.P>0&&(u.O=new cl(_(u.Y,u,u.g),u.P)),p=u.V,y=u.g,w=u.ba;var F="readystatechange";Array.isArray(F)||(F&&(Fo[0]=F.toString()),F=Fo);for(let B=0;B<F.length;B++){const re=Ue(y,F[B],w||p.handleEvent,!1,p.h||p);if(!re)break;p.g[re.key]=re}p=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,p)):(u.v="GET",u.g.ea(u.B,u.v,null,p)),ur(),dl(u.i,u.v,u.B,u.l,u.S,u.u)}fn.prototype.ba=function(u){u=u.target;const p=this.O;p&&Hn(u)==3?p.j():this.Y(u)},fn.prototype.Y=function(u){try{if(u==this.g)e:{const Ne=Hn(this.g),lt=this.g.ya(),Ge=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||Rl(this.g)))){this.K||Ne!=4||lt==7||(lt==8||Ge<=0?ur(3):ur(2)),As(this);var p=this.g.ca();this.X=p;var y=vl(this);if(this.o=p==200,pl(this.i,this.v,this.B,this.l,this.S,Ne,p),this.o){if(this.U&&!this.L){t:{if(this.g){var w,F=this.g;if((w=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(w)){var B=w;break t}}B=null}if(u=B)bn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Xe(this,u);else{this.o=!1,this.m=3,st(12),fr(this),Li(this);break e}}if(this.R){u=!0;let ft;for(;!this.K&&this.C<y.length;)if(ft=wl(this,y),ft==zo){Ne==4&&(this.m=4,st(14),u=!1),bn(this.i,this.l,null,"[Incomplete Response]");break}else if(ft==_l){this.m=4,st(15),bn(this.i,this.l,y,"[Invalid Chunk]"),u=!1;break}else bn(this.i,this.l,ft,null),Xe(this,ft);if(El(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||y.length!=0||this.h.h||(this.m=1,st(16),u=!1),this.o=this.o&&u,!u)bn(this.i,this.l,y,"[Invalid Chunked Response]"),fr(this),Li(this);else if(y.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),Hi(re),re.P=!0,st(11))}}else bn(this.i,this.l,y,null),Xe(this,y);Ne==4&&fr(this),this.o&&!this.K&&(Ne==4?Ms(this.j,this):(this.o=!1,Mi(this)))}else ea(this.g),p==400&&y.indexOf("Unknown SID")>0?(this.m=3,st(12)):(this.m=0,st(13)),fr(this),Li(this)}}}catch{}finally{}};function vl(u){if(!El(u))return u.g.la();const p=Rl(u.g);if(p==="")return"";let y="";const w=p.length,F=Hn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return fr(u),Li(u),"";u.h.i=new h.TextDecoder}for(let B=0;B<w;B++)u.h.h=!0,y+=u.h.i.decode(p[B],{stream:!(F&&B==w-1)});return p.length=0,u.h.g+=y,u.C=0,u.h.g}function El(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function wl(u,p){var y=u.C,w=p.indexOf(`
`,y);return w==-1?zo:(y=Number(p.substring(y,w)),isNaN(y)?_l:(w+=1,w+y>p.length?zo:(p=p.slice(w,w+y),u.C=w+y,p)))}fn.prototype.cancel=function(){this.K=!0,fr(this)};function Mi(u){u.T=Date.now()+u.H,Bo(u,u.H)}function Bo(u,p){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Ur(_(u.aa,u),p)}function As(u){u.D&&(h.clearTimeout(u.D),u.D=null)}fn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ml(this.i,this.B),this.M!=2&&(ur(),st(17)),fr(this),this.m=2,Li(this)):Bo(this,this.T-u)};function Li(u){u.j.I==0||u.K||Ms(u.j,u)}function fr(u){As(u);var p=u.O;p&&typeof p.dispose=="function"&&p.dispose(),u.O=null,Es(u.V),u.g&&(p=u.g,u.g=null,p.abort(),p.dispose())}function Xe(u,p){try{var y=u.j;if(y.I!=0&&(y.g==u||Ho(y.h,u))){if(!u.L&&Ho(y.h,u)&&y.I==3){try{var w=y.Ba.g.parse(p)}catch{w=null}if(Array.isArray(w)&&w.length==3){var F=w;if(F[0]==0){e:if(!y.v){if(y.g)if(y.g.F+3e3<u.F)Os(y),sn(y);else break e;Kn(y),st(18)}}else y.xa=F[1],0<y.xa-y.K&&F[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=Ur(_(y.Va,y),6e3));bi(y.h)<=1&&y.ta&&(y.ta=void 0)}else on(y,11)}else if((u.L||y.g==u)&&Os(y),!R(p))for(F=y.Ba.g.parse(p),p=0;p<F.length;p++){let Ge=F[p];const ft=Ge[0];if(!(ft<=y.K))if(y.K=ft,Ge=Ge[1],y.I==2)if(Ge[0]=="c"){y.M=Ge[1],y.ba=Ge[2];const an=Ge[3];an!=null&&(y.ka=an,y.j.info("VER="+y.ka));const _r=Ge[4];_r!=null&&(y.za=_r,y.j.info("SVER="+y.za));const Qn=Ge[5];Qn!=null&&typeof Qn=="number"&&Qn>0&&(w=1.5*Qn,y.O=w,y.j.info("backChannelRequestTimeoutMs_="+w)),w=y;const Yn=u.g;if(Yn){const Fs=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fs){var B=w.h;B.g||Fs.indexOf("spdy")==-1&&Fs.indexOf("quic")==-1&&Fs.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Cs(B,B.h),B.h=null))}if(w.G){const ra=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;ra&&(w.wa=ra,qe(w.J,w.G,ra))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-u.F,y.j.info("Handshake RTT: "+y.T+"ms")),w=y;var re=u;if(w.na=na(w,w.L?w.ba:null,w.W),re.L){Fi(w.h,re);var Ne=re,lt=w.O;lt&&(Ne.H=lt),Ne.D&&(As(Ne),Mi(Ne)),w.g=re}else Vt(w);y.i.length>0&&yr(y)}else Ge[0]!="stop"&&Ge[0]!="close"||on(y,7);else y.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?on(y,7):xs(y):Ge[0]!="noop"&&y.l&&y.l.qa(Ge),y.A=0)}}ur(4)}catch{}}var bc=class{constructor(u,p){this.g=u,this.map=p}};function Rs(u){this.l=u||10,h.PerformanceNavigationTiming?(u=h.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function qo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function bi(u){return u.h?1:u.g?u.g.size:0}function Ho(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function Cs(u,p){u.g?u.g.add(p):u.h=p}function Fi(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Rs.prototype.cancel=function(){if(this.i=tn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function tn(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const y of u.g.values())p=p.concat(y.G);return p}return U(u.i)}var Tl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nn(u,p){if(u){u=u.split("&");for(let y=0;y<u.length;y++){const w=u[y].indexOf("=");let F,B=null;w>=0?(F=u[y].substring(0,w),B=u[y].substring(w+1)):F=u[y],p(F,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Un(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;u instanceof Un?(this.l=u.l,Ui(this,u.j),this.o=u.o,this.g=u.g,jn(this,u.u),this.h=u.h,Br(this,Zo(u.i)),this.m=u.m):u&&(p=String(u).match(Tl))?(this.l=!1,Ui(this,p[1]||"",!0),this.o=ji(p[2]||""),this.g=ji(p[3]||"",!0),jn(this,p[4]),this.h=ji(p[5]||"",!0),Br(this,p[6]||"",!0),this.m=ji(p[7]||"")):(this.l=!1,this.i=new je(null,this.l))}Un.prototype.toString=function(){const u=[];var p=this.j;p&&u.push(zi(p,Go,!0),":");var y=this.g;return(y||p=="file")&&(u.push("//"),(p=this.o)&&u.push(zi(p,Go,!0),"@"),u.push(Fn(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&u.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(zi(y,y.charAt(0)=="/"?$i:Ko,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",zi(y,Qo)),u.join("")},Un.prototype.resolve=function(u){const p=dn(this);let y=!!u.j;y?Ui(p,u.j):y=!!u.o,y?p.o=u.o:y=!!u.g,y?p.g=u.g:y=u.u!=null;var w=u.h;if(y)jn(p,u.u);else if(y=!!u.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var F=p.h.lastIndexOf("/");F!=-1&&(w=p.h.slice(0,F+1)+w)}if(F=w,F==".."||F==".")w="";else if(F.indexOf("./")!=-1||F.indexOf("/.")!=-1){w=F.lastIndexOf("/",0)==0,F=F.split("/");const B=[];for(let re=0;re<F.length;){const Ne=F[re++];Ne=="."?w&&re==F.length&&B.push(""):Ne==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),w&&re==F.length&&B.push("")):(B.push(Ne),w=!0)}w=B.join("/")}else w=F}return y?p.h=w:y=u.i.toString()!=="",y?Br(p,Zo(u.i)):y=!!u.m,y&&(p.m=u.m),p};function dn(u){return new Un(u)}function Ui(u,p,y){u.j=y?ji(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function jn(u,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);u.u=p}else u.u=null}function Br(u,p,y){p instanceof je?(u.i=p,ks(u.i,u.l)):(y||(p=zi(p,Fc)),u.i=new je(p,u.l))}function qe(u,p,y){u.i.set(p,y)}function dr(u){return qe(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ji(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function zi(u,p,y){return typeof u=="string"?(u=encodeURI(u).replace(p,Wo),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Wo(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Go=/[#\/\?@]/g,Ko=/[#\?:]/g,$i=/[#\?]/g,Fc=/[#\?@]/g,Qo=/#/g;function je(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function zn(u){u.g||(u.g=new Map,u.h=0,u.i&&nn(u.i,function(p,y){u.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}r=je.prototype,r.add=function(u,p){zn(this),this.i=null,u=$n(this,u);let y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(p),this.h+=1,this};function Yo(u,p){zn(u),p=$n(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function Ps(u,p){return zn(u),p=$n(u,p),u.g.has(p)}r.forEach=function(u,p){zn(this),this.g.forEach(function(y,w){y.forEach(function(F){u.call(p,F,w,this)},this)},this)};function Xo(u,p){zn(u);let y=[];if(typeof p=="string")Ps(u,p)&&(y=y.concat(u.g.get($n(u,p))));else for(u=Array.from(u.g.values()),p=0;p<u.length;p++)y=y.concat(u[p]);return y}r.set=function(u,p){return zn(this),this.i=null,u=$n(this,u),Ps(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},r.get=function(u,p){return u?(u=Xo(this,u),u.length>0?String(u[0]):p):p};function Jo(u,p,y){Yo(u,p),y.length>0&&(u.i=null,u.g.set($n(u,p),U(y)),u.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(let w=0;w<p.length;w++){var y=p[w];const F=Fn(y);y=Xo(this,y);for(let B=0;B<y.length;B++){let re=F;y[B]!==""&&(re+="="+Fn(y[B])),u.push(re)}}return this.i=u.join("&")};function Zo(u){const p=new je;return p.i=u.i,u.g&&(p.g=new Map(u.g),p.h=u.h),p}function $n(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function ks(u,p){p&&!u.j&&(zn(u),u.i=null,u.g.forEach(function(y,w){const F=w.toLowerCase();w!=F&&(Yo(this,w),Jo(this,F,y))},u)),u.j=p}function Bn(u,p){const y=new jr;if(h.Image){const w=new Image;w.onload=E(At,y,"TestLoadImage: loaded",!0,p,w),w.onerror=E(At,y,"TestLoadImage: error",!1,p,w),w.onabort=E(At,y,"TestLoadImage: abort",!1,p,w),w.ontimeout=E(At,y,"TestLoadImage: timeout",!1,p,w),h.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=u}else p(!1)}function qn(u,p){const y=new jr,w=new AbortController,F=setTimeout(()=>{w.abort(),At(y,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:w.signal}).then(B=>{clearTimeout(F),B.ok?At(y,"TestPingServer: ok",!0,p):At(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(F),At(y,"TestPingServer: error",!1,p)})}function At(u,p,y,w,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),w(y)}catch{}}function Bi(){this.g=new Vi}function pr(u){this.i=u.Sb||null,this.h=u.ab||!1}T(pr,Lr),pr.prototype.g=function(){return new rn(this.i,this.h)};function rn(u,p){ht.call(this),this.H=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(rn,ht),r=rn.prototype,r.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=p,this.readyState=1,An(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(p.body=u),(this.H||h).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,qr(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,An(this)),this.g&&(this.readyState=3,An(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Il(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Il(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?qr(this):An(this),this.readyState==3&&Il(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,qr(this))},r.Na=function(u){this.g&&(this.response=u,qr(this))},r.ga=function(){this.g&&qr(this)};function qr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,An(u)}r.setRequestHeader=function(u,p){this.A.append(u,p)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=p.next();return u.join(`\r
`)};function An(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(rn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Sl(u){let p="";return X(u,function(y,w){p+=w,p+=":",p+=y,p+=`\r
`}),p}function Ns(u,p,y){e:{for(w in y){var w=!1;break e}w=!0}w||(y=Sl(y),typeof u=="string"?y!=null&&Fn(y):qe(u,p,y))}function Ke(u){ht.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Ke,ht);var Al=/^https?$/i,Uc=["POST","PUT"];r=Ke.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,p,y,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():gl.g(),this.g.onreadystatechange=A(_(this.Ca,this));try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(B){Hr(this,B);return}if(u=y||"",y=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var F in w)y.set(F,w[F]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const B of w.keys())y.set(B,w.get(B));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(y.keys()).find(B=>B.toLowerCase()=="content-type"),F=h.FormData&&u instanceof h.FormData,!(Array.prototype.indexOf.call(Uc,p,void 0)>=0)||w||F||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,re]of y)this.g.setRequestHeader(B,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Hr(this,B)}};function Hr(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.o=5,Wr(u),gr(u)}function Wr(u){u.A||(u.A=!0,at(u,"complete"),at(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,at(this,"complete"),at(this,"abort"),gr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gr(this,!0)),Ke.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?mr(this):this.Xa())},r.Xa=function(){mr(this)};function mr(u){if(u.h&&typeof l<"u"){if(u.v&&Hn(u)==4)setTimeout(u.Ca.bind(u),0);else if(at(u,"readystatechange"),Hn(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var y;if(!(y=p)){var w;if(w=B===0){let re=String(u.D).match(Tl)[1]||null;!re&&h.self&&h.self.location&&(re=h.self.location.protocol.slice(0,-1)),w=!Al.test(re?re.toLowerCase():"")}y=w}if(y)at(u,"complete"),at(u,"success");else{u.o=6;try{var F=Hn(u)>2?u.g.statusText:""}catch{F=""}u.l=F+" ["+u.ca()+"]",Wr(u)}}finally{gr(u)}}}}function gr(u,p){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const y=u.g;u.g=null,p||at(u,"ready");try{y.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Hn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Hn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),hl(p)}};function Rl(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ea(u){const p={};u=(u.g&&Hn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<u.length;w++){if(R(u[w]))continue;var y=Ss(u[w]);const F=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const B=p[F]||[];p[F]=B,B.push(y)}K(p,function(w){return w.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wn(u,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||p}function Ds(u){this.za=0,this.i=[],this.j=new jr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Wn("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Wn("baseRetryDelayMs",5e3,u),this.Za=Wn("retryDelaySeedMs",1e4,u),this.Ta=Wn("forwardChannelMaxRetries",2,u),this.va=Wn("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Rs(u&&u.concurrentRequestLimit),this.Ba=new Bi,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ds.prototype,r.ka=8,r.I=1,r.connect=function(u,p,y,w){st(0),this.W=u,this.H=p||{},y&&w!==void 0&&(this.H.OSID=y,this.H.OAID=w),this.F=this.X,this.J=na(this,null,this.W),yr(this)};function xs(u){if(Vs(u),u.I==3){var p=u.V++,y=dn(u.J);if(qe(y,"SID",u.M),qe(y,"RID",p),qe(y,"TYPE","terminate"),Gn(u,y),p=new fn(u,u.j,p),p.M=2,p.A=dr(dn(y)),y=!1,h.navigator&&h.navigator.sendBeacon)try{y=h.navigator.sendBeacon(p.A.toString(),"")}catch{}!y&&h.Image&&(new Image().src=p.A,y=!0),y||(p.g=Pl(p.j,null),p.g.ea(p.A)),p.F=Date.now(),Mi(p)}Wi(u)}function sn(u){u.g&&(Hi(u),u.g.cancel(),u.g=null)}function Vs(u){sn(u),u.v&&(h.clearTimeout(u.v),u.v=null),Os(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&h.clearTimeout(u.m),u.m=null)}function yr(u){if(!qo(u.h)&&!u.m){u.m=!0;var p=u.Ea;Ie||I(),Se||(Ie(),Se=!0),N.add(p,u),u.D=0}}function Cl(u,p){return bi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=p.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Ur(_(u.Ea,u,p),Ls(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const F=new fn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=V(B),me(B,this.U)):B=this.U),this.u!==null||this.R||(F.J=B,B=null),this.S)e:{for(var p=0,y=0;y<this.i.length;y++){t:{var w=this.i[y];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(p+=w,p>4096){p=y;break e}if(p===4096||y===this.i.length-1){p=y+1;break e}}p=1e3}else p=1e3;p=ta(this,F,p),y=dn(this.J),qe(y,"RID",u),qe(y,"CVER",22),this.G&&qe(y,"X-HTTP-Session-Id",this.G),Gn(this,y),B&&(this.R?p="headers="+Fn(Sl(B))+"&"+p:this.u&&Ns(y,this.u,B)),Cs(this.h,F),this.Ra&&qe(y,"TYPE","init"),this.S?(qe(y,"$req",p),qe(y,"SID","null"),F.U=!0,Sn(F,y,null)):Sn(F,y,p),this.I=2}}else this.I==3&&(u?qi(this,u):this.i.length==0||qo(this.h)||qi(this))};function qi(u,p){var y;p?y=p.l:y=u.V++;const w=dn(u.J);qe(w,"SID",u.M),qe(w,"RID",y),qe(w,"AID",u.K),Gn(u,w),u.u&&u.o&&Ns(w,u.u,u.o),y=new fn(u,u.j,y,u.D+1),u.u===null&&(y.J=u.o),p&&(u.i=p.G.concat(u.i)),p=ta(u,y,1e3),y.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Cs(u.h,y),Sn(y,w,p)}function Gn(u,p){u.H&&X(u.H,function(y,w){qe(p,w,y)}),u.l&&X({},function(y,w){qe(p,w,y)})}function ta(u,p,y){y=Math.min(u.i.length,y);const w=u.l?_(u.l.Ka,u.l,u):null;e:{var F=u.i;let Ne=-1;for(;;){const lt=["count="+y];Ne==-1?y>0?(Ne=F[0].g,lt.push("ofs="+Ne)):Ne=0:lt.push("ofs="+Ne);let Ge=!0;for(let ft=0;ft<y;ft++){var B=F[ft].g;const an=F[ft].map;if(B-=Ne,B<0)Ne=Math.max(0,F[ft].g-100),Ge=!1;else try{B="req"+B+"_"||"";try{var re=an instanceof Map?an:Object.entries(an);for(const[_r,Qn]of re){let Yn=Qn;m(Qn)&&(Yn=Mr(Qn)),lt.push(B+_r+"="+encodeURIComponent(Yn))}}catch(_r){throw lt.push(B+"type="+encodeURIComponent("_badmap")),_r}}catch{w&&w(an)}}if(Ge){re=lt.join("&");break e}}re=void 0}return u=u.i.splice(0,y),p.G=u,re}function Vt(u){if(!u.g&&!u.v){u.Y=1;var p=u.Da;Ie||I(),Se||(Ie(),Se=!0),N.add(p,u),u.A=0}}function Kn(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Ur(_(u.Da,u),Ls(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Gr(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Ur(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,st(10),sn(this),Gr(this))};function Hi(u){u.B!=null&&(h.clearTimeout(u.B),u.B=null)}function Gr(u){u.g=new fn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var p=dn(u.na);qe(p,"RID","rpc"),qe(p,"SID",u.M),qe(p,"AID",u.K),qe(p,"CI",u.F?"0":"1"),!u.F&&u.ia&&qe(p,"TO",u.ia),qe(p,"TYPE","xmlhttp"),Gn(u,p),u.u&&u.o&&Ns(p,u.u,u.o),u.O&&(u.g.H=u.O);var y=u.g;u=u.ba,y.M=1,y.A=dr(dn(p)),y.u=null,y.R=!0,$o(y,u)}r.Va=function(){this.C!=null&&(this.C=null,sn(this),Kn(this),st(19))};function Os(u){u.C!=null&&(h.clearTimeout(u.C),u.C=null)}function Ms(u,p){var y=null;if(u.g==p){Os(u),Hi(u),u.g=null;var w=2}else if(Ho(u.h,p))y=p.G,Fi(u.h,p),w=1;else return;if(u.I!=0){if(p.o)if(w==1){y=p.u?p.u.length:0,p=Date.now()-p.F;var F=u.D;w=Fr(),at(w,new jo(w,y)),yr(u)}else Vt(u);else if(F=p.m,F==3||F==0&&p.X>0||!(w==1&&Cl(u,p)||w==2&&Kn(u)))switch(y&&y.length>0&&(p=u.h,p.i=p.i.concat(y)),F){case 1:on(u,5);break;case 4:on(u,10);break;case 3:on(u,6);break;default:on(u,2)}}}function Ls(u,p){let y=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(y*=2),y*p}function on(u,p){if(u.j.info("Error code "+p),p==2){var y=_(u.bb,u),w=u.Ua;const F=!w;w=new Un(w||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Ui(w,"https"),dr(w),F?Bn(w.toString(),y):qn(w.toString(),y)}else st(2);u.I=0,u.l&&u.l.pa(p),Wi(u),Vs(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function Wi(u){if(u.I=0,u.ja=[],u.l){const p=tn(u.h);(p.length!=0||u.i.length!=0)&&(q(u.ja,p),q(u.ja,u.i),u.h.i.length=0,U(u.i),u.i.length=0),u.l.oa()}}function na(u,p,y){var w=y instanceof Un?dn(y):new Un(y);if(w.g!="")p&&(w.g=p+"."+w.g),jn(w,w.u);else{var F=h.location;w=F.protocol,p=p?p+"."+F.hostname:F.hostname,F=+F.port;const B=new Un(null);w&&Ui(B,w),p&&(B.g=p),F&&jn(B,F),y&&(B.h=y),w=B}return y=u.G,p=u.wa,y&&p&&qe(w,y,p),qe(w,"VER",u.ka),Gn(u,w),w}function Pl(u,p,y){if(p&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Aa&&!u.ma?new Ke(new pr({ab:y})):new Ke(u.ma),p.Fa(u.L),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function kl(){}r=kl.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function bs(){}bs.prototype.g=function(u,p){return new Rt(u,p)};function Rt(u,p){ht.call(this),this.g=new Ds(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(u?u["X-WebChannel-Client-Profile"]=p.sa:u={"X-WebChannel-Client-Profile":p.sa}),this.g.U=u,(u=p&&p.Qb)&&!R(u)&&(this.g.u=u),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!R(p)&&(this.g.G=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Kr(this)}T(Rt,ht),Rt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Rt.prototype.close=function(){xs(this.g)},Rt.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.v&&(y={},y.__data__=Mr(u),u=y);p.i.push(new bc(p.Ya++,u)),p.I==3&&yr(p)},Rt.prototype.N=function(){this.g.l=null,delete this.j,xs(this.g),delete this.g,Rt.Z.N.call(this)};function Nl(u){ws.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const y in p){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}T(Nl,ws);function Dl(){Uo.call(this),this.status=1}T(Dl,Uo);function Kr(u){this.g=u}T(Kr,kl),Kr.prototype.ra=function(){at(this.g,"a")},Kr.prototype.qa=function(u){at(this.g,new Nl(u))},Kr.prototype.pa=function(u){at(this.g,new Dl)},Kr.prototype.oa=function(){at(this.g,"b")},bs.prototype.createWebChannel=bs.prototype.g,Rt.prototype.send=Rt.prototype.o,Rt.prototype.open=Rt.prototype.m,Rt.prototype.close=Rt.prototype.close,D_=function(){return new bs},N_=function(){return Fr()},k_=In,Vf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},zr.NO_ERROR=0,zr.TIMEOUT=8,zr.HTTP_ERROR=6,xu=zr,$r.COMPLETE="complete",P_=$r,fl.EventType=br,br.OPEN="a",br.CLOSE="b",br.ERROR="c",br.MESSAGE="d",ht.prototype.listen=ht.prototype.J,Da=fl,Ke.prototype.listenOnce=Ke.prototype.K,Ke.prototype.getLastError=Ke.prototype.Ha,Ke.prototype.getLastErrorCode=Ke.prototype.ya,Ke.prototype.getStatus=Ke.prototype.ca,Ke.prototype.getResponseJson=Ke.prototype.La,Ke.prototype.getResponseText=Ke.prototype.la,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Fa,C_=Ke}).apply(typeof Au<"u"?Au:typeof self<"u"?self:typeof window<"u"?window:{});const Og="@firebase/firestore",Mg="4.9.2";class Ut{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ut.UNAUTHENTICATED=new Ut(null),Ut.GOOGLE_CREDENTIALS=new Ut("google-credentials-uid"),Ut.FIRST_PARTY=new Ut("first-party-uid"),Ut.MOCK_USER=new Ut("mock-user");let Po="12.3.0";const cs=new rd("@firebase/firestore");function so(){return cs.logLevel}function he(r,...e){if(cs.logLevel<=Le.DEBUG){const t=e.map(od);cs.debug(`Firestore (${Po}): ${r}`,...t)}}function Nr(r,...e){if(cs.logLevel<=Le.ERROR){const t=e.map(od);cs.error(`Firestore (${Po}): ${r}`,...t)}}function vo(r,...e){if(cs.logLevel<=Le.WARN){const t=e.map(od);cs.warn(`Firestore (${Po}): ${r}`,...t)}}function od(r){if(typeof r=="string")return r;try{return(function(t){return JSON.stringify(t)})(r)}catch{return r}}function Ce(r,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,x_(r,s,t)}function x_(r,e,t){let s=`FIRESTORE (${Po}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Nr(s),new Error(s)}function We(r,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,r||x_(e,o,s)}function De(r,e){return r}const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends Vr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ei{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class V_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class T0{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Ut.UNAUTHENTICATED)))}shutdown(){}}class I0{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class S0{constructor(e){this.t=e,this.currentUser=Ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){We(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,t(g)):Promise.resolve();let l=new Ei;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ei,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const g=l;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ei)}}),0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(We(typeof s.accessToken=="string",31837,{l:s}),new V_(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new Ut(e)}}class A0{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=Ut.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class R0{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new A0(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Ut.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Lg{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class C0{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){We(this.o===void 0,3512);const s=l=>{l.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.m;return this.m=l.token,he("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const o=l=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Lg(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(We(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Lg(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function P0(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}class ad{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=P0(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<t&&(s+=e.charAt(o[l]%62))}return s}}function be(r,e){return r<e?-1:r>e?1:0}function Of(r,e){const t=Math.min(r.length,e.length);for(let s=0;s<t;s++){const o=r.charAt(s),l=e.charAt(s);if(o!==l)return yf(o)===yf(l)?be(o,l):yf(o)?1:-1}return be(r.length,e.length)}const k0=55296,N0=57343;function yf(r){const e=r.charCodeAt(0);return e>=k0&&e<=N0}function Eo(r,e,t){return r.length===e.length&&r.every(((s,o)=>t(s,e[o])))}const bg="__name__";class tr{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ce(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Ce(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return tr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof tr?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const l=tr.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return be(e.length,t.length)}static compareSegments(e,t){const s=tr.isNumericId(e),o=tr.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?tr.extractNumericId(e).compare(tr.extractNumericId(t)):Of(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return vi.fromString(e.substring(4,e.length-2))}}class Ye extends tr{construct(e,t,s){return new Ye(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ue(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new Ye(t)}static emptyPath(){return new Ye([])}}const D0=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nt extends tr{construct(e,t,s){return new Nt(e,t,s)}static isValidIdentifier(e){return D0.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===bg}static keyField(){return new Nt([bg])}static fromServerFormat(e){const t=[];let s="",o=0;const l=()=>{if(s.length===0)throw new ue(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ue(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ue(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(l(),o++)}if(l(),h)throw new ue(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nt(t)}static emptyPath(){return new Nt([])}}class ve{constructor(e){this.path=e}static fromPath(e){return new ve(Ye.fromString(e))}static fromName(e){return new ve(Ye.fromString(e).popFirst(5))}static empty(){return new ve(Ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ye.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new Ye(e.slice()))}}function O_(r,e,t){if(!t)throw new ue(W.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function x0(r,e,t,s){if(e===!0&&s===!0)throw new ue(W.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Fg(r){if(!ve.isDocumentKey(r))throw new ue(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Ug(r){if(ve.isDocumentKey(r))throw new ue(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function M_(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function yc(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ce(12329,{type:typeof r})}function hs(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ue(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=yc(r);throw new ue(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function gt(r,e){const t={typeString:r};return e&&(t.value=e),t}function Za(r,e){if(!M_(r))throw new ue(W.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){t=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(l!==void 0&&h!==l.value){t=`Expected '${s}' field to equal '${l.value}'`;break}}if(t)throw new ue(W.INVALID_ARGUMENT,t);return!0}const jg=-62135596800,zg=1e6;class et{static now(){return et.fromMillis(Date.now())}static fromDate(e){return et.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*zg);return new et(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ue(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ue(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<jg)throw new ue(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/zg}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:et._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Za(e,et._jsonSchema))return new et(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-jg;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}et._jsonSchemaVersion="firestore/timestamp/1.0",et._jsonSchema={type:gt("string",et._jsonSchemaVersion),seconds:gt("number"),nanoseconds:gt("number")};class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new et(0,0))}static max(){return new ke(new et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const za=-1;function V0(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=ke.fromTimestamp(s===1e9?new et(t+1,0):new et(t,s));return new Ii(o,ve.empty(),e)}function O0(r){return new Ii(r.readTime,r.key,za)}class Ii{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Ii(ke.min(),ve.empty(),za)}static max(){return new Ii(ke.max(),ve.empty(),za)}}function M0(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(r.documentKey,e.documentKey),t!==0?t:be(r.largestBatchId,e.largestBatchId))}const L0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class b0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ko(r){if(r.code!==W.FAILED_PRECONDITION||r.message!==L0)throw r;he("LocalStore","Unexpectedly lost primary lease")}class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new G(((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof G?t:G.resolve(t)}catch(t){return G.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):G.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):G.reject(t)}static resolve(e){return new G(((t,s)=>{t(e)}))}static reject(e){return new G(((t,s)=>{s(e)}))}static waitFor(e){return new G(((t,s)=>{let o=0,l=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++l,h&&l===o&&t()}),(g=>s(g)))})),h=!0,l===o&&t()}))}static or(e){let t=G.resolve(!1);for(const s of e)t=t.next((o=>o?G.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,l)=>{s.push(t.call(this,o,l))})),this.waitFor(s)}static mapArray(e,t){return new G(((s,o)=>{const l=e.length,h=new Array(l);let m=0;for(let g=0;g<l;g++){const _=g;t(e[_]).next((E=>{h[_]=E,++m,m===l&&s(h)}),(E=>o(E)))}}))}static doWhile(e,t){return new G(((s,o)=>{const l=()=>{e()===!0?t().next((()=>{l()}),o):s()};l()}))}}function F0(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function No(r){return r.name==="IndexedDbTransactionError"}class _c{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}_c.ce=-1;const ld=-1;function vc(r){return r==null}function Yu(r){return r===0&&1/r==-1/0}function U0(r){return typeof r=="number"&&Number.isInteger(r)&&!Yu(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const L_="";function j0(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=$g(e)),e=z0(r.get(t),e);return $g(e)}function z0(r,e){let t=e;const s=r.length;for(let o=0;o<s;o++){const l=r.charAt(o);switch(l){case"\0":t+="";break;case L_:t+="";break;default:t+=l}}return t}function $g(r){return r+L_+""}function Bg(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function ki(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function b_(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class it{constructor(e,t){this.comparator=e,this.root=t||kt.EMPTY}insert(e,t){return new it(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,kt.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ru(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ru(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ru(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ru(this.root,e,this.comparator,!0)}}class Ru{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kt{constructor(e,t,s,o,l){this.key=e,this.value=t,this.color=s??kt.RED,this.left=o??kt.EMPTY,this.right=l??kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,l){return new kt(e??this.key,t??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,s),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return kt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ce(27949);return e+(this.isRed()?0:1)}}kt.EMPTY=null,kt.RED=!0,kt.BLACK=!1;kt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce(57766)}get value(){throw Ce(16141)}get color(){throw Ce(16727)}get left(){throw Ce(29726)}get right(){throw Ce(36894)}copy(e,t,s,o,l){return this}insert(e,t,s){return new kt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Et{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new qg(this.data.getIterator())}getIteratorFrom(e){return new qg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof Et)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Et(this.comparator);return t.data=e,t}}class qg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class hn{constructor(e){this.fields=e,e.sort(Nt.comparator)}static empty(){return new hn([])}unionWith(e){let t=new Et(Nt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new hn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Eo(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}class F_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class xt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new F_("Invalid base64 string: "+l):l}})(e);return new xt(t)}static fromUint8Array(e){const t=(function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l})(e);return new xt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xt.EMPTY_BYTE_STRING=new xt("");const $0=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Si(r){if(We(!!r,39018),typeof r=="string"){let e=0;const t=$0.exec(r);if(We(!!t,46558,{timestamp:r}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ct(r.seconds),nanos:ct(r.nanos)}}function ct(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ai(r){return typeof r=="string"?xt.fromBase64String(r):xt.fromUint8Array(r)}const U_="server_timestamp",j_="__type__",z_="__previous_value__",$_="__local_write_time__";function ud(r){return(r?.mapValue?.fields||{})[j_]?.stringValue===U_}function Ec(r){const e=r.mapValue.fields[z_];return ud(e)?Ec(e):e}function $a(r){const e=Si(r.mapValue.fields[$_].timestampValue);return new et(e.seconds,e.nanos)}class B0{constructor(e,t,s,o,l,h,m,g,_,E){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=_,this.isUsingEmulator=E}}const Xu="(default)";class Ba{constructor(e,t){this.projectId=e,this.database=t||Xu}static empty(){return new Ba("","")}get isDefaultDatabase(){return this.database===Xu}isEqual(e){return e instanceof Ba&&e.projectId===this.projectId&&e.database===this.database}}const B_="__type__",q0="__max__",Cu={mapValue:{}},q_="__vector__",Ju="value";function Ri(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?ud(r)?4:W0(r)?9007199254740991:H0(r)?10:11:Ce(28295,{value:r})}function lr(r,e){if(r===e)return!0;const t=Ri(r);if(t!==Ri(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return $a(r).isEqual($a(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=Si(o.timestampValue),m=Si(l.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,l){return Ai(o.bytesValue).isEqual(Ai(l.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,l){return ct(o.geoPointValue.latitude)===ct(l.geoPointValue.latitude)&&ct(o.geoPointValue.longitude)===ct(l.geoPointValue.longitude)})(r,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return ct(o.integerValue)===ct(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=ct(o.doubleValue),m=ct(l.doubleValue);return h===m?Yu(h)===Yu(m):isNaN(h)&&isNaN(m)}return!1})(r,e);case 9:return Eo(r.arrayValue.values||[],e.arrayValue.values||[],lr);case 10:case 11:return(function(o,l){const h=o.mapValue.fields||{},m=l.mapValue.fields||{};if(Bg(h)!==Bg(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!lr(h[g],m[g])))return!1;return!0})(r,e);default:return Ce(52216,{left:r})}}function qa(r,e){return(r.values||[]).find((t=>lr(t,e)))!==void 0}function wo(r,e){if(r===e)return 0;const t=Ri(r),s=Ri(e);if(t!==s)return be(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return be(r.booleanValue,e.booleanValue);case 2:return(function(l,h){const m=ct(l.integerValue||l.doubleValue),g=ct(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(r,e);case 3:return Hg(r.timestampValue,e.timestampValue);case 4:return Hg($a(r),$a(e));case 5:return Of(r.stringValue,e.stringValue);case 6:return(function(l,h){const m=Ai(l),g=Ai(h);return m.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(l,h){const m=l.split("/"),g=h.split("/");for(let _=0;_<m.length&&_<g.length;_++){const E=be(m[_],g[_]);if(E!==0)return E}return be(m.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(l,h){const m=be(ct(l.latitude),ct(h.latitude));return m!==0?m:be(ct(l.longitude),ct(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Wg(r.arrayValue,e.arrayValue);case 10:return(function(l,h){const m=l.fields||{},g=h.fields||{},_=m[Ju]?.arrayValue,E=g[Ju]?.arrayValue,T=be(_?.values?.length||0,E?.values?.length||0);return T!==0?T:Wg(_,E)})(r.mapValue,e.mapValue);case 11:return(function(l,h){if(l===Cu.mapValue&&h===Cu.mapValue)return 0;if(l===Cu.mapValue)return 1;if(h===Cu.mapValue)return-1;const m=l.fields||{},g=Object.keys(m),_=h.fields||{},E=Object.keys(_);g.sort(),E.sort();for(let T=0;T<g.length&&T<E.length;++T){const A=Of(g[T],E[T]);if(A!==0)return A;const U=wo(m[g[T]],_[E[T]]);if(U!==0)return U}return be(g.length,E.length)})(r.mapValue,e.mapValue);default:throw Ce(23264,{he:t})}}function Hg(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return be(r,e);const t=Si(r),s=Si(e),o=be(t.seconds,s.seconds);return o!==0?o:be(t.nanos,s.nanos)}function Wg(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const l=wo(t[o],s[o]);if(l)return l}return be(t.length,s.length)}function To(r){return Mf(r)}function Mf(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const s=Si(t);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return Ai(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return ve.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let s="[",o=!0;for(const l of t.values||[])o?o=!1:s+=",",s+=Mf(l);return s+"]"})(r.arrayValue):"mapValue"in r?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const h of s)l?l=!1:o+=",",o+=`${h}:${Mf(t.fields[h])}`;return o+"}"})(r.mapValue):Ce(61005,{value:r})}function Vu(r){switch(Ri(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ec(r);return e?16+Vu(e):16;case 5:return 2*r.stringValue.length;case 6:return Ai(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,l)=>o+Vu(l)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return ki(s.fields,((l,h)=>{o+=l.length+Vu(h)})),o})(r.mapValue);default:throw Ce(13486,{value:r})}}function Gg(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Lf(r){return!!r&&"integerValue"in r}function cd(r){return!!r&&"arrayValue"in r}function Kg(r){return!!r&&"nullValue"in r}function Qg(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Ou(r){return!!r&&"mapValue"in r}function H0(r){return(r?.mapValue?.fields||{})[B_]?.stringValue===q_}function Ma(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ki(r.mapValue.fields,((t,s)=>e.mapValue.fields[t]=Ma(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ma(r.arrayValue.values[t]);return e}return{...r}}function W0(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===q0}class Jt{constructor(e){this.value=e}static empty(){return new Jt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Ou(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ma(t)}setAll(e){let t=Nt.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!t.isImmediateParentOf(m)){const g=this.getFieldsMap(t);this.applyChanges(g,s,o),s={},o=[],t=m.popLast()}h?s[m.lastSegment()]=Ma(h):o.push(m.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,s,o)}delete(e){const t=this.field(e.popLast());Ou(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return lr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Ou(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){ki(t,((o,l)=>e[o]=l));for(const o of s)delete e[o]}clone(){return new Jt(Ma(this.value))}}function H_(r){const e=[];return ki(r.fields,((t,s)=>{const o=new Nt([t]);if(Ou(s)){const l=H_(s.mapValue).fields;if(l.length===0)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)})),new hn(e)}class jt{constructor(e,t,s,o,l,h,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=l,this.data=h,this.documentState=m}static newInvalidDocument(e){return new jt(e,0,ke.min(),ke.min(),ke.min(),Jt.empty(),0)}static newFoundDocument(e,t,s,o){return new jt(e,1,t,ke.min(),s,o,0)}static newNoDocument(e,t){return new jt(e,2,t,ke.min(),ke.min(),Jt.empty(),0)}static newUnknownDocument(e,t){return new jt(e,3,t,ke.min(),ke.min(),Jt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Zu{constructor(e,t){this.position=e,this.inclusive=t}}function Yg(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const l=e[o],h=r.position[o];if(l.field.isKeyField()?s=ve.comparator(ve.fromName(h.referenceValue),t.key):s=wo(h,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function Xg(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!lr(r.position[t],e.position[t]))return!1;return!0}class Ha{constructor(e,t="asc"){this.field=e,this.dir=t}}function G0(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class W_{}class mt extends W_{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new Q0(e,t,s):t==="array-contains"?new J0(e,s):t==="in"?new Z0(e,s):t==="not-in"?new eS(e,s):t==="array-contains-any"?new tS(e,s):new mt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new Y0(e,s):new X0(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(wo(t,this.value)):t!==null&&Ri(this.value)===Ri(t)&&this.matchesComparison(wo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mn extends W_{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Mn(e,t)}matches(e){return G_(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function G_(r){return r.op==="and"}function K_(r){return K0(r)&&G_(r)}function K0(r){for(const e of r.filters)if(e instanceof Mn)return!1;return!0}function bf(r){if(r instanceof mt)return r.field.canonicalString()+r.op.toString()+To(r.value);if(K_(r))return r.filters.map((e=>bf(e))).join(",");{const e=r.filters.map((t=>bf(t))).join(",");return`${r.op}(${e})`}}function Q_(r,e){return r instanceof mt?(function(s,o){return o instanceof mt&&s.op===o.op&&s.field.isEqual(o.field)&&lr(s.value,o.value)})(r,e):r instanceof Mn?(function(s,o){return o instanceof Mn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((l,h,m)=>l&&Q_(h,o.filters[m])),!0):!1})(r,e):void Ce(19439)}function Y_(r){return r instanceof mt?(function(t){return`${t.field.canonicalString()} ${t.op} ${To(t.value)}`})(r):r instanceof Mn?(function(t){return t.op.toString()+" {"+t.getFilters().map(Y_).join(" ,")+"}"})(r):"Filter"}class Q0 extends mt{constructor(e,t,s){super(e,t,s),this.key=ve.fromName(s.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class Y0 extends mt{constructor(e,t){super(e,"in",t),this.keys=X_("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class X0 extends mt{constructor(e,t){super(e,"not-in",t),this.keys=X_("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function X_(r,e){return(e.arrayValue?.values||[]).map((t=>ve.fromName(t.referenceValue)))}class J0 extends mt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return cd(t)&&qa(t.arrayValue,this.value)}}class Z0 extends mt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&qa(this.value.arrayValue,t)}}class eS extends mt{constructor(e,t){super(e,"not-in",t)}matches(e){if(qa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!qa(this.value.arrayValue,t)}}class tS extends mt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!cd(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>qa(this.value.arrayValue,s)))}}class nS{constructor(e,t=null,s=[],o=[],l=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=h,this.endAt=m,this.Te=null}}function Jg(r,e=null,t=[],s=[],o=null,l=null,h=null){return new nS(r,e,t,s,o,l,h)}function hd(r){const e=De(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>bf(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),vc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>To(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>To(s))).join(",")),e.Te=t}return e.Te}function fd(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!G0(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Q_(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Xg(r.startAt,e.startAt)&&Xg(r.endAt,e.endAt)}function Ff(r){return ve.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Do{constructor(e,t=null,s=[],o=[],l=null,h="F",m=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=h,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function rS(r,e,t,s,o,l,h,m){return new Do(r,e,t,s,o,l,h,m)}function J_(r){return new Do(r)}function Zg(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Z_(r){return r.collectionGroup!==null}function La(r){const e=De(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Et(Nt.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((_=>{_.isInequality()&&(m=m.add(_.field))}))})),m})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Ha(l,s))})),t.has(Nt.keyField().canonicalString())||e.Ie.push(new Ha(Nt.keyField(),s))}return e.Ie}function nr(r){const e=De(r);return e.Ee||(e.Ee=iS(e,La(r))),e.Ee}function iS(r,e){if(r.limitType==="F")return Jg(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new Ha(o.field,l)}));const t=r.endAt?new Zu(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Zu(r.startAt.position,r.startAt.inclusive):null;return Jg(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function Uf(r,e){const t=r.filters.concat([e]);return new Do(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function jf(r,e,t){return new Do(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function wc(r,e){return fd(nr(r),nr(e))&&r.limitType===e.limitType}function ev(r){return`${hd(nr(r))}|lt:${r.limitType}`}function oo(r){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>Y_(o))).join(", ")}]`),vc(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>To(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>To(o))).join(",")),`Target(${s})`})(nr(r))}; limitType=${r.limitType})`}function Tc(r,e){return e.isFoundDocument()&&(function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):ve.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(r,e)&&(function(s,o){for(const l of La(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,g){const _=Yg(h,m,g);return h.inclusive?_<=0:_<0})(s.startAt,La(s),o)||s.endAt&&!(function(h,m,g){const _=Yg(h,m,g);return h.inclusive?_>=0:_>0})(s.endAt,La(s),o))})(r,e)}function sS(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function tv(r){return(e,t)=>{let s=!1;for(const o of La(r)){const l=oS(o,e,t);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function oS(r,e,t){const s=r.field.isKeyField()?ve.comparator(e.key,t.key):(function(l,h,m){const g=h.data.field(l),_=m.data.field(l);return g!==null&&_!==null?wo(g,_):Ce(42886)})(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ce(19790,{direction:r.dir})}}class ps{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ki(this.inner,((t,s)=>{for(const[o,l]of s)e(o,l)}))}isEmpty(){return b_(this.inner)}size(){return this.innerSize}}const aS=new it(ve.comparator);function Dr(){return aS}const nv=new it(ve.comparator);function xa(...r){let e=nv;for(const t of r)e=e.insert(t.key,t);return e}function rv(r){let e=nv;return r.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function as(){return ba()}function iv(){return ba()}function ba(){return new ps((r=>r.toString()),((r,e)=>r.isEqual(e)))}const lS=new it(ve.comparator),uS=new Et(ve.comparator);function Fe(...r){let e=uS;for(const t of r)e=e.add(t);return e}const cS=new Et(be);function hS(){return cS}function dd(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yu(e)?"-0":e}}function sv(r){return{integerValue:""+r}}function fS(r,e){return U0(e)?sv(e):dd(r,e)}class Ic{constructor(){this._=void 0}}function dS(r,e,t){return r instanceof Wa?(function(o,l){const h={fields:{[j_]:{stringValue:U_},[$_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&ud(l)&&(l=Ec(l)),l&&(h.fields[z_]=l),{mapValue:h}})(t,e):r instanceof Ga?av(r,e):r instanceof Ka?lv(r,e):(function(o,l){const h=ov(o,l),m=ey(h)+ey(o.Ae);return Lf(h)&&Lf(o.Ae)?sv(m):dd(o.serializer,m)})(r,e)}function pS(r,e,t){return r instanceof Ga?av(r,e):r instanceof Ka?lv(r,e):t}function ov(r,e){return r instanceof ec?(function(s){return Lf(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class Wa extends Ic{}class Ga extends Ic{constructor(e){super(),this.elements=e}}function av(r,e){const t=uv(e);for(const s of r.elements)t.some((o=>lr(o,s)))||t.push(s);return{arrayValue:{values:t}}}class Ka extends Ic{constructor(e){super(),this.elements=e}}function lv(r,e){let t=uv(e);for(const s of r.elements)t=t.filter((o=>!lr(o,s)));return{arrayValue:{values:t}}}class ec extends Ic{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function ey(r){return ct(r.integerValue||r.doubleValue)}function uv(r){return cd(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class mS{constructor(e,t){this.field=e,this.transform=t}}function gS(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof Ga&&o instanceof Ga||s instanceof Ka&&o instanceof Ka?Eo(s.elements,o.elements,lr):s instanceof ec&&o instanceof ec?lr(s.Ae,o.Ae):s instanceof Wa&&o instanceof Wa})(r.transform,e.transform)}class yS{constructor(e,t){this.version=e,this.transformResults=t}}class On{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new On}static exists(e){return new On(void 0,e)}static updateTime(e){return new On(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mu(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Sc{}function cv(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new pd(r.key,On.none()):new el(r.key,r.data,On.none());{const t=r.data,s=Jt.empty();let o=new Et(Nt.comparator);for(let l of e.fields)if(!o.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?s.delete(l):s.set(l,h),o=o.add(l)}return new Ni(r.key,s,new hn(o.toArray()),On.none())}}function _S(r,e,t){r instanceof el?(function(o,l,h){const m=o.value.clone(),g=ny(o.fieldTransforms,l,h.transformResults);m.setAll(g),l.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(r,e,t):r instanceof Ni?(function(o,l,h){if(!Mu(o.precondition,l))return void l.convertToUnknownDocument(h.version);const m=ny(o.fieldTransforms,l,h.transformResults),g=l.data;g.setAll(hv(o)),g.setAll(m),l.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(r,e,t):(function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,t)}function Fa(r,e,t,s){return r instanceof el?(function(l,h,m,g){if(!Mu(l.precondition,h))return m;const _=l.value.clone(),E=ry(l.fieldTransforms,g,h);return _.setAll(E),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),null})(r,e,t,s):r instanceof Ni?(function(l,h,m,g){if(!Mu(l.precondition,h))return m;const _=ry(l.fieldTransforms,g,h),E=h.data;return E.setAll(hv(l)),E.setAll(_),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((T=>T.field)))})(r,e,t,s):(function(l,h,m){return Mu(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(r,e,t)}function vS(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),l=ov(s.transform,o||null);l!=null&&(t===null&&(t=Jt.empty()),t.set(s.field,l))}return t||null}function ty(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Eo(s,o,((l,h)=>gS(l,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class el extends Sc{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ni extends Sc{constructor(e,t,s,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function hv(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}})),e}function ny(r,e,t){const s=new Map;We(r.length===t.length,32656,{Re:t.length,Ve:r.length});for(let o=0;o<t.length;o++){const l=r[o],h=l.transform,m=e.data.field(l.field);s.set(l.field,pS(h,m,t[o]))}return s}function ry(r,e,t){const s=new Map;for(const o of r){const l=o.transform,h=t.data.field(o.field);s.set(o.field,dS(l,h,e))}return s}class pd extends Sc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ES extends Sc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class wS{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&_S(l,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Fa(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Fa(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=iv();return this.mutations.forEach((o=>{const l=e.get(o.key),h=l.overlayedDocument;let m=this.applyToLocalView(h,l.mutatedFields);m=t.has(o.key)?null:m;const g=cv(h,m);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(ke.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Fe())}isEqual(e){return this.batchId===e.batchId&&Eo(this.mutations,e.mutations,((t,s)=>ty(t,s)))&&Eo(this.baseMutations,e.baseMutations,((t,s)=>ty(t,s)))}}class md{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){We(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return lS})();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,s[h].version);return new md(e,t,s,o)}}class TS{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class IS{constructor(e,t){this.count=e,this.unchangedNames=t}}var pt,ze;function SS(r){switch(r){case W.OK:return Ce(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return Ce(15467,{code:r})}}function fv(r){if(r===void 0)return Nr("GRPC error has no .code"),W.UNKNOWN;switch(r){case pt.OK:return W.OK;case pt.CANCELLED:return W.CANCELLED;case pt.UNKNOWN:return W.UNKNOWN;case pt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case pt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case pt.INTERNAL:return W.INTERNAL;case pt.UNAVAILABLE:return W.UNAVAILABLE;case pt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case pt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case pt.NOT_FOUND:return W.NOT_FOUND;case pt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case pt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case pt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case pt.ABORTED:return W.ABORTED;case pt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case pt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case pt.DATA_LOSS:return W.DATA_LOSS;default:return Ce(39323,{code:r})}}(ze=pt||(pt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";function AS(){return new TextEncoder}const RS=new vi([4294967295,4294967295],0);function iy(r){const e=AS().encode(r),t=new R_;return t.update(e),new Uint8Array(t.digest())}function sy(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new vi([t,s],0),new vi([o,l],0)]}class gd{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Va(`Invalid padding: ${t}`);if(s<0)throw new Va(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Va(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Va(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=vi.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(vi.fromNumber(s)));return o.compare(RS)===1&&(o=new vi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=iy(e),[s,o]=sy(t);for(let l=0;l<this.hashCount;l++){const h=this.ye(s,o,l);if(!this.we(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new gd(l,o,t);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const t=iy(e),[s,o]=sy(t);for(let l=0;l<this.hashCount;l++){const h=this.ye(s,o,l);this.Se(h)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Va extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ac{constructor(e,t,s,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,tl.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Ac(ke.min(),o,new it(be),Dr(),Fe())}}class tl{constructor(e,t,s,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new tl(s,t,Fe(),Fe(),Fe())}}class Lu{constructor(e,t,s,o){this.be=e,this.removedTargetIds=t,this.key=s,this.De=o}}class dv{constructor(e,t){this.targetId=e,this.Ce=t}}class pv{constructor(e,t,s=xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class oy{constructor(){this.ve=0,this.Fe=ay(),this.Me=xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Fe(),t=Fe(),s=Fe();return this.Fe.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Ce(38017,{changeType:l})}})),new tl(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=ay()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class CS{constructor(e){this.Ge=e,this.ze=new Map,this.je=Dr(),this.Je=Pu(),this.He=Pu(),this.Ye=new it(be)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:Ce(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const l=o.target;if(Ff(l))if(s===0){const h=new ve(l.path);this.et(t,h,jt.newNoDocument(h,ke.min()))}else We(s===1,20013,{expectedCount:s});else{const h=this._t(t);if(h!==s){const m=this.ut(e),g=m?this.ct(m,e,h):1;if(g!==0){this.it(t);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,_)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=t;let h,m;try{h=Ai(s).toUint8Array()}catch(g){if(g instanceof F_)return vo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new gd(h,o,l)}catch(g){return vo(g instanceof Va?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach((l=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(m)||(this.et(t,l,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((l,h)=>{const m=this.ot(h);if(m){if(l.current&&Ff(m.target)){const g=new ve(m.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,jt.newNoDocument(g,e))}l.Be&&(t.set(h,l.ke()),l.qe())}}));let s=Fe();this.He.forEach(((l,h)=>{let m=!0;h.forEachWhile((g=>{const _=this.ot(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(l))})),this.je.forEach(((l,h)=>h.setReadTime(e)));const o=new Ac(e,t,this.Ye,this.je,s);return this.je=Dr(),this.Je=Pu(),this.He=Pu(),this.Ye=new it(be),o}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new oy,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Et(be),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Et(be),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new oy),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Pu(){return new it(ve.comparator)}function ay(){return new it(ve.comparator)}const PS={asc:"ASCENDING",desc:"DESCENDING"},kS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NS={and:"AND",or:"OR"};class DS{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function zf(r,e){return r.useProto3Json||vc(e)?e:{value:e}}function tc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mv(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function xS(r,e){return tc(r,e.toTimestamp())}function rr(r){return We(!!r,49232),ke.fromTimestamp((function(t){const s=Si(t);return new et(s.seconds,s.nanos)})(r))}function yd(r,e){return $f(r,e).canonicalString()}function $f(r,e){const t=(function(o){return new Ye(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?t:t.child(e)}function gv(r){const e=Ye.fromString(r);return We(wv(e),10190,{key:e.toString()}),e}function Bf(r,e){return yd(r.databaseId,e.path)}function _f(r,e){const t=gv(e);if(t.get(1)!==r.databaseId.projectId)throw new ue(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ue(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new ve(_v(t))}function yv(r,e){return yd(r.databaseId,e)}function VS(r){const e=gv(r);return e.length===4?Ye.emptyPath():_v(e)}function qf(r){return new Ye(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function _v(r){return We(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function ly(r,e,t){return{name:Bf(r,e),fields:t.value.mapValue.fields}}function OS(r,e){let t;if("targetChange"in e){e.targetChange;const s=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Ce(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(_,E){return _.useProto3Json?(We(E===void 0||typeof E=="string",58123),xt.fromBase64String(E||"")):(We(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),xt.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(_){const E=_.code===void 0?W.UNKNOWN:fv(_.code);return new ue(E,_.message||"")})(h);t=new pv(s,o,l,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=_f(r,s.document.name),l=rr(s.document.updateTime),h=s.document.createTime?rr(s.document.createTime):ke.min(),m=new Jt({mapValue:{fields:s.document.fields}}),g=jt.newFoundDocument(o,l,h,m),_=s.targetIds||[],E=s.removedTargetIds||[];t=new Lu(_,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=_f(r,s.document),l=s.readTime?rr(s.readTime):ke.min(),h=jt.newNoDocument(o,l),m=s.removedTargetIds||[];t=new Lu([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=_f(r,s.document),l=s.removedTargetIds||[];t=new Lu([],l,o,null)}else{if(!("filter"in e))return Ce(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,h=new IS(o,l),m=s.targetId;t=new dv(m,h)}}return t}function MS(r,e){let t;if(e instanceof el)t={update:ly(r,e.key,e.value)};else if(e instanceof pd)t={delete:Bf(r,e.key)};else if(e instanceof Ni)t={update:ly(r,e.key,e.data),updateMask:qS(e.fieldMask)};else{if(!(e instanceof ES))return Ce(16599,{Vt:e.type});t={verify:Bf(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(l,h){const m=h.transform;if(m instanceof Wa)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Ga)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Ka)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof ec)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw Ce(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:xS(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ce(27497)})(r,e.precondition)),t}function LS(r,e){return r&&r.length>0?(We(e!==void 0,14353),r.map((t=>(function(o,l){let h=o.updateTime?rr(o.updateTime):rr(l);return h.isEqual(ke.min())&&(h=rr(l)),new yS(h,o.transformResults||[])})(t,e)))):[]}function bS(r,e){return{documents:[yv(r,e.path)]}}function FS(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=yv(r,o);const l=(function(_){if(_.length!==0)return Ev(Mn.create(_,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const h=(function(_){if(_.length!==0)return _.map((E=>(function(A){return{field:ao(A.field),direction:zS(A.dir)}})(E)))})(e.orderBy);h&&(t.structuredQuery.orderBy=h);const m=zf(r,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:t,parent:o}}function US(r){let e=VS(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){We(s===1,65062);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let l=[];t.where&&(l=(function(T){const A=vv(T);return A instanceof Mn&&K_(A)?A.getFilters():[A]})(t.where));let h=[];t.orderBy&&(h=(function(T){return T.map((A=>(function(q){return new Ha(lo(q.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(q.direction))})(A)))})(t.orderBy));let m=null;t.limit&&(m=(function(T){let A;return A=typeof T=="object"?T.value:T,vc(A)?null:A})(t.limit));let g=null;t.startAt&&(g=(function(T){const A=!!T.before,U=T.values||[];return new Zu(U,A)})(t.startAt));let _=null;return t.endAt&&(_=(function(T){const A=!T.before,U=T.values||[];return new Zu(U,A)})(t.endAt)),rS(e,o,h,l,m,"F",g,_)}function jS(r,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function vv(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=lo(t.unaryFilter.field);return mt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=lo(t.unaryFilter.field);return mt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=lo(t.unaryFilter.field);return mt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=lo(t.unaryFilter.field);return mt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ce(61313);default:return Ce(60726)}})(r):r.fieldFilter!==void 0?(function(t){return mt.create(lo(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ce(58110);default:return Ce(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return Mn.create(t.compositeFilter.filters.map((s=>vv(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ce(1026)}})(t.compositeFilter.op))})(r):Ce(30097,{filter:r})}function zS(r){return PS[r]}function $S(r){return kS[r]}function BS(r){return NS[r]}function ao(r){return{fieldPath:r.canonicalString()}}function lo(r){return Nt.fromServerFormat(r.fieldPath)}function Ev(r){return r instanceof mt?(function(t){if(t.op==="=="){if(Qg(t.value))return{unaryFilter:{field:ao(t.field),op:"IS_NAN"}};if(Kg(t.value))return{unaryFilter:{field:ao(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Qg(t.value))return{unaryFilter:{field:ao(t.field),op:"IS_NOT_NAN"}};if(Kg(t.value))return{unaryFilter:{field:ao(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ao(t.field),op:$S(t.op),value:t.value}}})(r):r instanceof Mn?(function(t){const s=t.getFilters().map((o=>Ev(o)));return s.length===1?s[0]:{compositeFilter:{op:BS(t.op),filters:s}}})(r):Ce(54877,{filter:r})}function qS(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function wv(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class mi{constructor(e,t,s,o,l=ke.min(),h=ke.min(),m=xt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new mi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new mi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new mi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new mi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class HS{constructor(e){this.yt=e}}function WS(r){const e=US({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?jf(e,e.limit,"L"):e}class GS{constructor(){this.Cn=new KS}addToCollectionParentIndex(e,t){return this.Cn.add(t),G.resolve()}getCollectionParents(e,t){return G.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return G.resolve()}deleteFieldIndex(e,t){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,t){return G.resolve()}getDocumentsMatchingTarget(e,t){return G.resolve(null)}getIndexType(e,t){return G.resolve(0)}getFieldIndexes(e,t){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,t){return G.resolve(Ii.min())}getMinOffsetFromCollectionGroup(e,t){return G.resolve(Ii.min())}updateCollectionGroup(e,t,s){return G.resolve()}updateIndexEntries(e,t){return G.resolve()}}class KS{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Et(Ye.comparator),l=!o.has(s);return this.index[t]=o.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Et(Ye.comparator)).toArray()}}const uy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Tv=41943040;class Xt{static withCacheSize(e){return new Xt(e,Xt.DEFAULT_COLLECTION_PERCENTILE,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}Xt.DEFAULT_COLLECTION_PERCENTILE=10,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xt.DEFAULT=new Xt(Tv,Xt.DEFAULT_COLLECTION_PERCENTILE,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xt.DISABLED=new Xt(-1,0,0);class Io{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Io(0)}static cr(){return new Io(-1)}}const cy="LruGarbageCollector",QS=1048576;function hy([r,e],[t,s]){const o=be(r,t);return o===0?be(e,s):o}class YS{constructor(e){this.Ir=e,this.buffer=new Et(hy),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();hy(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class XS{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(cy,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){No(t)?he(cy,"Ignoring IndexedDB error during garbage collection: ",t):await ko(t)}await this.Vr(3e5)}))}}class JS{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return G.resolve(_c.ce);const s=new YS(t);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),G.resolve(uy)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uy):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,o,l,h,m,g,_;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,t)))).next((T=>(l=T,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(_=Date.now(),so()<=Le.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${l} targets in `+(g-m)+`ms
	Removed ${T} documents in `+(_-g)+`ms
Total Duration: ${_-E}ms`),G.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:T}))))}}function ZS(r,e){return new JS(r,e)}class e1{constructor(){this.changes=new ps((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,jt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?G.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class t1{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class n1{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&Fa(s.mutation,o,hn.empty(),et.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,Fe()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=Fe()){const o=as();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((l=>{let h=xa();return l.forEach(((m,g)=>{h=h.insert(m,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,t){const s=as();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,Fe())))}populateOverlays(e,t,s){const o=[];return s.forEach((l=>{t.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((h,m)=>{t.set(h,m)}))}))}computeViews(e,t,s,o){let l=Dr();const h=ba(),m=(function(){return ba()})();return t.forEach(((g,_)=>{const E=s.get(_.key);o.has(_.key)&&(E===void 0||E.mutation instanceof Ni)?l=l.insert(_.key,_):E!==void 0?(h.set(_.key,E.mutation.getFieldMask()),Fa(E.mutation,_,E.mutation.getFieldMask(),et.now())):h.set(_.key,hn.empty())})),this.recalculateAndSaveOverlays(e,l).next((g=>(g.forEach(((_,E)=>h.set(_,E))),t.forEach(((_,E)=>m.set(_,new t1(E,h.get(_)??null)))),m)))}recalculateAndSaveOverlays(e,t){const s=ba();let o=new it(((h,m)=>h-m)),l=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((h=>{for(const m of h)m.keys().forEach((g=>{const _=t.get(g);if(_===null)return;let E=s.get(g)||hn.empty();E=m.applyToLocalView(_,E),s.set(g,E);const T=(o.get(m.batchId)||Fe()).add(g);o=o.insert(m.batchId,T)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),_=g.key,E=g.value,T=iv();E.forEach((A=>{if(!l.has(A)){const U=cv(t.get(A),s.get(A));U!==null&&T.set(A,U),l=l.add(A)}})),h.push(this.documentOverlayCache.saveOverlays(e,_,T))}return G.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return(function(h){return ve.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Z_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-l.size):G.resolve(as());let m=za,g=l;return h.next((_=>G.forEach(_,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),l.get(E)?G.resolve():this.remoteDocumentCache.getEntry(e,E).next((A=>{g=g.insert(E,A)}))))).next((()=>this.populateOverlays(e,_,l))).next((()=>this.computeViews(e,g,_,Fe()))).next((E=>({batchId:m,changes:rv(E)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next((s=>{let o=xa();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const l=t.collectionGroup;let h=xa();return this.indexManager.getCollectionParents(e,l).next((m=>G.forEach(m,(g=>{const _=(function(T,A){return new Do(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(t,g.child(l));return this.getDocumentsMatchingCollectionQuery(e,_,s,o).next((E=>{E.forEach(((T,A)=>{h=h.insert(T,A)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,o)))).next((h=>{l.forEach(((g,_)=>{const E=_.getKey();h.get(E)===null&&(h=h.insert(E,jt.newInvalidDocument(E)))}));let m=xa();return h.forEach(((g,_)=>{const E=l.get(g);E!==void 0&&Fa(E.mutation,_,hn.empty(),et.now()),Tc(t,_)&&(m=m.insert(g,_))})),m}))}}class r1{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return G.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:rr(o.createTime)}})(t)),G.resolve()}getNamedQuery(e,t){return G.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:WS(o.bundledQuery),readTime:rr(o.readTime)}})(t)),G.resolve()}}class i1{constructor(){this.overlays=new it(ve.comparator),this.qr=new Map}getOverlay(e,t){return G.resolve(this.overlays.get(t))}getOverlays(e,t){const s=as();return G.forEach(t,(o=>this.getOverlay(e,o).next((l=>{l!==null&&s.set(o,l)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,l)=>{this.St(e,t,l)})),G.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),G.resolve()}getOverlaysForCollection(e,t,s){const o=as(),l=t.length+1,h=new ve(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,_=g.getKey();if(!t.isPrefixOf(_.path))break;_.path.length===l&&g.largestBatchId>s&&o.set(g.getKey(),g)}return G.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let l=new it(((_,E)=>_-E));const h=this.overlays.getIterator();for(;h.hasNext();){const _=h.getNext().value;if(_.getKey().getCollectionGroup()===t&&_.largestBatchId>s){let E=l.get(_.largestBatchId);E===null&&(E=as(),l=l.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const m=as(),g=l.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((_,E)=>m.set(_,E))),!(m.size()>=o)););return G.resolve(m)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new TS(t,s));let l=this.qr.get(t);l===void 0&&(l=Fe(),this.qr.set(t,l)),this.qr.set(t,l.add(s.key))}}class s1{constructor(){this.sessionToken=xt.EMPTY_BYTE_STRING}getSessionToken(e){return G.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,G.resolve()}}class _d{constructor(){this.Qr=new Et(St.$r),this.Ur=new Et(St.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new St(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Gr(new St(e,t))}zr(e,t){e.forEach((s=>this.removeReference(s,t)))}jr(e){const t=new ve(new Ye([])),s=new St(t,e),o=new St(t,e+1),l=[];return this.Ur.forEachInRange([s,o],(h=>{this.Gr(h),l.push(h.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ve(new Ye([])),s=new St(t,e),o=new St(t,e+1);let l=Fe();return this.Ur.forEachInRange([s,o],(h=>{l=l.add(h.key)})),l}containsKey(e){const t=new St(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class St{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ve.comparator(e.key,t.key)||be(e.Yr,t.Yr)}static Kr(e,t){return be(e.Yr,t.Yr)||ve.comparator(e.key,t.key)}}class o1{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Et(St.$r)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new wS(l,t,s,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new St(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return G.resolve(h)}lookupMutationBatch(e,t){return G.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ei(s),l=o<0?0:o;return G.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?ld:this.tr-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new St(t,0),o=new St(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,o],(h=>{const m=this.Xr(h.Yr);l.push(m)})),G.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Et(be);return t.forEach((o=>{const l=new St(o,0),h=new St(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,h],(m=>{s=s.add(m.Yr)}))})),G.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let l=s;ve.isDocumentKey(l)||(l=l.child(""));const h=new St(new ve(l),0);let m=new Et(be);return this.Zr.forEachWhile((g=>{const _=g.key.path;return!!s.isPrefixOf(_)&&(_.length===o&&(m=m.add(g.Yr)),!0)}),h),G.resolve(this.ti(m))}ti(e){const t=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){We(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return G.forEach(t.mutations,(o=>{const l=new St(o.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,t){const s=new St(t,0),o=this.Zr.firstAfterOrEqual(s);return G.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class a1{constructor(e){this.ri=e,this.docs=(function(){return new it(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),l=o?o.size:0,h=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return G.resolve(s?s.document.mutableCopy():jt.newInvalidDocument(t))}getEntries(e,t){let s=Dr();return t.forEach((o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():jt.newInvalidDocument(o))})),G.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let l=Dr();const h=t.path,m=new ve(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:_,value:{document:E}}=g.getNext();if(!h.isPrefixOf(_.path))break;_.path.length>h.length+1||M0(O0(E),s)<=0||(o.has(E.key)||Tc(t,E))&&(l=l.insert(E.key,E.mutableCopy()))}return G.resolve(l)}getAllFromCollectionGroup(e,t,s,o){Ce(9500)}ii(e,t){return G.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new l1(this)}getSize(e){return G.resolve(this.size)}}class l1 extends e1{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),G.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class u1{constructor(e){this.persistence=e,this.si=new ps((t=>hd(t)),fd),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.oi=0,this._i=new _d,this.targetCount=0,this.ai=Io.ur()}forEachTarget(e,t){return this.si.forEach(((s,o)=>t(o))),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),G.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Io(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,G.resolve()}updateTargetData(e,t){return this.Pr(t),G.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,t,s){let o=0;const l=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.si.delete(h),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),G.waitFor(l).next((()=>o))}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return G.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),G.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach((h=>{l.push(o.markPotentiallyOrphaned(e,h))})),G.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),G.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return G.resolve(s)}containsKey(e,t){return G.resolve(this._i.containsKey(t))}}class Iv{constructor(e,t){this.ui={},this.overlays={},this.ci=new _c(0),this.li=!1,this.li=!0,this.hi=new s1,this.referenceDelegate=e(this),this.Pi=new u1(this),this.indexManager=new GS,this.remoteDocumentCache=(function(o){return new a1(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new HS(t),this.Ii=new r1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new i1,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new o1(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){he("MemoryPersistence","Starting transaction:",e);const o=new c1(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((l=>this.referenceDelegate.di(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ai(e,t){return G.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,t))))}}class c1 extends b0{constructor(e){super(),this.currentSequenceNumber=e}}class vd{constructor(e){this.persistence=e,this.Ri=new _d,this.Vi=null}static mi(e){return new vd(e)}get fi(){if(this.Vi)return this.Vi;throw Ce(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),G.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),G.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),G.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.fi,(s=>{const o=ve.fromPath(s);return this.gi(e,o).next((l=>{l||t.removeEntry(o,ke.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return G.or([()=>G.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class nc{constructor(e,t){this.persistence=e,this.pi=new ps((s=>j0(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=ZS(this,t)}static mi(e,t){return new nc(e,t)}Ei(){}di(e){return G.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((o=>s+o))))}wr(e){let t=0;return this.pr(e,(s=>{t++})).next((()=>t))}pr(e,t){return G.forEach(this.pi,((s,o)=>this.br(e,s,o).next((l=>l?G.resolve():t(o)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,t).next((m=>{m||(s++,l.removeEntry(h,ke.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),G.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),G.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),G.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),G.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Vu(e.data.value)),t}br(e,t,s){return G.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return G.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Ed{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=o}static As(e,t){let s=Fe(),o=Fe();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Ed(e,t.fromCache,s,o)}}class h1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class f1{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return iI()?8:F0(zt())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const l={result:null};return this.ys(e,t).next((h=>{l.result=h})).next((()=>{if(!l.result)return this.ws(e,t,o,s).next((h=>{l.result=h}))})).next((()=>{if(l.result)return;const h=new h1;return this.Ss(e,t,h).next((m=>{if(l.result=m,this.Vs)return this.bs(e,t,h,m.size)}))})).next((()=>l.result))}bs(e,t,s,o){return s.documentReadCount<this.fs?(so()<=Le.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",oo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),G.resolve()):(so()<=Le.DEBUG&&he("QueryEngine","Query:",oo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(so()<=Le.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",oo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,nr(t))):G.resolve())}ys(e,t){if(Zg(t))return G.resolve(null);let s=nr(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=jf(t,null,"F"),s=nr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const h=Fe(...l);return this.ps.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((g=>{const _=this.Ds(t,m);return this.Cs(t,_,h,g.readTime)?this.ys(e,jf(t,null,"F")):this.vs(e,_,t,g)}))))})))))}ws(e,t,s,o){return Zg(t)||o.isEqual(ke.min())?G.resolve(null):this.ps.getDocuments(e,s).next((l=>{const h=this.Ds(t,l);return this.Cs(t,h,s,o)?G.resolve(null):(so()<=Le.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),oo(t)),this.vs(e,h,t,V0(o,za)).next((m=>m)))}))}Ds(e,t){let s=new Et(tv(e));return t.forEach(((o,l)=>{Tc(e,l)&&(s=s.add(l))})),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,t,s){return so()<=Le.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",oo(t)),this.ps.getDocumentsMatchingQuery(e,t,Ii.min(),s)}vs(e,t,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((l=>(t.forEach((h=>{l=l.insert(h.key,h)})),l)))}}const wd="LocalStore",d1=3e8;class p1{constructor(e,t,s,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new it(be),this.xs=new ps((l=>hd(l)),fd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new n1(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function m1(r,e,t,s){return new p1(r,e,t,s)}async function Sv(r,e){const t=De(r);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((l=>(o=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(s)))).next((l=>{const h=[],m=[];let g=Fe();for(const _ of o){h.push(_.batchId);for(const E of _.mutations)g=g.add(E.key)}for(const _ of l){m.push(_.batchId);for(const E of _.mutations)g=g.add(E.key)}return t.localDocuments.getDocuments(s,g).next((_=>({Ls:_,removedBatchIds:h,addedBatchIds:m})))}))}))}function g1(r,e){const t=De(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,_,E){const T=_.batch,A=T.keys();let U=G.resolve();return A.forEach((q=>{U=U.next((()=>E.getEntry(g,q))).next((x=>{const M=_.docVersions.get(q);We(M!==null,48541),x.version.compareTo(M)<0&&(T.applyToRemoteDocument(x,_),x.isValidDocument()&&(x.setReadTime(_.commitVersion),E.addEntry(x)))}))})),U.next((()=>m.mutationQueue.removeMutationBatch(g,T)))})(t,s,e,l).next((()=>l.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=Fe();for(let _=0;_<m.mutationResults.length;++_)m.mutationResults[_].transformResults.length>0&&(g=g.add(m.batch.mutations[_].key));return g})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function Av(r){const e=De(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function y1(r,e){const t=De(r),s=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const h=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const m=[];e.targetChanges.forEach(((E,T)=>{const A=o.get(T);if(!A)return;m.push(t.Pi.removeMatchingKeys(l,E.removedDocuments,T).next((()=>t.Pi.addMatchingKeys(l,E.addedDocuments,T))));let U=A.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?U=U.withResumeToken(xt.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):E.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(E.resumeToken,s)),o=o.insert(T,U),(function(x,M,Z){return x.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=d1?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0})(A,U,E)&&m.push(t.Pi.updateTargetData(l,U))}));let g=Dr(),_=Fe();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,E))})),m.push(_1(l,h,e.documentUpdates).next((E=>{g=E.ks,_=E.qs}))),!s.isEqual(ke.min())){const E=t.Pi.getLastRemoteSnapshotVersion(l).next((T=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));m.push(E)}return G.waitFor(m).next((()=>h.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,g,_))).next((()=>g))})).then((l=>(t.Ms=o,l)))}function _1(r,e,t){let s=Fe(),o=Fe();return t.forEach((l=>s=s.add(l))),e.getEntries(r,s).next((l=>{let h=Dr();return t.forEach(((m,g)=>{const _=l.get(m);g.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(ke.min())?(e.removeEntry(m,g.readTime),h=h.insert(m,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(g),h=h.insert(m,g)):he(wd,"Ignoring outdated watch update for ",m,". Current version:",_.version," Watch version:",g.version)})),{ks:h,qs:o}}))}function v1(r,e){const t=De(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=ld),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function E1(r,e){const t=De(r);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.Pi.getTargetData(s,e).next((l=>l?(o=l,G.resolve(o)):t.Pi.allocateTargetId(s).next((h=>(o=new mi(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s}))}async function Hf(r,e,t){const s=De(r),o=s.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!No(h))throw h;he(wd,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function fy(r,e,t){const s=De(r);let o=ke.min(),l=Fe();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,_,E){const T=De(g),A=T.xs.get(E);return A!==void 0?G.resolve(T.Ms.get(A)):T.Pi.getTargetData(_,E)})(s,h,nr(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,m.targetId).next((g=>{l=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,t?o:ke.min(),t?l:Fe()))).next((m=>(w1(s,sS(e),m),{documents:m,Qs:l})))))}function w1(r,e,t){let s=r.Os.get(e)||ke.min();t.forEach(((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),r.Os.set(e,s)}class dy{constructor(){this.activeTargetIds=hS()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class T1{constructor(){this.Mo=new dy,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new dy,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class I1{Oo(e){}shutdown(){}}const py="ConnectivityMonitor";class my{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(py,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(py,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let ku=null;function Wf(){return ku===null?ku=(function(){return 268435456+Math.round(2147483648*Math.random())})():ku++,"0x"+ku.toString(16)}const vf="RestConnection",S1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class A1{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Xu?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,t,s,o,l){const h=Wf(),m=this.zo(e,t.toUriEncodedString());he(vf,`Sending RPC '${e}' ${h}:`,m,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,l);const{host:_}=new URL(m),E=Ro(_);return this.Jo(e,m,g,s,E).then((T=>(he(vf,`Received RPC '${e}' ${h}: `,T),T)),(T=>{throw vo(vf,`RPC '${e}' ${h} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,t,s,o,l,h){return this.Go(e,t,s,o,l)}jo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Po})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,l)=>e[l]=o)),s&&s.headers.forEach(((o,l)=>e[l]=o))}zo(e,t){const s=S1[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}class R1{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Ft="WebChannelConnection";class C1 extends A1{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,l){const h=Wf();return new Promise(((m,g)=>{const _=new C_;_.setWithCredentials(!0),_.listenOnce(P_.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case xu.NO_ERROR:const T=_.getResponseJson();he(Ft,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),m(T);break;case xu.TIMEOUT:he(Ft,`RPC '${e}' ${h} timed out`),g(new ue(W.DEADLINE_EXCEEDED,"Request time out"));break;case xu.HTTP_ERROR:const A=_.getStatus();if(he(Ft,`RPC '${e}' ${h} failed with status:`,A,"response text:",_.getResponseText()),A>0){let U=_.getResponseJson();Array.isArray(U)&&(U=U[0]);const q=U?.error;if(q&&q.status&&q.message){const x=(function(Z){const se=Z.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(se)>=0?se:W.UNKNOWN})(q.status);g(new ue(x,q.message))}else g(new ue(W.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new ue(W.UNAVAILABLE,"Connection failed."));break;default:Ce(9055,{l_:e,streamId:h,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{he(Ft,`RPC '${e}' ${h} completed.`)}}));const E=JSON.stringify(o);he(Ft,`RPC '${e}' ${h} sending request:`,o),_.send(t,"POST",E,s,15)}))}T_(e,t,s){const o=Wf(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=D_(),m=N_(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,t,s),g.encodeInitMessageHeaders=!0;const E=l.join("");he(Ft,`Creating RPC '${e}' stream ${o}: ${E}`,g);const T=h.createWebChannel(E,g);this.I_(T);let A=!1,U=!1;const q=new R1({Yo:M=>{U?he(Ft,`Not sending because RPC '${e}' stream ${o} is closed:`,M):(A||(he(Ft,`Opening RPC '${e}' stream ${o} transport.`),T.open(),A=!0),he(Ft,`RPC '${e}' stream ${o} sending:`,M),T.send(M))},Zo:()=>T.close()}),x=(M,Z,se)=>{M.listen(Z,(ae=>{try{se(ae)}catch(Ee){setTimeout((()=>{throw Ee}),0)}}))};return x(T,Da.EventType.OPEN,(()=>{U||(he(Ft,`RPC '${e}' stream ${o} transport opened.`),q.o_())})),x(T,Da.EventType.CLOSE,(()=>{U||(U=!0,he(Ft,`RPC '${e}' stream ${o} transport closed`),q.a_(),this.E_(T))})),x(T,Da.EventType.ERROR,(M=>{U||(U=!0,vo(Ft,`RPC '${e}' stream ${o} transport errored. Name:`,M.name,"Message:",M.message),q.a_(new ue(W.UNAVAILABLE,"The operation could not be completed")))})),x(T,Da.EventType.MESSAGE,(M=>{if(!U){const Z=M.data[0];We(!!Z,16349);const se=Z,ae=se?.error||se[0]?.error;if(ae){he(Ft,`RPC '${e}' stream ${o} received error:`,ae);const Ee=ae.status;let Ie=(function(I){const C=pt[I];if(C!==void 0)return fv(C)})(Ee),Se=ae.message;Ie===void 0&&(Ie=W.INTERNAL,Se="Unknown error status: "+Ee+" with message "+ae.message),U=!0,q.a_(new ue(Ie,Se)),T.close()}else he(Ft,`RPC '${e}' stream ${o} received:`,Z),q.u_(Z)}})),x(m,k_.STAT_EVENT,(M=>{M.stat===Vf.PROXY?he(Ft,`RPC '${e}' stream ${o} detected buffering proxy`):M.stat===Vf.NOPROXY&&he(Ft,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{q.__()}),0),q}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Ef(){return typeof document<"u"?document:null}function Rc(r){return new DS(r,!0)}class Rv{constructor(e,t,s=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const gy="PersistentStream";class Cv{constructor(e,t,s,o,l,h,m,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Rv(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===W.RESOURCE_EXHAUSTED?(Nr(t.toString()),Nr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===t&&this.G_(s,o)}),(s=>{e((()=>{const o=new ue(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(gy,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(he(gy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class P1 extends Cv{constructor(e,t,s,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=OS(this.serializer,e),s=(function(l){if(!("targetChange"in l))return ke.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?ke.min():h.readTime?rr(h.readTime):ke.min()})(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=qf(this.serializer),t.addTarget=(function(l,h){let m;const g=h.target;if(m=Ff(g)?{documents:bS(l,g)}:{query:FS(l,g).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=mv(l,h.resumeToken);const _=zf(l,h.expectedCount);_!==null&&(m.expectedCount=_)}else if(h.snapshotVersion.compareTo(ke.min())>0){m.readTime=tc(l,h.snapshotVersion.toTimestamp());const _=zf(l,h.expectedCount);_!==null&&(m.expectedCount=_)}return m})(this.serializer,e);const s=jS(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=qf(this.serializer),t.removeTarget=e,this.q_(t)}}class k1 extends Cv{constructor(e,t,s,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=LS(e.writeResults,e.commitTime),s=rr(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=qf(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>MS(this.serializer,s)))};this.q_(t)}}class N1{}class D1 extends N1{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ue(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,h])=>this.connection.Go(e,$f(t,s),o,l,h))).catch((l=>{throw l.name==="FirebaseError"?(l.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ue(W.UNKNOWN,l.toString())}))}Ho(e,t,s,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(e,$f(t,s),o,h,m,l))).catch((h=>{throw h.name==="FirebaseError"?(h.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ue(W.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class x1{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Nr(t),this.aa=!1):he("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const fs="RemoteStore";class V1{constructor(e,t,s,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{ms(this)&&(he(fs,"Restarting streams for network reachability change."),await(async function(g){const _=De(g);_.Ea.add(4),await nl(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Cc(_)})(this))}))})),this.Ra=new x1(s,o)}}async function Cc(r){if(ms(r))for(const e of r.da)await e(!0)}async function nl(r){for(const e of r.da)await e(!1)}function Pv(r,e){const t=De(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Ad(t)?Sd(t):xo(t).O_()&&Id(t,e))}function Td(r,e){const t=De(r),s=xo(t);t.Ia.delete(e),s.O_()&&kv(t,e),t.Ia.size===0&&(s.O_()?s.L_():ms(t)&&t.Ra.set("Unknown"))}function Id(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}xo(r).Y_(e)}function kv(r,e){r.Va.Ue(e),xo(r).Z_(e)}function Sd(r){r.Va=new CS({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),xo(r).start(),r.Ra.ua()}function Ad(r){return ms(r)&&!xo(r).x_()&&r.Ia.size>0}function ms(r){return De(r).Ea.size===0}function Nv(r){r.Va=void 0}async function O1(r){r.Ra.set("Online")}async function M1(r){r.Ia.forEach(((e,t)=>{Id(r,e)}))}async function L1(r,e){Nv(r),Ad(r)?(r.Ra.ha(e),Sd(r)):r.Ra.set("Unknown")}async function b1(r,e,t){if(r.Ra.set("Online"),e instanceof pv&&e.state===2&&e.cause)try{await(async function(o,l){const h=l.cause;for(const m of l.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){he(fs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await rc(r,s)}else if(e instanceof Lu?r.Va.Ze(e):e instanceof dv?r.Va.st(e):r.Va.tt(e),!t.isEqual(ke.min()))try{const s=await Av(r.localStore);t.compareTo(s)>=0&&await(function(l,h){const m=l.Va.Tt(h);return m.targetChanges.forEach(((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const E=l.Ia.get(_);E&&l.Ia.set(_,E.withResumeToken(g.resumeToken,h))}})),m.targetMismatches.forEach(((g,_)=>{const E=l.Ia.get(g);if(!E)return;l.Ia.set(g,E.withResumeToken(xt.EMPTY_BYTE_STRING,E.snapshotVersion)),kv(l,g);const T=new mi(E.target,g,_,E.sequenceNumber);Id(l,T)})),l.remoteSyncer.applyRemoteEvent(m)})(r,t)}catch(s){he(fs,"Failed to raise snapshot:",s),await rc(r,s)}}async function rc(r,e,t){if(!No(e))throw e;r.Ea.add(1),await nl(r),r.Ra.set("Offline"),t||(t=()=>Av(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{he(fs,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await Cc(r)}))}function Dv(r,e){return e().catch((t=>rc(r,t,e)))}async function Pc(r){const e=De(r),t=Ci(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ld;for(;F1(e);)try{const o=await v1(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,U1(e,o)}catch(o){await rc(e,o)}xv(e)&&Vv(e)}function F1(r){return ms(r)&&r.Ta.length<10}function U1(r,e){r.Ta.push(e);const t=Ci(r);t.O_()&&t.X_&&t.ea(e.mutations)}function xv(r){return ms(r)&&!Ci(r).x_()&&r.Ta.length>0}function Vv(r){Ci(r).start()}async function j1(r){Ci(r).ra()}async function z1(r){const e=Ci(r);for(const t of r.Ta)e.ea(t.mutations)}async function $1(r,e,t){const s=r.Ta.shift(),o=md.from(s,e,t);await Dv(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Pc(r)}async function B1(r,e){e&&Ci(r).X_&&await(async function(s,o){if((function(h){return SS(h)&&h!==W.ABORTED})(o.code)){const l=s.Ta.shift();Ci(s).B_(),await Dv(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o))),await Pc(s)}})(r,e),xv(r)&&Vv(r)}async function yy(r,e){const t=De(r);t.asyncQueue.verifyOperationInProgress(),he(fs,"RemoteStore received new credentials");const s=ms(t);t.Ea.add(3),await nl(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Cc(t)}async function q1(r,e){const t=De(r);e?(t.Ea.delete(2),await Cc(t)):e||(t.Ea.add(2),await nl(t),t.Ra.set("Unknown"))}function xo(r){return r.ma||(r.ma=(function(t,s,o){const l=De(t);return l.sa(),new P1(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(r.datastore,r.asyncQueue,{Xo:O1.bind(null,r),t_:M1.bind(null,r),r_:L1.bind(null,r),H_:b1.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Ad(r)?Sd(r):r.Ra.set("Unknown")):(await r.ma.stop(),Nv(r))}))),r.ma}function Ci(r){return r.fa||(r.fa=(function(t,s,o){const l=De(t);return l.sa(),new k1(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:j1.bind(null,r),r_:B1.bind(null,r),ta:z1.bind(null,r),na:$1.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Pc(r)):(await r.fa.stop(),r.Ta.length>0&&(he(fs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Rd{constructor(e,t,s,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new Ei,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,l){const h=Date.now()+s,m=new Rd(e,t,h,o,l);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cd(r,e){if(Nr("AsyncQueue",`${e}: ${r}`),No(r))return new ue(W.UNAVAILABLE,`${e}: ${r}`);throw r}class ho{static emptySet(e){return new ho(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ve.comparator(t.key,s.key):(t,s)=>ve.comparator(t.key,s.key),this.keyedMap=xa(),this.sortedSet=new it(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ho)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new ho;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class _y{constructor(){this.ga=new it(ve.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ce(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class So{constructor(e,t,s,o,l,h,m,g,_){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(e,t,s,o,l){const h=[];return t.forEach((m=>{h.push({type:0,doc:m})})),new So(e,t,ho.emptySet(t),h,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}class H1{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class W1{constructor(){this.queries=vy(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=De(t),l=o.queries;o.queries=vy(),l.forEach(((h,m)=>{for(const g of m.Sa)g.onError(s)}))})(this,new ue(W.ABORTED,"Firestore shutting down"))}}function vy(){return new ps((r=>ev(r)),wc)}async function G1(r,e){const t=De(r);let s=3;const o=e.query;let l=t.queries.get(o);l?!l.ba()&&e.Da()&&(s=2):(l=new H1,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await t.onListen(o,!0);break;case 1:l.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const m=Cd(h,`Initialization of query '${oo(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&Pd(t)}async function K1(r,e){const t=De(r),s=e.query;let o=3;const l=t.queries.get(s);if(l){const h=l.Sa.indexOf(e);h>=0&&(l.Sa.splice(h,1),l.Sa.length===0?o=e.Da()?0:1:!l.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function Q1(r,e){const t=De(r);let s=!1;for(const o of e){const l=o.query,h=t.queries.get(l);if(h){for(const m of h.Sa)m.Fa(o)&&(s=!0);h.wa=o}}s&&Pd(t)}function Y1(r,e,t){const s=De(r),o=s.queries.get(e);if(o)for(const l of o.Sa)l.onError(t);s.queries.delete(e)}function Pd(r){r.Ca.forEach((e=>{e.next()}))}var Gf,Ey;(Ey=Gf||(Gf={})).Ma="default",Ey.Cache="cache";class X1{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new So(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=So.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Gf.Cache}}class Ov{constructor(e){this.key=e}}class Mv{constructor(e){this.key=e}}class J1{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Fe(),this.mutatedKeys=Fe(),this.eu=tv(e),this.tu=new ho(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new _y,o=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const A=o.get(E),U=Tc(this.query,T)?T:null,q=!!A&&this.mutatedKeys.has(A.key),x=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let M=!1;A&&U?A.data.isEqual(U.data)?q!==x&&(s.track({type:3,doc:U}),M=!0):this.su(A,U)||(s.track({type:2,doc:U}),M=!0,(g&&this.eu(U,g)>0||_&&this.eu(U,_)<0)&&(m=!0)):!A&&U?(s.track({type:0,doc:U}),M=!0):A&&!U&&(s.track({type:1,doc:A}),M=!0,(g||_)&&(m=!0)),M&&(U?(h=h.add(U),l=x?l.add(E):l.delete(E)):(h=h.delete(E),l=l.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),l=l.delete(E.key),s.track({type:1,doc:E})}return{tu:h,iu:s,Cs:m,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((E,T)=>(function(U,q){const x=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce(20277,{Rt:M})}};return x(U)-x(q)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const m=t&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,_=g!==this.Za;return this.Za=g,h.length!==0||_?{snapshot:new So(this.query,e.tu,l,h,e.mutatedKeys,g===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new _y,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Fe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const t=[];return e.forEach((s=>{this.Xa.has(s)||t.push(new Mv(s))})),this.Xa.forEach((s=>{e.has(s)||t.push(new Ov(s))})),t}cu(e){this.Ya=e.Qs,this.Xa=Fe();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return So.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const kd="SyncEngine";class Z1{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class eA{constructor(e){this.key=e,this.hu=!1}}class tA{constructor(e,t,s,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new ps((m=>ev(m)),wc),this.Iu=new Map,this.Eu=new Set,this.du=new it(ve.comparator),this.Au=new Map,this.Ru=new _d,this.Vu={},this.mu=new Map,this.fu=Io.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function nA(r,e,t=!0){const s=zv(r);let o;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await Lv(s,e,t,!0),o}async function rA(r,e){const t=zv(r);await Lv(t,e,!0,!1)}async function Lv(r,e,t,s){const o=await E1(r.localStore,nr(e)),l=o.targetId,h=r.sharedClientState.addLocalQueryTarget(l,t);let m;return s&&(m=await iA(r,e,l,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&Pv(r.remoteStore,o),m}async function iA(r,e,t,s,o){r.pu=(T,A,U)=>(async function(x,M,Z,se){let ae=M.view.ru(Z);ae.Cs&&(ae=await fy(x.localStore,M.query,!1).then((({documents:N})=>M.view.ru(N,ae))));const Ee=se&&se.targetChanges.get(M.targetId),Ie=se&&se.targetMismatches.get(M.targetId)!=null,Se=M.view.applyChanges(ae,x.isPrimaryClient,Ee,Ie);return Ty(x,M.targetId,Se.au),Se.snapshot})(r,T,A,U);const l=await fy(r.localStore,e,!0),h=new J1(e,l.Qs),m=h.ru(l.documents),g=tl.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),_=h.applyChanges(m,r.isPrimaryClient,g);Ty(r,t,_.au);const E=new Z1(e,t,h);return r.Tu.set(e,E),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),_.snapshot}async function sA(r,e,t){const s=De(r),o=s.Tu.get(e),l=s.Iu.get(o.targetId);if(l.length>1)return s.Iu.set(o.targetId,l.filter((h=>!wc(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Hf(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Td(s.remoteStore,o.targetId),Kf(s,o.targetId)})).catch(ko)):(Kf(s,o.targetId),await Hf(s.localStore,o.targetId,!0))}async function oA(r,e){const t=De(r),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Td(t.remoteStore,s.targetId))}async function aA(r,e,t){const s=pA(r);try{const o=await(function(h,m){const g=De(h),_=et.now(),E=m.reduce(((U,q)=>U.add(q.key)),Fe());let T,A;return g.persistence.runTransaction("Locally write mutations","readwrite",(U=>{let q=Dr(),x=Fe();return g.Ns.getEntries(U,E).next((M=>{q=M,q.forEach(((Z,se)=>{se.isValidDocument()||(x=x.add(Z))}))})).next((()=>g.localDocuments.getOverlayedDocuments(U,q))).next((M=>{T=M;const Z=[];for(const se of m){const ae=vS(se,T.get(se.key).overlayedDocument);ae!=null&&Z.push(new Ni(se.key,ae,H_(ae.value.mapValue),On.exists(!0)))}return g.mutationQueue.addMutationBatch(U,_,Z,m)})).next((M=>{A=M;const Z=M.applyToLocalDocumentSet(T,x);return g.documentOverlayCache.saveOverlays(U,M.batchId,Z)}))})).then((()=>({batchId:A.batchId,changes:rv(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,g){let _=h.Vu[h.currentUser.toKey()];_||(_=new it(be)),_=_.insert(m,g),h.Vu[h.currentUser.toKey()]=_})(s,o.batchId,t),await rl(s,o.changes),await Pc(s.remoteStore)}catch(o){const l=Cd(o,"Failed to persist write");t.reject(l)}}async function bv(r,e){const t=De(r);try{const s=await y1(t.localStore,e);e.targetChanges.forEach(((o,l)=>{const h=t.Au.get(l);h&&(We(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?We(h.hu,14607):o.removedDocuments.size>0&&(We(h.hu,42227),h.hu=!1))})),await rl(t,s,e)}catch(s){await ko(s)}}function wy(r,e,t){const s=De(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach(((l,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const g=De(h);g.onlineState=m;let _=!1;g.queries.forEach(((E,T)=>{for(const A of T.Sa)A.va(m)&&(_=!0)})),_&&Pd(g)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function lA(r,e,t){const s=De(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),l=o&&o.key;if(l){let h=new it(ve.comparator);h=h.insert(l,jt.newNoDocument(l,ke.min()));const m=Fe().add(l),g=new Ac(ke.min(),new Map,new it(be),h,m);await bv(s,g),s.du=s.du.remove(l),s.Au.delete(e),Nd(s)}else await Hf(s.localStore,e,!1).then((()=>Kf(s,e,t))).catch(ko)}async function uA(r,e){const t=De(r),s=e.batch.batchId;try{const o=await g1(t.localStore,e);Uv(t,s,null),Fv(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await rl(t,o)}catch(o){await ko(o)}}async function cA(r,e,t){const s=De(r);try{const o=await(function(h,m){const g=De(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let E;return g.mutationQueue.lookupMutationBatch(_,m).next((T=>(We(T!==null,37113),E=T.keys(),g.mutationQueue.removeMutationBatch(_,T)))).next((()=>g.mutationQueue.performConsistencyCheck(_))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(_,E,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,E))).next((()=>g.localDocuments.getDocuments(_,E)))}))})(s.localStore,e);Uv(s,e,t),Fv(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await rl(s,o)}catch(o){await ko(o)}}function Fv(r,e){(r.mu.get(e)||[]).forEach((t=>{t.resolve()})),r.mu.delete(e)}function Uv(r,e,t){const s=De(r);let o=s.Vu[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Kf(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),t&&r.Pu.yu(s,t);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||jv(r,s)}))}function jv(r,e){r.Eu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(Td(r.remoteStore,t),r.du=r.du.remove(e),r.Au.delete(t),Nd(r))}function Ty(r,e,t){for(const s of t)s instanceof Ov?(r.Ru.addReference(s.key,e),hA(r,s)):s instanceof Mv?(he(kd,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||jv(r,s.key)):Ce(19791,{wu:s})}function hA(r,e){const t=e.key,s=t.path.canonicalString();r.du.get(t)||r.Eu.has(s)||(he(kd,"New document in limbo: "+t),r.Eu.add(s),Nd(r))}function Nd(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new ve(Ye.fromString(e)),s=r.fu.next();r.Au.set(s,new eA(t)),r.du=r.du.insert(t,s),Pv(r.remoteStore,new mi(nr(J_(t.path)),s,"TargetPurposeLimboResolution",_c.ce))}}async function rl(r,e,t){const s=De(r),o=[],l=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{h.push(s.pu(g,e,t).then((_=>{if((_||t)&&s.isPrimaryClient){const E=_?!_.fromCache:t?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(_){o.push(_);const E=Ed.As(g.targetId,_);l.push(E)}})))})),await Promise.all(h),s.Pu.H_(o),await(async function(g,_){const E=De(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>G.forEach(_,(A=>G.forEach(A.Es,(U=>E.persistence.referenceDelegate.addReference(T,A.targetId,U))).next((()=>G.forEach(A.ds,(U=>E.persistence.referenceDelegate.removeReference(T,A.targetId,U)))))))))}catch(T){if(!No(T))throw T;he(wd,"Failed to update sequence numbers: "+T)}for(const T of _){const A=T.targetId;if(!T.fromCache){const U=E.Ms.get(A),q=U.snapshotVersion,x=U.withLastLimboFreeSnapshotVersion(q);E.Ms=E.Ms.insert(A,x)}}})(s.localStore,l))}async function fA(r,e){const t=De(r);if(!t.currentUser.isEqual(e)){he(kd,"User change. New user:",e.toKey());const s=await Sv(t.localStore,e);t.currentUser=e,(function(l,h){l.mu.forEach((m=>{m.forEach((g=>{g.reject(new ue(W.CANCELLED,h))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await rl(t,s.Ls)}}function dA(r,e){const t=De(r),s=t.Au.get(e);if(s&&s.hu)return Fe().add(s.key);{let o=Fe();const l=t.Iu.get(e);if(!l)return o;for(const h of l){const m=t.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function zv(r){const e=De(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=bv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lA.bind(null,e),e.Pu.H_=Q1.bind(null,e.eventManager),e.Pu.yu=Y1.bind(null,e.eventManager),e}function pA(r){const e=De(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cA.bind(null,e),e}class ic{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return m1(this.persistence,new f1,e.initialUser,this.serializer)}Cu(e){return new Iv(vd.mi,this.serializer)}Du(e){return new T1}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ic.provider={build:()=>new ic};class mA extends ic{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){We(this.persistence.referenceDelegate instanceof nc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new XS(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Xt.withCacheSize(this.cacheSizeBytes):Xt.DEFAULT;return new Iv((s=>nc.mi(s,t)),this.serializer)}}class Qf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>wy(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=fA.bind(null,this.syncEngine),await q1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new W1})()}createDatastore(e){const t=Rc(e.databaseInfo.databaseId),s=(function(l){return new C1(l)})(e.databaseInfo);return(function(l,h,m,g){return new D1(l,h,m,g)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,l,h,m){return new V1(s,o,l,h,m)})(this.localStore,this.datastore,e.asyncQueue,(t=>wy(this.syncEngine,t,0)),(function(){return my.v()?new my:new I1})())}createSyncEngine(e,t){return(function(o,l,h,m,g,_,E){const T=new tA(o,l,h,m,g,_);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=De(t);he(fs,"RemoteStore shutting down."),s.Ea.add(5),await nl(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Qf.provider={build:()=>new Qf};class gA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Nr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Pi="FirestoreClient";class yA{constructor(e,t,s,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Ut.UNAUTHENTICATED,this.clientId=ad.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async h=>{he(Pi,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(he(Pi,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ei;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Cd(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function wf(r,e){r.asyncQueue.verifyOperationInProgress(),he(Pi,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Sv(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function Iy(r,e){r.asyncQueue.verifyOperationInProgress();const t=await _A(r);he(Pi,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((s=>yy(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>yy(e.remoteStore,o))),r._onlineComponents=e}async function _A(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){he(Pi,"Using user provided OfflineComponentProvider");try{await wf(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;vo("Error using user provided cache. Falling back to memory cache: "+t),await wf(r,new ic)}}else he(Pi,"Using default OfflineComponentProvider"),await wf(r,new mA(void 0));return r._offlineComponents}async function $v(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(he(Pi,"Using user provided OnlineComponentProvider"),await Iy(r,r._uninitializedComponentsProvider._online)):(he(Pi,"Using default OnlineComponentProvider"),await Iy(r,new Qf))),r._onlineComponents}function vA(r){return $v(r).then((e=>e.syncEngine))}async function EA(r){const e=await $v(r),t=e.eventManager;return t.onListen=nA.bind(null,e.syncEngine),t.onUnlisten=sA.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=rA.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=oA.bind(null,e.syncEngine),t}function wA(r,e,t={}){const s=new Ei;return r.asyncQueue.enqueueAndForget((async()=>(function(l,h,m,g,_){const E=new gA({next:A=>{E.Nu(),h.enqueueAndForget((()=>K1(l,T))),A.fromCache&&g.source==="server"?_.reject(new ue(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(A)},error:A=>_.reject(A)}),T=new X1(m,E,{includeMetadataChanges:!0,qa:!0});return G1(l,T)})(await EA(r),r.asyncQueue,e,t,s))),s.promise}function Bv(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const Sy=new Map;const qv="firestore.googleapis.com",Ay=!0;class Ry{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qv,this.ssl=Ay}else this.host=e.host,this.ssl=e.ssl??Ay;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Tv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<QS)throw new ue(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}x0("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Bv(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ue(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ue(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ue(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kc{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ry({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ry(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new T0;switch(s.type){case"firstParty":return new R0(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ue(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=Sy.get(t);s&&(he("ComponentProvider","Removing Datastore"),Sy.delete(t),s.terminate())})(this),Promise.resolve()}}function TA(r,e,t,s={}){r=hs(r,kc);const o=Ro(e),l=r._getSettings(),h={...l,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${t}`;o&&(__(`https://${m}`),v_("Firestore",!0)),l.host!==qv&&l.host!==m&&vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...l,host:m,ssl:o,emulatorOptions:s};if(!ls(g,h)&&(r._setSettings(g),s.mockUserToken)){let _,E;if(typeof s.mockUserToken=="string")_=s.mockUserToken,E=Ut.MOCK_USER;else{_=QT(s.mockUserToken,r._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new ue(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Ut(T)}r._authCredentials=new I0(new V_(_,E))}}class gs{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new gs(this.firestore,e,this._query)}}class vt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vt(this.firestore,e,this._key)}toJSON(){return{type:vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Za(t,vt._jsonSchema))return new vt(e,s||null,new ve(Ye.fromString(t.referencePath)))}}vt._jsonSchemaVersion="firestore/documentReference/1.0",vt._jsonSchema={type:gt("string",vt._jsonSchemaVersion),referencePath:gt("string")};class wi extends gs{constructor(e,t,s){super(e,t,J_(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vt(this.firestore,null,new ve(e))}withConverter(e){return new wi(this.firestore,e,this._path)}}function Hv(r,e,...t){if(r=Dt(r),O_("collection","path",e),r instanceof kc){const s=Ye.fromString(e,...t);return Ug(s),new wi(r,null,s)}{if(!(r instanceof vt||r instanceof wi))throw new ue(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Ye.fromString(e,...t));return Ug(s),new wi(r.firestore,null,s)}}function Yf(r,e,...t){if(r=Dt(r),arguments.length===1&&(e=ad.newId()),O_("doc","path",e),r instanceof kc){const s=Ye.fromString(e,...t);return Fg(s),new vt(r,null,new ve(s))}{if(!(r instanceof vt||r instanceof wi))throw new ue(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Ye.fromString(e,...t));return Fg(s),new vt(r.firestore,r instanceof wi?r.converter:null,new ve(s))}}const Cy="AsyncQueue";class Py{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Rv(this,"async_queue_retry"),this._c=()=>{const s=Ef();s&&he(Cy,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=Ef();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Ef();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Ei;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!No(e))throw e;he(Cy,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Nr("INTERNAL UNHANDLED ERROR: ",ky(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Rd.createAndSchedule(this,e,t,s,(l=>this.hc(l)));return this.tc.push(o),o}uc(){this.nc&&Ce(47125,{Pc:ky(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function ky(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class il extends kc{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new Py,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Py(e),this._firestoreClient=void 0,await e}}}function IA(r,e){const t=typeof r=="object"?r:I_(),s=typeof r=="string"?r:Xu,o=sd(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=GT("firestore");l&&TA(o,...l)}return o}function Wv(r){if(r._terminated)throw new ue(W.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||SA(r),r._firestoreClient}function SA(r){const e=r._freezeSettings(),t=(function(o,l,h,m){return new B0(o,l,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Bv(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new yA(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&(function(o){const l=o?._online.build();return{_offline:o?._offline.build(l),_online:l}})(r._componentsProvider))}class En{constructor(e){this._byteString=e}static fromBase64String(e){try{return new En(xt.fromBase64String(e))}catch(t){throw new ue(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new En(xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:En._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Za(e,En._jsonSchema))return En.fromBase64String(e.bytes)}}En._jsonSchemaVersion="firestore/bytes/1.0",En._jsonSchema={type:gt("string",En._jsonSchemaVersion),bytes:gt("string")};class Nc{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ue(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Dc{constructor(e){this._methodName=e}}class ir{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ue(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ue(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ir._jsonSchemaVersion}}static fromJSON(e){if(Za(e,ir._jsonSchema))return new ir(e.latitude,e.longitude)}}ir._jsonSchemaVersion="firestore/geoPoint/1.0",ir._jsonSchema={type:gt("string",ir._jsonSchemaVersion),latitude:gt("number"),longitude:gt("number")};class sr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:sr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Za(e,sr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new sr(e.vectorValues);throw new ue(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}sr._jsonSchemaVersion="firestore/vectorValue/1.0",sr._jsonSchema={type:gt("string",sr._jsonSchemaVersion),vectorValues:gt("object")};const AA=/^__.*__$/;class RA{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Ni(e,this.data,this.fieldMask,t,this.fieldTransforms):new el(e,this.data,t,this.fieldTransforms)}}class Gv{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Ni(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Kv(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce(40011,{Ac:r})}}class Dd{constructor(e,t,s,o,l,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Dd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return sc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Kv(this.Ac)&&AA.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class CA{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Rc(e)}Cc(e,t,s,o=!1){return new Dd({Ac:e,methodName:t,Dc:s,path:Nt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xd(r){const e=r._freezeSettings(),t=Rc(r._databaseId);return new CA(r._databaseId,!!e.ignoreUndefinedProperties,t)}function PA(r,e,t,s,o,l={}){const h=r.Cc(l.merge||l.mergeFields?2:0,e,t,o);Od("Data must be an object, but it was:",h,s);const m=Qv(s,h);let g,_;if(l.merge)g=new hn(h.fieldMask),_=h.fieldTransforms;else if(l.mergeFields){const E=[];for(const T of l.mergeFields){const A=Xf(e,T,t);if(!h.contains(A))throw new ue(W.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);Xv(E,A)||E.push(A)}g=new hn(E),_=h.fieldTransforms.filter((T=>g.covers(T.field)))}else g=null,_=h.fieldTransforms;return new RA(new Jt(m),g,_)}class xc extends Dc{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xc}}class Vd extends Dc{_toFieldTransform(e){return new mS(e.path,new Wa)}isEqual(e){return e instanceof Vd}}function kA(r,e,t,s){const o=r.Cc(1,e,t);Od("Data must be an object, but it was:",o,s);const l=[],h=Jt.empty();ki(s,((g,_)=>{const E=Md(e,g,t);_=Dt(_);const T=o.yc(E);if(_ instanceof xc)l.push(E);else{const A=sl(_,T);A!=null&&(l.push(E),h.set(E,A))}}));const m=new hn(l);return new Gv(h,m,o.fieldTransforms)}function NA(r,e,t,s,o,l){const h=r.Cc(1,e,t),m=[Xf(e,s,t)],g=[o];if(l.length%2!=0)throw new ue(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<l.length;A+=2)m.push(Xf(e,l[A])),g.push(l[A+1]);const _=[],E=Jt.empty();for(let A=m.length-1;A>=0;--A)if(!Xv(_,m[A])){const U=m[A];let q=g[A];q=Dt(q);const x=h.yc(U);if(q instanceof xc)_.push(U);else{const M=sl(q,x);M!=null&&(_.push(U),E.set(U,M))}}const T=new hn(_);return new Gv(E,T,h.fieldTransforms)}function DA(r,e,t,s=!1){return sl(t,r.Cc(s?4:3,e))}function sl(r,e){if(Yv(r=Dt(r)))return Od("Unsupported field value:",e,r),Qv(r,e);if(r instanceof Dc)return(function(s,o){if(!Kv(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const l=[];let h=0;for(const m of s){let g=sl(m,o.wc(h));g==null&&(g={nullValue:"NULL_VALUE"}),l.push(g),h++}return{arrayValue:{values:l}}})(r,e)}return(function(s,o){if((s=Dt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return fS(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=et.fromDate(s);return{timestampValue:tc(o.serializer,l)}}if(s instanceof et){const l=new et(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:tc(o.serializer,l)}}if(s instanceof ir)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof En)return{bytesValue:mv(o.serializer,s._byteString)};if(s instanceof vt){const l=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(l))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:yd(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof sr)return(function(h,m){return{mapValue:{fields:{[B_]:{stringValue:q_},[Ju]:{arrayValue:{values:h.toArray().map((_=>{if(typeof _!="number")throw m.Sc("VectorValues must only contain numeric values.");return dd(m.serializer,_)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${yc(s)}`)})(r,e)}function Qv(r,e){const t={};return b_(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ki(r,((s,o)=>{const l=sl(o,e.mc(s));l!=null&&(t[s]=l)})),{mapValue:{fields:t}}}function Yv(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof et||r instanceof ir||r instanceof En||r instanceof vt||r instanceof Dc||r instanceof sr)}function Od(r,e,t){if(!Yv(t)||!M_(t)){const s=yc(t);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function Xf(r,e,t){if((e=Dt(e))instanceof Nc)return e._internalPath;if(typeof e=="string")return Md(r,e);throw sc("Field path arguments must be of type string or ",r,!1,void 0,t)}const xA=new RegExp("[~\\*/\\[\\]]");function Md(r,e,t){if(e.search(xA)>=0)throw sc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Nc(...e.split("."))._internalPath}catch{throw sc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function sc(r,e,t,s,o){const l=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(l||h)&&(g+=" (found",l&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new ue(W.INVALID_ARGUMENT,m+r+g)}function Xv(r,e){return r.some((t=>t.isEqual(e)))}class Jv{constructor(e,t,s,o,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new VA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ld("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class VA extends Jv{data(){return super.data()}}function Ld(r,e){return typeof e=="string"?Md(r,e):e instanceof Nc?e._internalPath:e._delegate._internalPath}function OA(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ue(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bd{}class Zv extends bd{}function MA(r,e,...t){let s=[];e instanceof bd&&s.push(e),s=s.concat(t),(function(l){const h=l.filter((g=>g instanceof Ud)).length,m=l.filter((g=>g instanceof Fd)).length;if(h>1||h>0&&m>0)throw new ue(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class Fd extends Zv{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Fd(e,t,s)}_apply(e){const t=this._parse(e);return eE(e._query,t),new gs(e.firestore,e.converter,Uf(e._query,t))}_parse(e){const t=xd(e.firestore);return(function(l,h,m,g,_,E,T){let A;if(_.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ue(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Dy(T,E);const q=[];for(const x of T)q.push(Ny(g,l,x));A={arrayValue:{values:q}}}else A=Ny(g,l,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Dy(T,E),A=DA(m,h,T,E==="in"||E==="not-in");return mt.create(_,E,A)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Ud extends bd{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ud(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:Mn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,l){let h=o;const m=l.getFlattenedFilters();for(const g of m)eE(h,g),h=Uf(h,g)})(e._query,t),new gs(e.firestore,e.converter,Uf(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class jd extends Zv{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new jd(e,t)}_apply(e){const t=(function(o,l,h){if(o.startAt!==null)throw new ue(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ue(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ha(l,h)})(e._query,this._field,this._direction);return new gs(e.firestore,e.converter,(function(o,l){const h=o.explicitOrderBy.concat([l]);return new Do(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function LA(r,e="asc"){const t=e,s=Ld("orderBy",r);return jd._create(s,t)}function Ny(r,e,t){if(typeof(t=Dt(t))=="string"){if(t==="")throw new ue(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Z_(e)&&t.indexOf("/")!==-1)throw new ue(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Ye.fromString(t));if(!ve.isDocumentKey(s))throw new ue(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Gg(r,new ve(s))}if(t instanceof vt)return Gg(r,t._key);throw new ue(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yc(t)}.`)}function Dy(r,e){if(!Array.isArray(r)||r.length===0)throw new ue(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function eE(r,e){const t=(function(o,l){for(const h of o)for(const m of h.getFlattenedFilters())if(l.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ue(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class bA{convertValue(e,t="none"){switch(Ri(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ai(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return ki(e,((o,l)=>{s[o]=this.convertValue(l,t)})),s}convertVectorValue(e){const t=e.fields?.[Ju].arrayValue?.values?.map((s=>ct(s.doubleValue)));return new sr(t)}convertGeoPoint(e){return new ir(ct(e.latitude),ct(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Ec(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp($a(e));default:return null}}convertTimestamp(e){const t=Si(e);return new et(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Ye.fromString(e);We(wv(s),9688,{name:e});const o=new Ba(s.get(1),s.get(3)),l=new ve(s.popFirst(5));return o.isEqual(t)||Nr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function FA(r,e,t){let s;return s=r?r.toFirestore(e):e,s}class Nu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fo extends Jv{constructor(e,t,s,o,l,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new bu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Ld("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=fo._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}fo._jsonSchemaVersion="firestore/documentSnapshot/1.0",fo._jsonSchema={type:gt("string",fo._jsonSchemaVersion),bundleSource:gt("string","DocumentSnapshot"),bundleName:gt("string"),bundle:gt("string")};class bu extends fo{data(e={}){return super.data(e)}}class po{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Nu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new bu(this._firestore,this._userDataWriter,s.key,s,new Nu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ue(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const g=new bu(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Nu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>l||m.type!==3)).map((m=>{const g=new bu(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Nu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,E=-1;return m.type!==0&&(_=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:UA(m.type),doc:g,oldIndex:_,newIndex:E}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=po._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ad.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function UA(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce(61501,{type:r})}}po._jsonSchemaVersion="firestore/querySnapshot/1.0",po._jsonSchema={type:gt("string",po._jsonSchemaVersion),bundleSource:gt("string","QuerySnapshot"),bundleName:gt("string"),bundle:gt("string")};class jA extends bA{constructor(e){super(),this.firestore=e}convertBytes(e){return new En(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new vt(this.firestore,null,t)}}function zA(r){r=hs(r,gs);const e=hs(r.firestore,il),t=Wv(e),s=new jA(e);return OA(r._query),wA(t,r._query).then((o=>new po(e,s,r,o)))}function $A(r,e,t,...s){r=hs(r,vt);const o=hs(r.firestore,il),l=xd(o);let h;return h=typeof(e=Dt(e))=="string"||e instanceof Nc?NA(l,"updateDoc",r._key,e,t,s):kA(l,"updateDoc",r._key,e),zd(o,[h.toMutation(r._key,On.exists(!0))])}function BA(r){return zd(hs(r.firestore,il),[new pd(r._key,On.none())])}function qA(r,e){const t=hs(r.firestore,il),s=Yf(r),o=FA(r.converter,e);return zd(t,[PA(xd(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,On.exists(!1))]).then((()=>s))}function zd(r,e){return(function(s,o){const l=new Ei;return s.asyncQueue.enqueueAndForget((async()=>aA(await vA(s),o,l))),l.promise})(Wv(r),e)}function HA(){return new Vd("serverTimestamp")}(function(e,t=!0){(function(o){Po=o})(Co),_o(new us("firestore",((s,{instanceIdentifier:o,options:l})=>{const h=s.getProvider("app").getImmediate(),m=new il(new S0(s.getProvider("auth-internal")),new C0(h,s.getProvider("app-check-internal")),(function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ue(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ba(_.options.projectId,E)})(h,o),h);return l={useFetchStreams:t,...l},m._setSettings(l),m}),"PUBLIC").setMultipleInstances(!0)),_i(Og,Mg,e),_i(Og,Mg,"esm2020")})();var WA="firebase",GA="12.5.0";_i(WA,GA,"app");function tE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const KA=tE,nE=new Xa("auth","Firebase",tE());const oc=new rd("@firebase/auth");function QA(r,...e){oc.logLevel<=Le.WARN&&oc.warn(`Auth (${Co}): ${r}`,...e)}function Fu(r,...e){oc.logLevel<=Le.ERROR&&oc.error(`Auth (${Co}): ${r}`,...e)}function Ln(r,...e){throw $d(r,...e)}function or(r,...e){return $d(r,...e)}function rE(r,e,t){const s={...KA(),[e]:t};return new Xa("auth","Firebase",s).create(e,{appName:r.name})}function Ti(r){return rE(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $d(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return nE.create(r,...e)}function Re(r,e,...t){if(!r)throw $d(e,...t)}function Cr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Fu(e),new Error(e)}function xr(r,e){r||Cr(e)}function Jf(){return typeof self<"u"&&self.location?.href||""}function YA(){return xy()==="http:"||xy()==="https:"}function xy(){return typeof self<"u"&&self.location?.protocol||null}function XA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YA()||tI()||"connection"in navigator)?navigator.onLine:!0}function JA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class ol{constructor(e,t){this.shortDelay=e,this.longDelay=t,xr(t>e,"Short delay should be less than long delay!"),this.isMobile=JT()||nI()}get(){return XA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Bd(r,e){xr(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class iE{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ZA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const eR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],tR=new ol(3e4,6e4);function ys(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Di(r,e,t,s,o={}){return sE(r,o,async()=>{let l={},h={};s&&(e==="GET"?h=s:l={body:JSON.stringify(s)});const m=Ja({key:r.config.apiKey,...h}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const _={method:e,headers:g,...l};return eI()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&Ro(r.emulatorConfig.host)&&(_.credentials="include"),iE.fetch()(await oE(r,r.config.apiHost,t,m),_)})}async function sE(r,e,t){r._canInitEmulator=!1;const s={...ZA,...e};try{const o=new rR(r),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await l.json();if("needConfirmation"in h)throw Du(r,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const m=l.ok?h.errorMessage:h.error.message,[g,_]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Du(r,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw Du(r,"email-already-in-use",h);if(g==="USER_DISABLED")throw Du(r,"user-disabled",h);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw rE(r,E,_);Ln(r,E)}}catch(o){if(o instanceof Vr)throw o;Ln(r,"network-request-failed",{message:String(o)})}}async function Vc(r,e,t,s,o={}){const l=await Di(r,e,t,s,o);return"mfaPendingCredential"in l&&Ln(r,"multi-factor-auth-required",{_serverResponse:l}),l}async function oE(r,e,t,s){const o=`${e}${t}?${s}`,l=r,h=l.config.emulator?Bd(r.config,o):`${r.config.apiScheme}://${o}`;return eR.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(h).toString():h}function nR(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class rR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(or(this.auth,"network-request-failed")),tR.get())})}}function Du(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=or(r,e,s);return o.customData._tokenResponse=t,o}function Vy(r){return r!==void 0&&r.enterprise!==void 0}class iR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return nR(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function sR(r,e){return Di(r,"GET","/v2/recaptchaConfig",ys(r,e))}async function oR(r,e){return Di(r,"POST","/v1/accounts:delete",e)}async function ac(r,e){return Di(r,"POST","/v1/accounts:lookup",e)}function Ua(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function aR(r,e=!1){const t=Dt(r),s=await t.getIdToken(e),o=qd(s);Re(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,h=l?.sign_in_provider;return{claims:o,token:s,authTime:Ua(Tf(o.auth_time)),issuedAtTime:Ua(Tf(o.iat)),expirationTime:Ua(Tf(o.exp)),signInProvider:h||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Tf(r){return Number(r)*1e3}function qd(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return Fu("JWT malformed, contained fewer than 3 sections"),null;try{const o=p_(t);return o?JSON.parse(o):(Fu("Failed to decode base64 JWT payload"),null)}catch(o){return Fu("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Oy(r){const e=qd(r);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Qa(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Vr&&lR(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function lR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class uR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Zf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ua(this.lastLoginAt),this.creationTime=Ua(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function lc(r){const e=r.auth,t=await r.getIdToken(),s=await Qa(r,ac(e,{idToken:t}));Re(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const l=o.providerUserInfo?.length?aE(o.providerUserInfo):[],h=hR(r.providerData,l),m=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!h?.length,_=m?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Zf(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(r,E)}async function cR(r){const e=Dt(r);await lc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hR(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function aE(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function fR(r,e){const t=await sE(r,{},async()=>{const s=Ja({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=r.config,h=await oE(r,o,"/v1/token",`key=${l}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return r.emulatorConfig&&Ro(r.emulatorConfig.host)&&(g.credentials="include"),iE.fetch()(h,g)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function dR(r,e){return Di(r,"POST","/v2/accounts:revokeToken",ys(r,e))}class mo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Oy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const t=Oy(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:l}=await fR(e,t);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:l}=t,h=new mo;return s&&(Re(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Re(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),l&&(Re(typeof l=="number","internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new mo,this.toJSON())}_performRefresh(){return Cr("not implemented")}}function ui(r,e){Re(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Vn{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new uR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Zf(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Qa(this,this.stsTokenManager.getToken(this.auth,e));return Re(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return aR(this,e)}reload(){return cR(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Vn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await lc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xn(this.auth.app))return Promise.reject(Ti(this.auth));const e=await this.getIdToken();return await Qa(this,oR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,l=t.phoneNumber??void 0,h=t.photoURL??void 0,m=t.tenantId??void 0,g=t._redirectEventId??void 0,_=t.createdAt??void 0,E=t.lastLoginAt??void 0,{uid:T,emailVerified:A,isAnonymous:U,providerData:q,stsTokenManager:x}=t;Re(T&&x,e,"internal-error");const M=mo.fromJSON(this.name,x);Re(typeof T=="string",e,"internal-error"),ui(s,e.name),ui(o,e.name),Re(typeof A=="boolean",e,"internal-error"),Re(typeof U=="boolean",e,"internal-error"),ui(l,e.name),ui(h,e.name),ui(m,e.name),ui(g,e.name),ui(_,e.name),ui(E,e.name);const Z=new Vn({uid:T,auth:e,email:o,emailVerified:A,displayName:s,isAnonymous:U,photoURL:h,phoneNumber:l,tenantId:m,stsTokenManager:M,createdAt:_,lastLoginAt:E});return q&&Array.isArray(q)&&(Z.providerData=q.map(se=>({...se}))),g&&(Z._redirectEventId=g),Z}static async _fromIdTokenResponse(e,t,s=!1){const o=new mo;o.updateFromServerResponse(t);const l=new Vn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await lc(l),l}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Re(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?aE(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!l?.length,m=new mo;m.updateFromIdToken(s);const g=new Vn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Zf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(g,_),g}}const My=new Map;function Pr(r){xr(r instanceof Function,"Expected a class definition");let e=My.get(r);return e?(xr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,My.set(r,e),e)}class lE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}lE.type="NONE";const Ly=lE;function Uu(r,e,t){return`firebase:${r}:${e}:${t}`}class go{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=Uu(this.userKey,o.apiKey,l),this.fullPersistenceKey=Uu("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await ac(this.auth,{idToken:e}).catch(()=>{});return t?Vn._fromGetAccountInfoResponse(this.auth,t,e):null}return Vn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new go(Pr(Ly),e,s);const o=(await Promise.all(t.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let l=o[0]||Pr(Ly);const h=Uu(s,e.config.apiKey,e.name);let m=null;for(const _ of t)try{const E=await _._get(h);if(E){let T;if(typeof E=="string"){const A=await ac(e,{idToken:E}).catch(()=>{});if(!A)break;T=await Vn._fromGetAccountInfoResponse(e,A,E)}else T=Vn._fromJSON(e,E);_!==l&&(m=T),l=_;break}}catch{}const g=o.filter(_=>_._shouldAllowMigration);return!l._shouldAllowMigration||!g.length?new go(l,e,s):(l=g[0],m&&await l._set(h,m.toJSON()),await Promise.all(t.map(async _=>{if(_!==l)try{await _._remove(h)}catch{}})),new go(l,e,s))}}function by(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(fE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(uE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(pE(e))return"Blackberry";if(mE(e))return"Webos";if(cE(e))return"Safari";if((e.includes("chrome/")||hE(e))&&!e.includes("edge/"))return"Chrome";if(dE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if(s?.length===2)return s[1]}return"Other"}function uE(r=zt()){return/firefox\//i.test(r)}function cE(r=zt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hE(r=zt()){return/crios\//i.test(r)}function fE(r=zt()){return/iemobile/i.test(r)}function dE(r=zt()){return/android/i.test(r)}function pE(r=zt()){return/blackberry/i.test(r)}function mE(r=zt()){return/webos/i.test(r)}function Hd(r=zt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function pR(r=zt()){return Hd(r)&&!!window.navigator?.standalone}function mR(){return rI()&&document.documentMode===10}function gE(r=zt()){return Hd(r)||dE(r)||mE(r)||pE(r)||/windows phone/i.test(r)||fE(r)}function yE(r,e=[]){let t;switch(r){case"Browser":t=by(zt());break;case"Worker":t=`${by(zt())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Co}/${s}`}class gR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((h,m)=>{try{const g=e(l);h(g)}catch(g){m(g)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function yR(r,e={}){return Di(r,"GET","/v2/passwordPolicy",ys(r,e))}const _R=6;class vR{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??_R,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class ER{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fy(this),this.idTokenSubscription=new Fy(this),this.beforeStateQueue=new gR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Pr(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await go.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await ac(this,{idToken:e}),s=await Vn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(xn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(h,h))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!l||l===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await lc(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=JA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xn(this.app))return Promise.reject(Ti(this));const t=e?Dt(e):null;return t&&Re(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xn(this.app)?Promise.reject(Ti(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xn(this.app)?Promise.reject(Ti(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Pr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await yR(this),t=new vR(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xa("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await dR(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Pr(e)||this._popupRedirectResolver;Re(t,this,"argument-error"),this.redirectPersistenceManager=await go.create(this,[Pr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(m,this,"internal-error"),m.then(()=>{h||l(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,s,o);return()=>{h=!0,g()}}else{const g=e.addObserver(t);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&QA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Vo(r){return Dt(r)}class Fy{constructor(e){this.auth=e,this.observer=null,this.addObserver=hI(t=>this.observer=t)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Oc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wR(r){Oc=r}function _E(r){return Oc.loadJS(r)}function TR(){return Oc.recaptchaEnterpriseScript}function IR(){return Oc.gapiScript}function SR(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class AR{constructor(){this.enterprise=new RR}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class RR{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const CR="recaptcha-enterprise",vE="NO_RECAPTCHA";class PR{constructor(e){this.type=CR,this.auth=Vo(e)}async verify(e="verify",t=!1){async function s(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(h,m)=>{sR(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const _=new iR(g);return l.tenantId==null?l._agentRecaptchaConfig=_:l._tenantRecaptchaConfigs[l.tenantId]=_,h(_.siteKey)}}).catch(g=>{m(g)})})}function o(l,h,m){const g=window.grecaptcha;Vy(g)?g.enterprise.ready(()=>{g.enterprise.execute(l,{action:e}).then(_=>{h(_)}).catch(()=>{h(vE)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new AR().execute("siteKey",{action:"verify"}):new Promise((l,h)=>{s(this.auth).then(m=>{if(!t&&Vy(window.grecaptcha))o(m,l,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=TR();g.length!==0&&(g+=m),_E(g).then(()=>{o(m,l,h)}).catch(_=>{h(_)})}}).catch(m=>{h(m)})})}}async function Uy(r,e,t,s=!1,o=!1){const l=new PR(r);let h;if(o)h=vE;else try{h=await l.verify(t)}catch{h=await l.verify(t,!0)}const m={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,_=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:_,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function jy(r,e,t,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Uy(r,e,t,t==="getOobCode");return s(r,l)}else return s(r,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await Uy(r,e,t,t==="getOobCode");return s(r,h)}else return Promise.reject(l)})}function kR(r,e){const t=sd(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(ls(l,e??{}))return o;Ln(o,"already-initialized")}return t.initialize({options:e})}function NR(r,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(Pr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function DR(r,e,t){const s=Vo(r);Re(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,l=EE(e),{host:h,port:m}=xR(e),g=m===null?"":`:${m}`,_={url:`${l}//${h}${g}/`},E=Object.freeze({host:h,port:m,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Re(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Re(ls(_,s.config.emulator)&&ls(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Ro(h)?(__(`${l}//${h}${g}`),v_("Auth",!0)):VR()}function EE(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function xR(r){const e=EE(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:zy(s.substr(l.length+1))}}else{const[l,h]=s.split(":");return{host:l,port:zy(h)}}}function zy(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function VR(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Wd{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Cr("not implemented")}_getIdTokenResponse(e){return Cr("not implemented")}_linkToIdToken(e,t){return Cr("not implemented")}_getReauthenticationResolver(e){return Cr("not implemented")}}async function OR(r,e){return Di(r,"POST","/v1/accounts:signUp",e)}async function MR(r,e){return Vc(r,"POST","/v1/accounts:signInWithPassword",ys(r,e))}async function LR(r,e){return Vc(r,"POST","/v1/accounts:signInWithEmailLink",ys(r,e))}async function bR(r,e){return Vc(r,"POST","/v1/accounts:signInWithEmailLink",ys(r,e))}class Ya extends Wd{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Ya(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Ya(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jy(e,t,"signInWithPassword",MR);case"emailLink":return LR(e,{email:this._email,oobCode:this._password});default:Ln(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jy(e,s,"signUpPassword",OR);case"emailLink":return bR(e,{idToken:t,email:this._email,oobCode:this._password});default:Ln(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function yo(r,e){return Vc(r,"POST","/v1/accounts:signInWithIdp",ys(r,e))}const FR="http://localhost";class ds extends Wd{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ds(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ln("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...l}=t;if(!s||!o)return null;const h=new ds(s,o);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return yo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,yo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,yo(e,t)}buildRequest(){const e={requestUri:FR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ja(t)}return e}}function UR(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function jR(r){const e=ka(Na(r)).link,t=e?ka(Na(e)).deep_link_id:null,s=ka(Na(r)).deep_link_id;return(s?ka(Na(s)).link:null)||s||t||e||r}class Gd{constructor(e){const t=ka(Na(e)),s=t.apiKey??null,o=t.oobCode??null,l=UR(t.mode??null);Re(s&&o&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=jR(e);try{return new Gd(t)}catch{return null}}}class Oo{constructor(){this.providerId=Oo.PROVIDER_ID}static credential(e,t){return Ya._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Gd.parseLink(t);return Re(s,"argument-error"),Ya._fromEmailAndCode(e,s.code,s.tenantId)}}Oo.PROVIDER_ID="password";Oo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Oo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class wE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class al extends wE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ci extends al{constructor(){super("facebook.com")}static credential(e){return ds._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ci.credential(e.oauthAccessToken)}catch{return null}}}ci.FACEBOOK_SIGN_IN_METHOD="facebook.com";ci.PROVIDER_ID="facebook.com";class hi extends al{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ds._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return hi.credential(t,s)}catch{return null}}}hi.GOOGLE_SIGN_IN_METHOD="google.com";hi.PROVIDER_ID="google.com";class fi extends al{constructor(){super("github.com")}static credential(e){return ds._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fi.credential(e.oauthAccessToken)}catch{return null}}}fi.GITHUB_SIGN_IN_METHOD="github.com";fi.PROVIDER_ID="github.com";class di extends al{constructor(){super("twitter.com")}static credential(e,t){return ds._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return di.credential(t,s)}catch{return null}}}di.TWITTER_SIGN_IN_METHOD="twitter.com";di.PROVIDER_ID="twitter.com";class Ao{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const l=await Vn._fromIdTokenResponse(e,s,o),h=$y(s);return new Ao({user:l,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=$y(s);return new Ao({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function $y(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class uc extends Vr{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,uc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new uc(e,t,s,o)}}function TE(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?uc._fromErrorAndOperation(r,l,e,s):l})}async function zR(r,e,t=!1){const s=await Qa(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Ao._forOperation(r,"link",s)}async function $R(r,e,t=!1){const{auth:s}=r;if(xn(s.app))return Promise.reject(Ti(s));const o="reauthenticate";try{const l=await Qa(r,TE(s,o,e,r),t);Re(l.idToken,s,"internal-error");const h=qd(l.idToken);Re(h,s,"internal-error");const{sub:m}=h;return Re(r.uid===m,s,"user-mismatch"),Ao._forOperation(r,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&Ln(s,"user-mismatch"),l}}async function IE(r,e,t=!1){if(xn(r.app))return Promise.reject(Ti(r));const s="signIn",o=await TE(r,s,e),l=await Ao._fromIdTokenResponse(r,s,o);return t||await r._updateCurrentUser(l.user),l}async function BR(r,e){return IE(Vo(r),e)}async function qR(r){const e=Vo(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function HR(r,e,t){return xn(r.app)?Promise.reject(Ti(r)):BR(Dt(r),Oo.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&qR(r),s})}function WR(r,e,t,s){return Dt(r).onIdTokenChanged(e,t,s)}function GR(r,e,t){return Dt(r).beforeAuthStateChanged(e,t)}function KR(r){return Dt(r).signOut()}const cc="__sak";class SE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(cc,"1"),this.storage.removeItem(cc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const QR=1e3,YR=10;class AE extends SE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=gE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,m,g)=>{this.notifyListeners(h,g)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},l=this.storage.getItem(s);mR()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,YR):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},QR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}AE.type="LOCAL";const XR=AE;class RE extends SE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}RE.type="SESSION";const CE=RE;function JR(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Mc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Mc(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:l}=t.data,h=this.handlersMap[o];if(!h?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async _=>_(t.origin,l)),g=await JR(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mc.receivers=[];function Kd(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}class ZR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,h;return new Promise((m,g)=>{const _=Kd("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const A=T;if(A.data.eventId===_)switch(A.data.status){case"ack":clearTimeout(E),l=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),m(A.data.response);break;default:clearTimeout(E),clearTimeout(l),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:_,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function ar(){return window}function eC(r){ar().location.href=r}function PE(){return typeof ar().WorkerGlobalScope<"u"&&typeof ar().importScripts=="function"}async function tC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nC(){return navigator?.serviceWorker?.controller||null}function rC(){return PE()?self:null}const kE="firebaseLocalStorageDb",iC=1,hc="firebaseLocalStorage",NE="fbase_key";class ll{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Lc(r,e){return r.transaction([hc],e?"readwrite":"readonly").objectStore(hc)}function sC(){const r=indexedDB.deleteDatabase(kE);return new ll(r).toPromise()}function ed(){const r=indexedDB.open(kE,iC);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(hc,{keyPath:NE})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(hc)?e(s):(s.close(),await sC(),e(await ed()))})})}async function By(r,e,t){const s=Lc(r,!0).put({[NE]:e,value:t});return new ll(s).toPromise()}async function oC(r,e){const t=Lc(r,!1).get(e),s=await new ll(t).toPromise();return s===void 0?null:s.value}function qy(r,e){const t=Lc(r,!0).delete(e);return new ll(t).toPromise()}const aC=800,lC=3;class DE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ed(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>lC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return PE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mc._getInstance(rC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await tC(),!this.activeServiceWorker)return;this.sender=new ZR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ed();return await By(e,cc,"1"),await qy(e,cc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>By(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>oC(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>qy(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Lc(o,!1).getAll();return new ll(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}DE.type="LOCAL";const uC=DE;new ol(3e4,6e4);function cC(r,e){return e?Pr(e):(Re(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Qd extends Wd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return yo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return yo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function hC(r){return IE(r.auth,new Qd(r),r.bypassAuthState)}function fC(r){const{auth:e,user:t}=r;return Re(t,e,"internal-error"),$R(t,new Qd(r),r.bypassAuthState)}async function dC(r){const{auth:e,user:t}=r;return Re(t,e,"internal-error"),zR(t,new Qd(r),r.bypassAuthState)}class xE{constructor(e,t,s,o,l=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:l,error:h,type:m}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hC;case"linkViaPopup":case"linkViaRedirect":return dC;case"reauthViaPopup":case"reauthViaRedirect":return fC;default:Ln(this.auth,"internal-error")}}resolve(e){xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const pC=new ol(2e3,1e4);class uo extends xE{constructor(e,t,s,o,l){super(e,t,o,l),this.provider=s,this.authWindow=null,this.pollId=null,uo.currentPopupAction&&uo.currentPopupAction.cancel(),uo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){xr(this.filter.length===1,"Popup operations only handle one event");const e=Kd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(or(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(or(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,uo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(or(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pC.get())};e()}}uo.currentPopupAction=null;const mC="pendingRedirect",ju=new Map;class gC extends xE{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=ju.get(this.auth._key());if(!e){try{const s=await yC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}ju.set(this.auth._key(),e)}return this.bypassAuthState||ju.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yC(r,e){const t=EC(e),s=vC(r);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function _C(r,e){ju.set(r._key(),e)}function vC(r){return Pr(r._redirectPersistence)}function EC(r){return Uu(mC,r.config.apiKey,r.name)}async function wC(r,e,t=!1){if(xn(r.app))return Promise.reject(Ti(r));const s=Vo(r),o=cC(s,e),h=await new gC(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const TC=600*1e3;class IC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!SC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!VE(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(or(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=TC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hy(e))}saveEventToCache(e){this.cachedEventUids.add(Hy(e)),this.lastProcessedEventTime=Date.now()}}function Hy(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function VE({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function SC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return VE(r);default:return!1}}async function AC(r,e={}){return Di(r,"GET","/v1/projects",e)}const RC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,CC=/^https?/;async function PC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await AC(r);for(const t of e)try{if(kC(t))return}catch{}Ln(r,"unauthorized-domain")}function kC(r){const e=Jf(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!CC.test(t))return!1;if(RC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const NC=new ol(3e4,6e4);function Wy(){const r=ar().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function DC(r){return new Promise((e,t)=>{function s(){Wy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Wy(),t(or(r,"network-request-failed"))},timeout:NC.get()})}if(ar().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ar().gapi?.load)s();else{const o=SR("iframefcb");return ar()[o]=()=>{gapi.load?s():t(or(r,"network-request-failed"))},_E(`${IR()}?onload=${o}`).catch(l=>t(l))}}).catch(e=>{throw zu=null,e})}let zu=null;function xC(r){return zu=zu||DC(r),zu}const VC=new ol(5e3,15e3),OC="__/auth/iframe",MC="emulator/auth/iframe",LC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function FC(r){const e=r.config;Re(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Bd(e,MC):`https://${r.config.authDomain}/${OC}`,s={apiKey:e.apiKey,appName:r.name,v:Co},o=bC.get(r.config.apiHost);o&&(s.eid=o);const l=r._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${Ja(s).slice(1)}`}async function UC(r){const e=await xC(r),t=ar().gapi;return Re(t,r,"internal-error"),e.open({where:document.body,url:FC(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:LC,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const h=or(r,"network-request-failed"),m=ar().setTimeout(()=>{l(h)},VC.get());function g(){ar().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{l(h)})}))}const jC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zC=500,$C=600,BC="_blank",qC="http://localhost";class Gy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function HC(r,e,t,s=zC,o=$C){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...jC,width:s.toString(),height:o.toString(),top:l,left:h},_=zt().toLowerCase();t&&(m=hE(_)?BC:t),uE(_)&&(e=e||qC,g.scrollbars="yes");const E=Object.entries(g).reduce((A,[U,q])=>`${A}${U}=${q},`,"");if(pR(_)&&m!=="_self")return WC(e||"",m),new Gy(null);const T=window.open(e||"",m,E);Re(T,r,"popup-blocked");try{T.focus()}catch{}return new Gy(T)}function WC(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}const GC="__/auth/handler",KC="emulator/auth/handler",QC=encodeURIComponent("fac");async function Ky(r,e,t,s,o,l){Re(r.config.authDomain,r,"auth-domain-config-required"),Re(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:Co,eventId:o};if(e instanceof wE){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",cI(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))h[E]=T}if(e instanceof al){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(h.scopes=E.join(","))}r.tenantId&&(h.tid=r.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await r._getAppCheckToken(),_=g?`#${QC}=${encodeURIComponent(g)}`:"";return`${YC(r)}?${Ja(m).slice(1)}${_}`}function YC({config:r}){return r.emulator?Bd(r,KC):`https://${r.authDomain}/${GC}`}const If="webStorageSupport";class XC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=CE,this._completeRedirectFn=wC,this._overrideRedirectResult=_C}async _openPopup(e,t,s,o){xr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await Ky(e,t,s,Jf(),o);return HC(e,l,Kd())}async _openRedirect(e,t,s,o){await this._originValidation(e);const l=await Ky(e,t,s,Jf(),o);return eC(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(xr(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await UC(e),s=new IC(e);return t.register("authEvent",o=>(Re(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(If,{type:If},o=>{const l=o?.[0]?.[If];l!==void 0&&t(!!l),Ln(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=PC(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return gE()||cE()||Hd()}}const JC=XC;var Qy="@firebase/auth",Yy="1.11.1";class ZC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function eP(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tP(r){_o(new us("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;Re(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:h,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yE(r)},_=new ER(s,o,l,g);return NR(_,t),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),_o(new us("auth-internal",e=>{const t=Vo(e.getProvider("auth").getImmediate());return(s=>new ZC(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),_i(Qy,Yy,eP(r)),_i(Qy,Yy,"esm2020")}const nP=300,rP=y_("authIdTokenMaxAge")||nP;let Xy=null;const iP=r=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>rP)return;const o=t?.token;Xy!==o&&(Xy=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function sP(r=I_()){const e=sd(r,"auth");if(e.isInitialized())return e.getImmediate();const t=kR(r,{popupRedirectResolver:JC,persistence:[uC,XR,CE]}),s=y_("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const h=iP(l.toString());GR(t,h,()=>h(t.currentUser)),WR(t,m=>h(m))}}const o=m_("auth");return o&&DR(t,`http://${o}`),t}function oP(){return document.getElementsByTagName("head")?.[0]??document}wR({loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const l=or("internal-error");l.customData=o,t(l)},s.type="text/javascript",s.charset="UTF-8",oP().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tP("Browser");const aP={apiKey:"AIzaSyDT11WuRIhOu4NjgvRsOp6EhBo26He0kgQ",authDomain:"e-commerce-single-39476.firebaseapp.com",projectId:"e-commerce-single-39476",storageBucket:"e-commerce-single-39476.firebasestorage.app",messagingSenderId:"532587296773",appId:"1:532587296773:web:353ab409b409b25a252bbf846c"},OE=T_(aP),$u=IA(OE),Sf=sP(OE),lP=HA;var Bu={exports:{}},uP=Bu.exports,Jy;function cP(){return Jy||(Jy=1,(function(r,e){(function(t,s){r.exports=s()})(uP,(function(){var t=1e3,s=6e4,o=36e5,l="millisecond",h="second",m="minute",g="hour",_="day",E="week",T="month",A="quarter",U="year",q="date",x="Invalid Date",M=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,Z=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,se={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(le){var ne=["th","st","nd","rd"],te=le%100;return"["+le+(ne[(te-20)%10]||ne[te]||ne[0])+"]"}},ae=function(le,ne,te){var oe=String(le);return!oe||oe.length>=ne?le:""+Array(ne+1-oe.length).join(te)+le},Ee={s:ae,z:function(le){var ne=-le.utcOffset(),te=Math.abs(ne),oe=Math.floor(te/60),$=te%60;return(ne<=0?"+":"-")+ae(oe,2,"0")+":"+ae($,2,"0")},m:function le(ne,te){if(ne.date()<te.date())return-le(te,ne);var oe=12*(te.year()-ne.year())+(te.month()-ne.month()),$=ne.clone().add(oe,T),X=te-$<0,K=ne.clone().add(oe+(X?-1:1),T);return+(-(oe+(te-$)/(X?$-K:K-$))||0)},a:function(le){return le<0?Math.ceil(le)||0:Math.floor(le)},p:function(le){return{M:T,y:U,w:E,d:_,D:q,h:g,m,s:h,ms:l,Q:A}[le]||String(le||"").toLowerCase().replace(/s$/,"")},u:function(le){return le===void 0}},Ie="en",Se={};Se[Ie]=se;var N="$isDayjsObject",I=function(le){return le instanceof L||!(!le||!le[N])},C=function le(ne,te,oe){var $;if(!ne)return Ie;if(typeof ne=="string"){var X=ne.toLowerCase();Se[X]&&($=X),te&&(Se[X]=te,$=X);var K=ne.split("-");if(!$&&K.length>1)return le(K[0])}else{var V=ne.name;Se[V]=ne,$=V}return!oe&&$&&(Ie=$),$||!oe&&Ie},k=function(le,ne){if(I(le))return le.clone();var te=typeof ne=="object"?ne:{};return te.date=le,te.args=arguments,new L(te)},P=Ee;P.l=C,P.i=I,P.w=function(le,ne){return k(le,{locale:ne.$L,utc:ne.$u,x:ne.$x,$offset:ne.$offset})};var L=(function(){function le(te){this.$L=C(te.locale,null,!0),this.parse(te),this.$x=this.$x||te.x||{},this[N]=!0}var ne=le.prototype;return ne.parse=function(te){this.$d=(function(oe){var $=oe.date,X=oe.utc;if($===null)return new Date(NaN);if(P.u($))return new Date;if($ instanceof Date)return new Date($);if(typeof $=="string"&&!/Z$/i.test($)){var K=$.match(M);if(K){var V=K[2]-1||0,H=(K[7]||"0").substring(0,3);return X?new Date(Date.UTC(K[1],V,K[3]||1,K[4]||0,K[5]||0,K[6]||0,H)):new Date(K[1],V,K[3]||1,K[4]||0,K[5]||0,K[6]||0,H)}}return new Date($)})(te),this.init()},ne.init=function(){var te=this.$d;this.$y=te.getFullYear(),this.$M=te.getMonth(),this.$D=te.getDate(),this.$W=te.getDay(),this.$H=te.getHours(),this.$m=te.getMinutes(),this.$s=te.getSeconds(),this.$ms=te.getMilliseconds()},ne.$utils=function(){return P},ne.isValid=function(){return this.$d.toString()!==x},ne.isSame=function(te,oe){var $=k(te);return this.startOf(oe)<=$&&$<=this.endOf(oe)},ne.isAfter=function(te,oe){return k(te)<this.startOf(oe)},ne.isBefore=function(te,oe){return this.endOf(oe)<k(te)},ne.$g=function(te,oe,$){return P.u(te)?this[oe]:this.set($,te)},ne.unix=function(){return Math.floor(this.valueOf()/1e3)},ne.valueOf=function(){return this.$d.getTime()},ne.startOf=function(te,oe){var $=this,X=!!P.u(oe)||oe,K=P.p(te),V=function(Ue,He){var $t=P.w($.$u?Date.UTC($.$y,He,Ue):new Date($.$y,He,Ue),$);return X?$t:$t.endOf(_)},H=function(Ue,He){return P.w($.toDate()[Ue].apply($.toDate("s"),(X?[0,0,0,0]:[23,59,59,999]).slice(He)),$)},me=this.$W,ye=this.$M,Ae=this.$D,xe="set"+(this.$u?"UTC":"");switch(K){case U:return X?V(1,0):V(31,11);case T:return X?V(1,ye):V(0,ye+1);case E:var Oe=this.$locale().weekStart||0,Ve=(me<Oe?me+7:me)-Oe;return V(X?Ae-Ve:Ae+(6-Ve),ye);case _:case q:return H(xe+"Hours",0);case g:return H(xe+"Minutes",1);case m:return H(xe+"Seconds",2);case h:return H(xe+"Milliseconds",3);default:return this.clone()}},ne.endOf=function(te){return this.startOf(te,!1)},ne.$set=function(te,oe){var $,X=P.p(te),K="set"+(this.$u?"UTC":""),V=($={},$[_]=K+"Date",$[q]=K+"Date",$[T]=K+"Month",$[U]=K+"FullYear",$[g]=K+"Hours",$[m]=K+"Minutes",$[h]=K+"Seconds",$[l]=K+"Milliseconds",$)[X],H=X===_?this.$D+(oe-this.$W):oe;if(X===T||X===U){var me=this.clone().set(q,1);me.$d[V](H),me.init(),this.$d=me.set(q,Math.min(this.$D,me.daysInMonth())).$d}else V&&this.$d[V](H);return this.init(),this},ne.set=function(te,oe){return this.clone().$set(te,oe)},ne.get=function(te){return this[P.p(te)]()},ne.add=function(te,oe){var $,X=this;te=Number(te);var K=P.p(oe),V=function(ye){var Ae=k(X);return P.w(Ae.date(Ae.date()+Math.round(ye*te)),X)};if(K===T)return this.set(T,this.$M+te);if(K===U)return this.set(U,this.$y+te);if(K===_)return V(1);if(K===E)return V(7);var H=($={},$[m]=s,$[g]=o,$[h]=t,$)[K]||1,me=this.$d.getTime()+te*H;return P.w(me,this)},ne.subtract=function(te,oe){return this.add(-1*te,oe)},ne.format=function(te){var oe=this,$=this.$locale();if(!this.isValid())return $.invalidDate||x;var X=te||"YYYY-MM-DDTHH:mm:ssZ",K=P.z(this),V=this.$H,H=this.$m,me=this.$M,ye=$.weekdays,Ae=$.months,xe=$.meridiem,Oe=function(He,$t,wn,en){return He&&(He[$t]||He(oe,X))||wn[$t].slice(0,en)},Ve=function(He){return P.s(V%12||12,He,"0")},Ue=xe||function(He,$t,wn){var en=He<12?"AM":"PM";return wn?en.toLowerCase():en};return X.replace(Z,(function(He,$t){return $t||(function(wn){switch(wn){case"YY":return String(oe.$y).slice(-2);case"YYYY":return P.s(oe.$y,4,"0");case"M":return me+1;case"MM":return P.s(me+1,2,"0");case"MMM":return Oe($.monthsShort,me,Ae,3);case"MMMM":return Oe(Ae,me);case"D":return oe.$D;case"DD":return P.s(oe.$D,2,"0");case"d":return String(oe.$W);case"dd":return Oe($.weekdaysMin,oe.$W,ye,2);case"ddd":return Oe($.weekdaysShort,oe.$W,ye,3);case"dddd":return ye[oe.$W];case"H":return String(V);case"HH":return P.s(V,2,"0");case"h":return Ve(1);case"hh":return Ve(2);case"a":return Ue(V,H,!0);case"A":return Ue(V,H,!1);case"m":return String(H);case"mm":return P.s(H,2,"0");case"s":return String(oe.$s);case"ss":return P.s(oe.$s,2,"0");case"SSS":return P.s(oe.$ms,3,"0");case"Z":return K}return null})(He)||K.replace(":","")}))},ne.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},ne.diff=function(te,oe,$){var X,K=this,V=P.p(oe),H=k(te),me=(H.utcOffset()-this.utcOffset())*s,ye=this-H,Ae=function(){return P.m(K,H)};switch(V){case U:X=Ae()/12;break;case T:X=Ae();break;case A:X=Ae()/3;break;case E:X=(ye-me)/6048e5;break;case _:X=(ye-me)/864e5;break;case g:X=ye/o;break;case m:X=ye/s;break;case h:X=ye/t;break;default:X=ye}return $?X:P.a(X)},ne.daysInMonth=function(){return this.endOf(T).$D},ne.$locale=function(){return Se[this.$L]},ne.locale=function(te,oe){if(!te)return this.$L;var $=this.clone(),X=C(te,oe,!0);return X&&($.$L=X),$},ne.clone=function(){return P.w(this.$d,this)},ne.toDate=function(){return new Date(this.valueOf())},ne.toJSON=function(){return this.isValid()?this.toISOString():null},ne.toISOString=function(){return this.$d.toISOString()},ne.toString=function(){return this.$d.toUTCString()},le})(),R=L.prototype;return k.prototype=R,[["$ms",l],["$s",h],["$m",m],["$H",g],["$W",_],["$M",T],["$y",U],["$D",q]].forEach((function(le){R[le[1]]=function(ne){return this.$g(ne,le[0],le[1])}})),k.extend=function(le,ne){return le.$i||(le(ne,L,k),le.$i=!0),k},k.locale=C,k.isDayjs=I,k.unix=function(le){return k(1e3*le)},k.en=Se[Ie],k.Ls=Se,k.p={},k}))})(Bu)),Bu.exports}var hP=cP();const Yd=fc(hP);var qu={exports:{}},fP=qu.exports,Zy;function dP(){return Zy||(Zy=1,(function(r,e){(function(t,s){r.exports=s()})(fP,(function(){var t="minute",s=/[+-]\d\d(?::?\d\d)?/g,o=/([+-]|\d\d)/g;return function(l,h,m){var g=h.prototype;m.utc=function(x){var M={date:x,utc:!0,args:arguments};return new h(M)},g.utc=function(x){var M=m(this.toDate(),{locale:this.$L,utc:!0});return x?M.add(this.utcOffset(),t):M},g.local=function(){return m(this.toDate(),{locale:this.$L,utc:!1})};var _=g.parse;g.parse=function(x){x.utc&&(this.$u=!0),this.$utils().u(x.$offset)||(this.$offset=x.$offset),_.call(this,x)};var E=g.init;g.init=function(){if(this.$u){var x=this.$d;this.$y=x.getUTCFullYear(),this.$M=x.getUTCMonth(),this.$D=x.getUTCDate(),this.$W=x.getUTCDay(),this.$H=x.getUTCHours(),this.$m=x.getUTCMinutes(),this.$s=x.getUTCSeconds(),this.$ms=x.getUTCMilliseconds()}else E.call(this)};var T=g.utcOffset;g.utcOffset=function(x,M){var Z=this.$utils().u;if(Z(x))return this.$u?0:Z(this.$offset)?T.call(this):this.$offset;if(typeof x=="string"&&(x=(function(Ie){Ie===void 0&&(Ie="");var Se=Ie.match(s);if(!Se)return null;var N=(""+Se[0]).match(o)||["-",0,0],I=N[0],C=60*+N[1]+ +N[2];return C===0?0:I==="+"?C:-C})(x),x===null))return this;var se=Math.abs(x)<=16?60*x:x;if(se===0)return this.utc(M);var ae=this.clone();if(M)return ae.$offset=se,ae.$u=!1,ae;var Ee=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();return(ae=this.local().add(se+Ee,t)).$offset=se,ae.$x.$localOffset=Ee,ae};var A=g.format;g.format=function(x){var M=x||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return A.call(this,M)},g.valueOf=function(){var x=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*x},g.isUTC=function(){return!!this.$u},g.toISOString=function(){return this.toDate().toISOString()},g.toString=function(){return this.toDate().toUTCString()};var U=g.toDate;g.toDate=function(x){return x==="s"&&this.$offset?m(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():U.call(this)};var q=g.diff;g.diff=function(x,M,Z){if(x&&this.$u===x.$u)return q.call(this,x,M,Z);var se=this.local(),ae=m(x).local();return q.call(se,ae,M,Z)}}}))})(qu)),qu.exports}var pP=dP();const mP=fc(pP);var Hu={exports:{}},gP=Hu.exports,e_;function yP(){return e_||(e_=1,(function(r,e){(function(t,s){r.exports=s()})(gP,(function(){var t={year:0,month:1,day:2,hour:3,minute:4,second:5},s={};return function(o,l,h){var m,g=function(A,U,q){q===void 0&&(q={});var x=new Date(A),M=(function(Z,se){se===void 0&&(se={});var ae=se.timeZoneName||"short",Ee=Z+"|"+ae,Ie=s[Ee];return Ie||(Ie=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:Z,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:ae}),s[Ee]=Ie),Ie})(U,q);return M.formatToParts(x)},_=function(A,U){for(var q=g(A,U),x=[],M=0;M<q.length;M+=1){var Z=q[M],se=Z.type,ae=Z.value,Ee=t[se];Ee>=0&&(x[Ee]=parseInt(ae,10))}var Ie=x[3],Se=Ie===24?0:Ie,N=x[0]+"-"+x[1]+"-"+x[2]+" "+Se+":"+x[4]+":"+x[5]+":000",I=+A;return(h.utc(N).valueOf()-(I-=I%1e3))/6e4},E=l.prototype;E.tz=function(A,U){A===void 0&&(A=m);var q,x=this.utcOffset(),M=this.toDate(),Z=M.toLocaleString("en-US",{timeZone:A}),se=Math.round((M-new Date(Z))/1e3/60),ae=15*-Math.round(M.getTimezoneOffset()/15)-se;if(!Number(ae))q=this.utcOffset(0,U);else if(q=h(Z,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(ae,!0),U){var Ee=q.utcOffset();q=q.add(x-Ee,"minute")}return q.$x.$timezone=A,q},E.offsetName=function(A){var U=this.$x.$timezone||h.tz.guess(),q=g(this.valueOf(),U,{timeZoneName:A}).find((function(x){return x.type.toLowerCase()==="timezonename"}));return q&&q.value};var T=E.startOf;E.startOf=function(A,U){if(!this.$x||!this.$x.$timezone)return T.call(this,A,U);var q=h(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return T.call(q,A,U).tz(this.$x.$timezone,!0)},h.tz=function(A,U,q){var x=q&&U,M=q||U||m,Z=_(+h(),M);if(typeof A!="string")return h(A).tz(M);var se=(function(Se,N,I){var C=Se-60*N*1e3,k=_(C,I);if(N===k)return[C,N];var P=_(C-=60*(k-N)*1e3,I);return k===P?[C,k]:[Se-60*Math.min(k,P)*1e3,Math.max(k,P)]})(h.utc(A,x).valueOf(),Z,M),ae=se[0],Ee=se[1],Ie=h(ae).utcOffset(Ee);return Ie.$x.$timezone=M,Ie},h.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},h.tz.setDefault=function(A){m=A}}}))})(Hu)),Hu.exports}var _P=yP();const vP=fc(_P);function EP(r,e){window.fbq&&window.fbq("track",r,e)}Yd.extend(mP);Yd.extend(vP);function wP({product:r,onClose:e}){const[t,s]=_e.useState(1),[o,l]=_e.useState(""),[h,m]=_e.useState(""),[g,_]=_e.useState(""),[E,T]=_e.useState(!1),[A,U]=_e.useState("");async function q(){if(!o||!h||!g){alert("Please fill name, phone and address");return}T(!0);try{const x=Yd().tz("Asia/Dhaka").format("YYYY-MM-DD HH:mm:ss"),M=await qA(Hv($u,"orders"),{productId:r.id,productTitle:r.title,price:r.price,quantity:t,name:o,phone:h,address:g,status:"pending",createdAt:lP(),date_local_dhaka:x}),Z=r.price*t;try{EP("Purchase",{value:Z,currency:"BDT",content_ids:[r.id],content_name:r.title})}catch{}U("Order placed. ID: "+M.id),setTimeout(()=>{e()},1200)}catch(x){console.error(x),alert("Failed to place order")}finally{T(!1)}}return ie.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-end md:items-center justify-center p-4",children:ie.jsxs("div",{className:"bg-white rounded-xl w-full md:w-2/3 p-6",children:[ie.jsxs("div",{className:"flex justify-between items-center",children:[ie.jsxs("h3",{className:"text-lg font-semibold",children:["Order  ",r.title]}),ie.jsx("button",{onClick:e,className:"text-gray-500",children:""})]}),ie.jsxs("div",{className:"mt-4 grid gap-3",children:[ie.jsx("input",{type:"number",min:1,value:t,onChange:x=>s(Number(x.target.value)),className:"border px-3 py-2 rounded"}),ie.jsx("input",{placeholder:"Full name",value:o,onChange:x=>l(x.target.value),className:"border px-3 py-2 rounded"}),ie.jsx("input",{placeholder:"Phone",value:h,onChange:x=>m(x.target.value),className:"border px-3 py-2 rounded"}),ie.jsx("textarea",{placeholder:"Address",value:g,onChange:x=>_(x.target.value),className:"border px-3 py-2 rounded"}),ie.jsxs("div",{className:"flex gap-3",children:[ie.jsx("button",{onClick:q,disabled:E,className:"btn",children:"Place Order"}),ie.jsx("button",{onClick:e,className:"btn-ghost",children:"Cancel"})]}),A&&ie.jsx("p",{className:"text-green-600",children:A})]})]})})}const TP="/assets/1-pgpQqkxc.jpg",IP="/assets/2-Dy_AZx0y.jpg",ss={id:"prod-001",title:"     !",description:"                       ,        ,                   ",price:",",regularPrice:",",images:[TP,IP]};function SP(){const[r,e]=_e.useState(0),[t,s]=_e.useState(!1);return ie.jsxs("div",{className:"card",children:[ie.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[ie.jsxs("div",{children:[ie.jsx("img",{src:ss.images[r],alt:"product",className:"w-full rounded-lg"}),ie.jsx("div",{className:"flex gap-3 mt-3",children:ss.images.map((o,l)=>ie.jsx("img",{src:o,alt:`thumb-${l}`,className:`w-20 h-14 object-cover rounded-md cursor-pointer ${l===r?"ring-2 ring-blue-600":""}`,onClick:()=>e(l)},l))})]}),ie.jsxs("div",{children:[ie.jsx("h2",{className:"text-2xl font-bold",children:ss.title}),ie.jsx("p",{className:"text-gray-500 mt-2",children:ss.description}),ie.jsxs("div",{className:"mt-4 flex items-center gap-4",children:[ie.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[" ",ss.price]}),ie.jsxs("div",{className:"text-sm text-gray-400 line-through",children:[" ",ss.regularPrice]})]}),ie.jsx("div",{className:"mt-6",children:ie.jsx("button",{className:"btn",onClick:()=>s(!0),children:"Buy Now"})})]})]}),t&&ie.jsx(wP,{product:ss,onClose:()=>s(!1)})]})}function AP(){const[r,e]=_e.useState(null),[t,s]=_e.useState(""),[o,l]=_e.useState(""),[h,m]=_e.useState([]),[g,_]=_e.useState(!1);async function E(x){x&&x.preventDefault(),_(!0);try{const M=await HR(Sf,t,o);e(M.user),A()}catch(M){console.error(M),alert("Login failed")}finally{_(!1)}}async function T(){await KR(Sf),e(null),m([])}async function A(){_(!0);try{const x=MA(Hv($u,"orders"),LA("createdAt","desc")),Z=(await zA(x)).docs.map(se=>({id:se.id,...se.data()}));m(Z)}catch(x){console.error(x),alert("Fetch failed")}finally{_(!1)}}async function U(x){try{await $A(Yf($u,"orders",x),{status:"confirmed"}),m(M=>M.map(Z=>Z.id===x?{...Z,status:"confirmed"}:Z))}catch(M){console.error(M),alert("Confirm failed")}}async function q(x){if(confirm("Delete order "+x+"?"))try{await BA(Yf($u,"orders",x)),m(M=>M.filter(Z=>Z.id!==x))}catch(M){console.error(M),alert("Delete failed")}}return _e.useEffect(()=>{const x=Sf.onAuthStateChanged(M=>{e(M),M&&A()});return()=>x()},[]),ie.jsx("div",{className:"card",children:r?ie.jsxs("div",{children:[ie.jsxs("div",{className:"flex items-center justify-between",children:[ie.jsx("h2",{className:"text-xl font-semibold",children:"Orders"}),ie.jsxs("div",{className:"flex gap-2",children:[ie.jsx("button",{onClick:A,className:"btn-ghost",children:"Refresh"}),ie.jsx("button",{onClick:T,className:"btn-ghost",children:"Logout"})]})]}),ie.jsx("div",{className:"mt-4 overflow-auto",children:ie.jsxs("table",{className:"w-full table-auto",children:[ie.jsx("thead",{children:ie.jsxs("tr",{className:"text-left text-sm text-gray-600",children:[ie.jsx("th",{className:"py-2",children:"ID"}),ie.jsx("th",{children:"Product"}),ie.jsx("th",{children:"Qty"}),ie.jsx("th",{children:"Name"}),ie.jsx("th",{children:"Phone"}),ie.jsx("th",{children:"Address"}),ie.jsx("th",{children:"Status"}),ie.jsx("th",{children:"Actions"})]})}),ie.jsx("tbody",{children:h.map(x=>ie.jsxs("tr",{className:"border-t",children:[ie.jsx("td",{className:"py-2 text-sm",children:x.id}),ie.jsx("td",{children:x.productTitle}),ie.jsx("td",{children:x.quantity}),ie.jsx("td",{children:x.name}),ie.jsx("td",{children:x.phone}),ie.jsx("td",{className:"whitespace-pre-wrap",children:x.address}),ie.jsx("td",{children:x.status}),ie.jsxs("td",{children:[x.status!=="confirmed"&&ie.jsx("button",{onClick:()=>U(x.id),className:"btn-ghost mr-2",children:"Confirm"}),ie.jsx("button",{onClick:()=>q(x.id),className:"btn-ghost",children:"Delete"})]})]},x.id))})]})})]}):ie.jsxs("div",{className:"max-w-md",children:[ie.jsx("h2",{className:"text-xl font-semibold",children:"Admin Login"}),ie.jsxs("form",{onSubmit:E,className:"mt-4 grid gap-3",children:[ie.jsx("input",{placeholder:"email",value:t,onChange:x=>s(x.target.value),className:"border px-3 py-2 rounded"}),ie.jsx("input",{placeholder:"password",type:"password",value:o,onChange:x=>l(x.target.value),className:"border px-3 py-2 rounded"}),ie.jsx("div",{className:"flex gap-3",children:ie.jsx("button",{className:"btn",disabled:g,children:"Login"})})]})]})})}function RP(){return ie.jsxs("div",{className:"min-h-screen flex flex-col",children:[ie.jsx("header",{className:"bg-blue-600 text-white",children:ie.jsx("div",{className:"container flex items-center justify-between py-4",children:ie.jsx("h1",{className:"text-lg font-semibold",children:"E-ecommerce"})})}),ie.jsx("main",{className:"flex-1 py-8",children:ie.jsx("div",{className:"container",children:ie.jsxs(MT,{children:[ie.jsx(Rf,{path:"/",element:ie.jsx(SP,{})}),ie.jsx(Rf,{path:"/admin/*",element:ie.jsx(AP,{})})]})})}),ie.jsx("footer",{className:"bg-white border-t py-4",children:ie.jsxs("div",{className:"container text-center text-sm text-gray-500",children:[" ",new Date().getFullYear()," bdz-ecommerce"]})})]})}const CP=document.getElementById("root"),PP=Yw.createRoot(CP);PP.render(ie.jsx(t_.StrictMode,{children:ie.jsx(FT,{children:ie.jsx(RP,{})})}));
